{"period": {"starts": "01/09/1978 00:00:00 +0000", "ends": "07/09/2017 00:00:00 +0000"}, "query": "", "window": {"size": 4, "amount": 12, "mode": "GLOBAL"}, "sector": {"label": "krita"}, "sectors": [{"angle": 0.021, "label": "Eugene Ingerman", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Add antialiasing to createThumbnailDevice\n\nSummary:\n1. Added oversampling/antialising to createThumbnailDevice. Interpolation is done using KisTransformWorker with bilinear interpolation. Added parameter that controls oversampling ratio.\n2. Added benchmark for new thumbnail code. Results for 6Kx8K image turned into 640px thumbnail see below. About 2x hit in time for 2x oversampling. Quality with 2x oversampling is much better than no oversampling. 4x oversampling slightly better, but not dramatically. See below.\n3. Changed oversampling for overview widget to 2x.\n4. Fixed caching of oversampled thumbnails.\n5. Fixed up functions calls to createThumbnail.\n\n{F156583}\nNo Oversampling\n\n{F156585}\n2x Oversampling\n\n{F156586}\n4x Oversampling\n\nPASS   : KisThumbnailBenchmark::benchmarkCreateThumbnail()\nRESULT : KisThumbnailBenchmark::benchmarkCreateThumbnail():\n     161 msecs per iteration (total: 161, iterations: 1)\nPASS   : KisThumbnailBenchmark::benchmarkCreateThumbnailCached()\nRESULT : KisThumbnailBenchmark::benchmarkCreateThumbnailCached():\n     0.000059 msecs per iteration (total: 62, iterations: 1048576)\nPASS   : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQ()\nRESULT : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQ():\n     3,962 msecs per iteration (total: 3,962, iterations: 1)\nPASS   : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQcreateThumbOversample2x()\nRESULT : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQcreateThumbOversample2x():\n     269 msecs per iteration (total: 269, iterations: 1)\nPASS   : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQcreateThumbOversample3x()\nRESULT : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQcreateThumbOversample3x():\n     489 msecs per iteration (total: 489, iterations: 1)\nPASS   : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQcreateThumbOversample4x()\nRESULT : KisThumbnailBenchmark::benchmarkCreateThumbnailHiQcreateThumbOversample4x():\n     701 msecs per iteration (total: 701, iterations: 1)\n\nTest Plan: Run KisThumbnailBenchmark.\n\nReviewers: rempt, dkazakov, woltherav\n\nReviewed By: rempt, woltherav\n\nSubscribers: woltherav\n\nDifferential Revision: https://phabricator.kde.org/D1979"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Extending time for projection to finish. This is an attempt to fix jenkins unit test failure. Unit test works fine outside jenkins, suspecting timing."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of ssh://phabricator.kde.org/diffusion/KRITA/krita"}}, {"color": "FFFF0000", "data": {"message": "Fixing https://bugs.kde.org/show_bug.cgi?id=367901. Removing wait which\ncauses possible race condition."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of ssh://phabricator.kde.org/diffusion/KRITA/krita"}}, {"color": "FFFF0000", "data": {"message": "Fixing Jenkins tests\n\nSummary: Fixing unit tests that are failing in Jenkins runs.\n\nTest Plan: Verify that Jenkins completes without errors\n\nReviewers: dkazakov, #krita\n\nReviewed By: dkazakov, #krita\n\nSubscribers: dkazakov, woltherav\n\nDifferential Revision: https://phabricator.kde.org/D2617"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into eingerman/unit_test_fix"}}, {"color": "FFFF0000", "data": {"message": "Addressing code review comments."}}, {"color": "FFFF0000", "data": {"message": "No need to change alarm value."}}, {"color": "FFFF0000", "data": {"message": "Reducing number of iterations to reduce runtime."}}, {"color": "FFFF0000", "data": {"message": "Allocated as array should be deleted as array."}}, {"color": "FFFF0000", "data": {"message": "Proofing conversion should fail because color is out of gamut."}}, {"color": "FFFF0000", "data": {"message": "Fixed KisDerivedResourcesTest. Some messages were missing."}}, {"color": "FFFF0000", "data": {"message": "Reducing number of iterations to avoid test timeouts."}}, {"color": "FFFF0000", "data": {"message": "Fixing incorrect reference transformed window size."}}, {"color": "FFFF0000", "data": {"message": "Fixing incorrect reference brush size."}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Fixed metadata editor. Resource file extension had been changed, but\ncode in kis_meta_data_editor.cc wasn't updated. Ref T3591"}}, {"color": "FFFF0000", "data": {"message": "Check pointer before using it. Fixing assert when image is open from command line."}}, {"color": "FFFF0000", "data": {"message": "Fixing https://bugs.kde.org/show_bug.cgi?id=367901. Removing wait which\ncauses possible race condition."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of ssh://phabricator.kde.org/diffusion/KRITA/krita"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'eingerman/overviewdocker_bug_367901'"}}, {"color": "FFFF0000", "data": {"message": "Reverting all my changes, they make jenkins sad."}}, {"color": "FFFF0000", "data": {"message": "Trying to fix strange jenkins build failure"}}, {"color": "FFFF0000", "data": {"message": "Triggering rebuild"}}, {"color": "FFFF0000", "data": {"message": "Splitting tests to satisfy 2min limit that jenkins imposes on tests."}}]}, {"position": 12, "molecules": [{"color": "FFFF0000", "data": {"message": "Should build the collection tree\n\nDifferential Revision: https://phabricator.kde.org/D12"}}]}]}, {"angle": 0.021, "label": "l10n daemon script", "windows": [{"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (after extraction)"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (after extraction)"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "GIT_SILENT made messages (after extraction)"}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}]}, {"position": 12, "molecules": [{"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}, {"color": "FFFF0000", "data": {"message": "SVN_SILENT made messages (.desktop file) - always resolve ours\n\nIn case of conflict in i18n, keep the version of the branch \"ours\"\nTo resolve a particular conflict, \"git checkout --ours path/to/file.desktop\""}}]}]}, {"angle": 0.021, "label": "Dmitry Kazakov", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix \"bended lines\" stabilizer problem on Windows\n\nThe problem is that on Windows the tablet events are coming in bunches,\nnot uniformly. Therefore any timing-based smoothing system will not work\nout of box.\n\nThis patch adds a special class KisStabilizedEventsSampler, that makes\nthe events uniform. It collects a set of events on a 50ms timeframe and\nthen distributes it uniformly.\n\nThe timeframe size should correlate with the maximum size of the delays\ncreated by the events system. On Windows it is 50ms, on Linux 15-20ms.\n\nThe timeframe can be configured with \"stabilizerSampleSize\" config option.\n\nBUG:362445\nRef T2414\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix \"bended lines\" stabilizer problem on Windows\n\nThe problem is that on Windows the tablet events are coming in bunches,\nnot uniformly. Therefore any timing-based smoothing system will not work\nout of box.\n\nThis patch adds a special class KisStabilizedEventsSampler, that makes\nthe events uniform. It collects a set of events on a 50ms timeframe and\nthen distributes it uniformly.\n\nThe timeframe size should correlate with the maximum size of the delays\ncreated by the events system. On Windows it is 50ms, on Linux 15-20ms.\n\nThe timeframe can be configured with \"stabilizerSampleSize\" config option.\n\nBUG:362445\nRef T2414\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix expanding of the layers when switching document windows\n\nFixes T2503\nBUG:363072"}}, {"color": "FFFF0000", "data": {"message": "Fix weird tooltip\n\nI'm wondering where is the \"bar\" counterpart..."}}, {"color": "FFFF0000", "data": {"message": "Add asserts to check the results of the dynamic_cast :)"}}, {"color": "FFFF0000", "data": {"message": "Fix leak in KisSyncLodCacheStrokeStrategy\n\nBUG:363087\nFixes T2745"}}, {"color": "FFFF0000", "data": {"message": "Do not recreate brush pyramid every time we clone the brush"}}, {"color": "FFFF0000", "data": {"message": "Force the paintops to copy the brush when the stroke is started\n\nBUG:363178"}}, {"color": "FFFF0000", "data": {"message": "Fix increasing the brush size of a predefined brush using '[' and ']'\n\nWe should round the bounding value before passing to the loop"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when opening a file using a tablet\n\nWe tablet press widget might have been already destroyed,\nso we should wrap it into a QPointer."}}, {"color": "FFFF0000", "data": {"message": "Fix clipboard-based copy-paste of the shape layers\n\nBUG:362931"}}, {"color": "FFFF0000", "data": {"message": "Fix duplication of a shape layer\n\nCCBUG:362931"}}, {"color": "FFFF0000", "data": {"message": "Flatten Shape Layers when doing \"Convert to a Paint Layer\"\n\nCCBUG:362931"}}, {"color": "FFFF0000", "data": {"message": "Don't try to move non-editable nodes\n\nFixes T2302\nBUG:360516"}}, {"color": "FFFF0000", "data": {"message": "Fix the delay before passing focus to the canvas after working with non-input widgets\n\nNow we use a \"hackish\" way to distinguish if the source widget\nis an input widget. And if it is, then the delay will be much\nshorter, only half a second.\n\n\nFixes T2498\nFixes T2540\nBUG:363257,363043"}}, {"color": "FFFF0000", "data": {"message": "Fix layouts in the PaintOp Settings Popup\n\n1) Make categorized list view return a correct size hint\n2) Fix layouts everywhere\n\nFixes T2588\nBUG:362821"}}, {"color": "FFFF0000", "data": {"message": "Fix default preset for TangentNormal brush\n\nThe preset has wrong paintop id: 'tangennormal' instead of 'tangentnormal'\n\nFixes T2539\nBUG:356997"}}, {"color": "FFFF0000", "data": {"message": "Remove amortizing from the amortizeExactBounds()\n\nIts worst-case time may be higher than 300ms, which is unacceptable\nfor the painter. So the proper solution would be to implement a special\nstroke that walks through all the layers and\n\n1) Purges all the default pixel tiles using KisPaintDevice::purgeDefaultPixels()\n2) Calls exactBounds() for every device to update the caches\n\nFixes T2565\nFixes T2543\nBUG:363320,363316"}}, {"color": "FFFF0000", "data": {"message": "Fix update of the selection-based layers when image size changed\n\n1) The default selection should have opaque pixel and have no real data.\n   Then, when the image size is changed, no pixel data change is needed.\n   Everything is done using defaultBounds() mechanism.\n\n2) There is a problem though. When crop processing is running, image\n   size is not yet changed, therefore defaultBounds() still returns\n   wrong values. So we connect to sigSizeChanged() signal to update\n   layer when needed.\n\nFixes T1565"}}, {"color": "FFFF0000", "data": {"message": "Disable my predefined brushes fix because it causes a weird bug when changing any brush option\n\nCCBUG:363178"}}, {"color": "FFFF0000", "data": {"message": "Fix translation of the undo command title in Krita\n\ni18np should accept the number of the items counted to provide proper\n4 word forms.\n\nCC:kde-i18n-doc@kde.org"}}, {"color": "FFFF0000", "data": {"message": "A testing patch for the UC-LOGIC devices\n\nThe patch hasn't been tested on a real device yet. Just push it\nto make package building easier.\n\nCCBUG:359642"}}, {"color": "FFFF0000", "data": {"message": "Fix animation not stop on the first absent frame\n\nBUG:363128\nFixes T2511"}}, {"color": "FFFF0000", "data": {"message": "Make the cached-frame indicator more contrast\n\nCCBUG:363128"}}, {"color": "FFFF0000", "data": {"message": "Make both ways of changing the image background color work correclty\n\nBUG:363129"}}, {"color": "FFFF0000", "data": {"message": "Fix changing default color of the image projection for animated frames\n\nThe \"external frame\" should also be updated\n\nBUG:363129"}}, {"color": "FFFF0000", "data": {"message": "Let the user assign Ctrl, Shift or Alt keys to the stylus button\n\nThis patch allows the user to assign any modifier key to the stylus\nbutton and Krita will not \"eat\" these event. Please take care, becasue\nall the non-modifier assignments, e.g. Whitespace key, will still be eaten.\n\nBUG:361813\nRef T2419"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in spray brush\n\nm_brush might not exist for the spray brush (in that case\nit uses predefined brush shapes)\n\nFixes T2505"}}, {"color": "FFFF0000", "data": {"message": "Fix brush size change while Lod0 recalculation\n\nWe should really clone the brush before passing it to the stroke.\n\nThe weird thing about the patch is that we don't use the cloning\nfunctionality for KisAutoBrush anywhere, but it still had to be\nimplemented. At least it is thoroughly tested by the unittests now.\n\nFixes T2492\nBUG:362985"}}, {"color": "FFFF0000", "data": {"message": "Fix cursor outline display in Locked Drawing Angle + LoD mode\n\nWe should still fetch the Distance information from the LodN stroke"}}, {"color": "FFFF0000", "data": {"message": "Fix compilation\n\nAlso allow building kritaimage unittests except the failing ones"}}, {"color": "FFFF0000", "data": {"message": "Add a warning that helps debugging flickering when it happens"}}, {"color": "FFFF0000", "data": {"message": "Fix flickering in the end of Lod0 recalculation\n\nThe problem happened because openGL textures were painted without a\nfull update. Basically, we shouldn't switch a texture tile from LodN\nto Lod0 mode with a partial update, because some part of the tile still\nhas an old data, causing that weird flickering.\n\nSo now we just issue *all* the GUI updates signals in one go, which\nbasically updates all the tiles and then paints them on screen.\n\nSee a comment in KisSuspendProjectionUpdatesStrokeStrategy.\n\nFixes T2145\nBUG:361448"}}, {"color": "FFFF0000", "data": {"message": "Fin uninitialized variable problem :(\n\nThis caused some very quick LODN strokes be lost"}}, {"color": "FFFF0000", "data": {"message": "Fix connection of the timer to get correct progress reports\n\nThanks David Revoy for pointing this out!"}}, {"color": "FFFF0000", "data": {"message": "Implement Toggle Onion Skins shortcut\n\nNow you can assign this shortcut in the shortcuts\nconfiguration widget. It doesn't introduce any new string\nbecause it was defined in krita.action long time ago but\nnot used :)\n\nCC:kimageshop@kde.org\nFixes T2441"}}, {"color": "FFFF0000", "data": {"message": "Add a delay before showing the stroke progress bar\n\nFixes T2490\nBUG:362906"}}, {"color": "FFFF0000", "data": {"message": "Fix layout of the Splash Screen to truncate tool long filenames"}}, {"color": "FFFF0000", "data": {"message": "Fix compilation"}}, {"color": "FFFF0000", "data": {"message": "Make the ppVar() macro more safe\n\nAnyway you will have to recompile almost everything because of the\nchange in kis_global.h, so this tiny change won't harm :)"}}, {"color": "FFFF0000", "data": {"message": "Fix some crashes/inconsistencies while saving the document\n\n1) Deny double entry into the saving process\n2) Don't try to save if the user has closed the waiting\n   progress dialog. Otherwise it may cause a crash.\n3) Make the saving progress bar modal. Otherwise it hides behind\n   Krita window and the user sees a locked-up canvas.\n\nFixes T2430\nBUG:362675"}}, {"color": "FFFF0000", "data": {"message": "Fix loading of onion skins button states\n\nSetting slider value above zero automatically activated it, so\nwe should update the state after it only\n\nFixes T2440"}}, {"color": "FFFF0000", "data": {"message": "Fix a possible thread safety problem in KisDistanceInformation::setLockedDrawingAngle()"}}, {"color": "FFFF0000", "data": {"message": "Fix activation of the advanced sensor configuration widget"}}, {"color": "FFFF0000", "data": {"message": "Fix initialization of the Locked Drawing Angle checkbox"}}, {"color": "FFFF0000", "data": {"message": "Add a bit of stabilization to the Locked Drawing Angle"}}, {"color": "FFFF0000", "data": {"message": "Fix color picking lag and a crash when picking color right after Undo\n\n1) The connection between two strategies should be Direct, because the\n   Lod0 strategy doesn't have an event queue.\n2) Pick the color all the time, even when the mouse button is already\n   released\n3) Update the color when the preview is shown, not when the stroke is\n   active.\n\nBUG:362730\nFixes T2435"}}, {"color": "FFFF0000", "data": {"message": "Fix wrong positioning of children/popup widgets\n\nIn Qt 5.5.1 the \"change screen\" events do not arrive to the widgets\nuntil they are shown on screen and fully initialized. Therefore, if\nwe initialize geometry of the main window too early, it will be assigned\nwith a wrong screen and all the child/popup widgets will start\nappearing of a different monitor. In Qt 5.6.0 this problem is resolved,\nand you can move the window as much as you like even before showing it.\n\nFixes T2482\nBUG:362025"}}, {"color": "FFFF0000", "data": {"message": "Do not make Krita popup windows jump to the origin when the don't fit the screen\n\nJust use kisEnsureInRect() function to make it more smooth\n\nCCBUG:362025\nRef T2482"}}, {"color": "FFFF0000", "data": {"message": "[FEATURE] Implement Lock Drawing Angle feature\n\nThe feature was suggested by the users in the comments to the\nKrita Kickstarter 2016 announcement [0].\n\nThis option locks the rotation of the brush to its initial drawing\nangle.\n\nGo to Brush 'Settings->Rotation->Drawing Angle' and check 'Lock'\ncheckbox. The name of the checkbox is not very descriptive, but\nit is the best thing we can do under the string freeze :)\n\n[0] - https://geektimes.ru/post/275530/#comment_9247098"}}, {"color": "FFFF0000", "data": {"message": "Fix openGLrelated artifacts when canceling the LoD0 stroke\n\nSee a comment in KisTextureTile::update()\n\nBUG:353754\nFixes T2362"}}, {"color": "FFFF0000", "data": {"message": "Avoid glitches when canceling the LoD0 stroke\n\nCCBUG:353754\nRef T2362"}}, {"color": "FFFF0000", "data": {"message": "Fix image artifacts when canceling a Lod0 stroke and staring to paint\n\nBasically, the new strokes (synchronization and the painting one) should\nbe added to the *end* of the queue, after that bunch of cancelled strokes\nthat are not going to do anything useful anymore.\n\nCCBUG:353754\nRef T2362"}}, {"color": "FFFF0000", "data": {"message": "Don't let Luminosity to grow larger than 1.0"}}, {"color": "FFFF0000", "data": {"message": "Fix saving when multiple view of the same document are open\n\nBasically it happens because the subwindows are removed via deleteLater(),\nso at first all the windows get closeEvent() and only after that the start\ndestructing itself and, therefore, unregistering themselves from KisPart.\n\nNow KisPart just checks if the view is still visible to be counted in the\nlist of views associated with the document.\n\nBUG:361920\nFixes T2432"}}, {"color": "FFFF0000", "data": {"message": "Add apidox to BoostLockableWrapper"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash when saving the image when autosave it ready to save\n\nThe crash happened because autosave decided to save at\nthe moment of time when the user has been saving the\nimage itself. And given that we save the image in a\nbackground thread, autosave could easily do it.\n\nNow SafeSignalLocker blocks not only the image, but also\na special lock that guard KisDocument from entering the\nsaving code twice.\n\nBUG:362675\nFixes T2430"}}, {"color": "FFFF0000", "data": {"message": "Fix restoring default on the general Settings tab\n\nFixes T2415\nBUG:362488"}}, {"color": "FFFF0000", "data": {"message": "Make the resources deduplicated automatically\n\nJust make the option always on"}}, {"color": "FFFF0000", "data": {"message": "Fix ordering of the resource paths (random resources/tags resets should go now!)\n\nNeed help testing on all OS types now! This patch should fix the\nrandom resetting of all the user resources on restarting Krita. It\nhappened, because Krita randomly tried to load them from the\nsystem-wide settings instead of the local user one\n\nPatch contents:\n\n1) Resources fetched using QStandardPaths::locateAll() should have\n   absolute priority over our own paths. That is caused by the fact\n   that Qt sorts the returned resources by the usage priority, that is\n   ~/.local/* will be first in the list. Whereas our resources are\n   usually meant to be system-wide and not writable.\n\n2) For the same reason we should never use QSet over the returned\n   resources, since it doesn't preserve ordering\n\n3) This patch should also fix random 'Tags' resetting when restarting\n   Krita.\n\nBUG:361971\nFixes T2418\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Add i18n to the popup menus in Krita's Timeline Docker\n\nI forgot to do that initially :(\n\nCC:kde-i18n-doc@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix assistants be stored in KisDocument not in view decorations\n\nWell, they should be stored in \"model\", not in the \"view\"\n\nBUG:359217\nFixes T2411"}}, {"color": "FFFF0000", "data": {"message": "There is no need to save color profile for the Generator layer\n\nIts paint device is in Alpha8 colorspace!\n\n(And its real colorspace is saved in the filter configuration)"}}, {"color": "FFFF0000", "data": {"message": "Initialize color space of the Group Layers correctly\n\nAll the group layers in Krita use the color space of the image\nand this color space might be initialized with the profile *after*\nall the layers are created. So we need to initialize group layers\nas well as usual layers, but not with saved profile, but with the\nupdated profile of the image.\n\nFixes T2416\nBUG:353708"}}, {"color": "FFFF0000", "data": {"message": "Add simple hashing to the keyframe channel\n\nNow we can easily understand that the set of key frames has changed\nin the paint device, therefore making our cache invalid\n\nBUG:362151,362437\nFixes T2413"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in mirror decoration when closing Krita\n\n1) We should delete all the decorations before killing the canvas.\n   Otherwise orphan events can reach them and they will try to access\n   half-destructed view and canvas objects.\n\n2) Make Mirror Axis decoration filter the events only in case it\n   is visible.\n\nBUG:362482\nFixes T2402"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variable"}}, {"color": "FFFF0000", "data": {"message": "Fix layouts in a Advanced Color Selector configuration dialog"}}, {"color": "FFFF0000", "data": {"message": "Fix the order of application of color correction curves in the \"Curves\" filter\n\nNow the order of transformations fits the order of other popular\napplications, including Gimp:\n\n1) Apply per-channel color curves\n2) Apply composite RGB color curve, which changes all the channels\n   at once\n3) Apply the lightness curve in the end\n\nCC:kimageshop@kde.org\nBUG:324332\nFixes T2083"}}, {"color": "FFFF0000", "data": {"message": "Make toString/toInt/toDouble be a public interface of KisDomUtils\n\nAnyway, we use it everywhere :)"}}, {"color": "FFFF0000", "data": {"message": "Fix saving/loading of image resolution on non-US locales\n\nFixes T2368\nBUG:361867,362022"}}, {"color": "FFFF0000", "data": {"message": "Fix a weird crash reproduced by Wolthera\n\nI didn't manage to reproduce it, but this is the only\npossible way to get it. Thanks for a backtrace! :)\n\nBUG:362539"}}, {"color": "FFFF0000", "data": {"message": "Make the timer in KisSignalCompressor be a part of QObject hierarchy\n\nThe timer should be able to move to another thread together with\nhis parent signal compressor.\n\nBUG:362392\nFixes T2378"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Add a comment on how to build Qt with debugging info on Windows\\"}}, {"color": "FFFF0000", "data": {"message": "Don't update group layers twice when moving multiple layers from the same group"}}, {"color": "FFFF0000", "data": {"message": "Add a comment on how to build Qt with debugging info on Windows\\"}}, {"color": "FFFF0000", "data": {"message": "Don't update group layers twice when moving multiple layers from the same group"}}, {"color": "FFFF0000", "data": {"message": "Added language tarball scripts to the main Krita repository\n\nTo create a Windows translations tarball, please run:\n\n./l10n-gen --win-3.0"}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Implement per-stroke Fuzzy sensor\n\nThis patch also does a significant refactoring in the sensors\ncomputation framework. Now the Fuzzy sensors work correctly with\nRotation, Hues, Saturation and Value options.\n\nThe fuzzy sensor's curve is divided into tho halves: the leftmost part\ncontrols the negative offsets, the rightmost --- positive ones. Therefore\nyou can control if your fuzzy sensor increases the output or decreases it.\n\nPlease take into account that this rule works only for \"relative\" options,\nthat is for Rotation, Hue, Saturation and Value.\n\nRef T166\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix unbalanced barrierLock() in KisCanvas2::slotSetDisplayProfile\n\nBUG:363921\nFixes T2940"}}, {"color": "FFFF0000", "data": {"message": "Add two patches for the Windows version of Qt\n\nThis effectively fixes the D&D stalls when Qt tried to\nrequest entire QImage every time Windows asks it about the\nlist of supported mime types.\n\nBUG:340736,364037\nCC:Shawn.Rutledge@qt.io"}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Implement per-stroke Fuzzy sensor\n\nThis patch also does a significant refactoring in the sensors\ncomputation framework. Now the Fuzzy sensors work correctly with\nRotation, Hues, Saturation and Value options.\n\nThe fuzzy sensor's curve is divided into tho halves: the leftmost part\ncontrols the negative offsets, the rightmost --- positive ones. Therefore\nyou can control if your fuzzy sensor increases the output or decreases it.\n\nPlease take into account that this rule works only for \"relative\" options,\nthat is for Rotation, Hue, Saturation and Value.\n\nRef T166\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix unbalanced barrierLock() in KisCanvas2::slotSetDisplayProfile\n\nBUG:363921\nFixes T2940"}}, {"color": "FFFF0000", "data": {"message": "Add two patches for the Windows version of Qt\n\nThis effectively fixes the D&D stalls when Qt tried to\nrequest entire QImage every time Windows asks it about the\nlist of supported mime types.\n\nBUG:340736,364037\nCC:Shawn.Rutledge@qt.io"}}, {"color": "FFFF0000", "data": {"message": "Remove avTranscoder and FFmpeg from the deps"}}, {"color": "FFFF0000", "data": {"message": "Add custom options line for the ffmpeg filters"}}, {"color": "FFFF0000", "data": {"message": "Fix back progress reporting"}}, {"color": "FFFF0000", "data": {"message": "Added code for auto-detecting the ffmpeg presence\n\nAnd crying to the user if not ;)"}}, {"color": "FFFF0000", "data": {"message": "Drop the dependency on avTranscoder\n\nNow we are converting data using the ffmpeg binary"}}, {"color": "FFFF0000", "data": {"message": "Use direct ffmpeg binary calls to convert Krita animation\n\nWe should drop the avTranscoder dep in the end. It doesn't support\nimage filtering in a proper way.\n\nThis patch also introduces an environment variable, add this line\nif you want the set of PNG images be kept undeleted after the\nencoding:\n\nKRITA_KEEP_FRAMES=1 krita"}}, {"color": "FFFF0000", "data": {"message": "Switch video export log with KRITA_DEBUG_FFMPEG environment variable"}}, {"color": "FFFF0000", "data": {"message": "Disable \"Tune\" field for now\n\nSometimes it makes ffmpeg generate empty file. We should\ncheck which combinations tune/profile are possible,"}}, {"color": "FFFF0000", "data": {"message": "Added ability to save the the default values of the export options"}}, {"color": "FFFF0000", "data": {"message": "Added Profile and Tune options for h.264"}}, {"color": "FFFF0000", "data": {"message": "Implement configuration dialog for video plugin"}}, {"color": "FFFF0000", "data": {"message": "Implemented saving the animation into mkv, ogv, gif and mp4\n\nNo configuration GUI yet. It just saves with the default options :)\n\nRef T116"}}, {"color": "FFFF0000", "data": {"message": "Implement a skeleton for the Video export plugin\n\nRef T116"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into video-export-kazakov"}}, {"color": "FFFF0000", "data": {"message": "Remove avTranscoder and FFmpeg from the deps"}}, {"color": "FFFF0000", "data": {"message": "Add custom options line for the ffmpeg filters"}}, {"color": "FFFF0000", "data": {"message": "Fix back progress reporting"}}, {"color": "FFFF0000", "data": {"message": "Added code for auto-detecting the ffmpeg presence\n\nAnd crying to the user if not ;)"}}, {"color": "FFFF0000", "data": {"message": "Drop the dependency on avTranscoder\n\nNow we are converting data using the ffmpeg binary"}}, {"color": "FFFF0000", "data": {"message": "Use direct ffmpeg binary calls to convert Krita animation\n\nWe should drop the avTranscoder dep in the end. It doesn't support\nimage filtering in a proper way.\n\nThis patch also introduces an environment variable, add this line\nif you want the set of PNG images be kept undeleted after the\nencoding:\n\nKRITA_KEEP_FRAMES=1 krita"}}, {"color": "FFFF0000", "data": {"message": "Switch video export log with KRITA_DEBUG_FFMPEG environment variable"}}, {"color": "FFFF0000", "data": {"message": "Disable \"Tune\" field for now\n\nSometimes it makes ffmpeg generate empty file. We should\ncheck which combinations tune/profile are possible,"}}, {"color": "FFFF0000", "data": {"message": "Added ability to save the the default values of the export options"}}, {"color": "FFFF0000", "data": {"message": "Added Profile and Tune options for h.264"}}, {"color": "FFFF0000", "data": {"message": "Implement configuration dialog for video plugin"}}, {"color": "FFFF0000", "data": {"message": "Implemented saving the animation into mkv, ogv, gif and mp4\n\nNo configuration GUI yet. It just saves with the default options :)\n\nRef T116"}}, {"color": "FFFF0000", "data": {"message": "Implement a skeleton for the Video export plugin\n\nRef T116"}}, {"color": "FFFF0000", "data": {"message": "Update layer labels according to GDQuest's design\n\nFixes T106"}}, {"color": "FFFF0000", "data": {"message": "Allow auto-enabling the multiproperty widget by just clicking on it\n\nIf you open the Properties dialog for multiple layers, the controls\nfor the properties that vary among the layers (e.g. layer name) will\nbe initially disabled. Before this patch you should have enabled\nthem manually by clicking on a checkbox nearby, now it is perfectly\nenough just to click on the control itself and it will become enabled.\n\nRef T106\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Apply color labels to the layers recursively\n\nRef T106"}}, {"color": "FFFF0000", "data": {"message": "Update layer labels according to GDQuest's design\n\nFixes T106"}}, {"color": "FFFF0000", "data": {"message": "Allow auto-enabling the multiproperty widget by just clicking on it\n\nIf you open the Properties dialog for multiple layers, the controls\nfor the properties that vary among the layers (e.g. layer name) will\nbe initially disabled. Before this patch you should have enabled\nthem manually by clicking on a checkbox nearby, now it is perfectly\nenough just to click on the control itself and it will become enabled.\n\nRef T106\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Apply color labels to the layers recursively\n\nRef T106"}}, {"color": "FFFF0000", "data": {"message": "Add a workaround for weird tablets\n\nInstead of the returning the size of the needed buffer these\n\"nice\" tablet drivers start writing its name straight into\nthe buffer pointed by a null pointer.\n\nSee a comment in the code for more details\n\nBUG:359298,362868,363684,363873,351059,354979,362948"}}, {"color": "FFFF0000", "data": {"message": "Add a workaround for weird tablets\n\nInstead of the returning the size of the needed buffer these\n\"nice\" tablet drivers start writing its name straight into\nthe buffer pointed by a null pointer.\n\nSee a comment in the code for more details\n\nBUG:359298,362868,363684,363873,351059,354979,362948"}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix a warning from Qt:\n\nQLayout: Attempting to add QLayout \"\" to KisBrushHud \"\", which already has a layout"}}, {"color": "FFFF0000", "data": {"message": "Fixed Boud's comments in the review request"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash when switching between presets too fast"}}, {"color": "FFFF0000", "data": {"message": "Add connection line HUD property to the Curve Brush"}}, {"color": "FFFF0000", "data": {"message": "Implemented HUD options for the Deform Brush"}}, {"color": "FFFF0000", "data": {"message": "Added HUD properties to the Clone brush"}}, {"color": "FFFF0000", "data": {"message": "Implement HUD properties for Particle brush"}}, {"color": "FFFF0000", "data": {"message": "Implement HUD properties for Dyna brush"}}, {"color": "FFFF0000", "data": {"message": "Implement HUD property for Curve brush"}}, {"color": "FFFF0000", "data": {"message": "Implement HUD properties for Grid brush"}}, {"color": "FFFF0000", "data": {"message": "Implement HUD properties for hatching brush"}}, {"color": "FFFF0000", "data": {"message": "Implemented uniform properties for Shape and Spray brushes"}}, {"color": "FFFF0000", "data": {"message": "Implement ColorSmudge HUD options\n\n+ Smudge Mode\n+ Smudge Length\n+ Smudge Radius\n+ Color Rate"}}, {"color": "FFFF0000", "data": {"message": "Implement Spacing and Auto Spacing uniform properties"}}, {"color": "FFFF0000", "data": {"message": "Implement an Angle HUD property"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-hud-kazakov"}}, {"color": "FFFF0000", "data": {"message": "Add saving the state of the brush HUD"}}, {"color": "FFFF0000", "data": {"message": "Fix asserts when trying to use HUD with locked settings\n\nNow the KisPaintOpSettings knows about the locked settings as well.\nAnd the locked settings proxy is used when requesting high-level\ninformation about the preset."}}, {"color": "FFFF0000", "data": {"message": "Fix marking the initial preset as \"dirty\" on Krita loading\n\nThe fix is twofold:\n\n1) Cut the KisConfigWidget::sigConfigurationUpdated() before the\n   compression happens if the widget's signals are blocked.\n\n2) Block the signals when we are filling the widgets explicitly"}}, {"color": "FFFF0000", "data": {"message": "Fix the slowdown when changing the size of the brush\n\nAlso clean up KisAutoBrushWidget a lot"}}, {"color": "FFFF0000", "data": {"message": "Fix warning"}}, {"color": "FFFF0000", "data": {"message": "A HUGE refactoring of KisPaintOpBox\n\nThis patch introduces a lot of things:\n\n1) Implements a proper model-view-controller design for all the paintop\n   preset-based properties, such as opacity, flow and size:\n\n      Model --- KisPaintOpSettings\n      Controller --- KoResourceManager (also tracks dependencies among\n                     the preset and its derived properties, such as\n                     opacity, size, flow, composite op)\n      View --- KisPaintOpBox.\n\n   Basically, it means that KisPaintOpBox doesn't write to the settings\n   directly anymore. Instead, it uses KoResourceManager for that.\n\n2) Well, there are still a couple of flaws in the MVC design. E.g. the\n   settings widgets still write directly into the settings bypassing the\n   resource managers. To overcome this issue see the next bullet about\n   KisResourceUpdateMediator. There is also a bigger problem, the size\n   of the brush is still fetched through the access to the GUI elements,\n   or, more precisely m_optionsWidget. I don't think it can be solved atm :(\n\n3) Adds KisResourceUpdateMediator. This is a special class that allows\n   the resource manager to track the changes in complex resources, such as\n   KisPaintOpPreset. When such resource changes internaly, all the derived\n   resources get notification, and if they are also changed, a corresponding\n   signal is emitted.\n\n\nThere are still two regressions present:\n1) Locked Settings functionality doesn't work\n2) Resizing of the brush using Shift+Gesture is slow again :("}}, {"color": "FFFF0000", "data": {"message": "Add API documentation to new classes"}}, {"color": "FFFF0000", "data": {"message": "Don't keep the default tile data blocked from swapping\n\nSummary:\nWe don't access the raw data of it usually. And is cases we do\nwe should block it separately.\n\nThis patch is needed to be able to migrate the leftover of tiles\nto the new pool when a document is closed.\n\nRelease all the tile pools forcefully when a document is closed\n\nThis approach is a bit hackish, but it is the best thing we can do.\nWhen the document is closed and the pool still contains a few tiles,\nwe artificially \"swap-out\" the tiles into a QList, purge the data in\nthe tile data pools and \"swap-in\" the tiles back.\n\nSurely, we will not get an ACM award for this solution, but at least it\nworks ;)\n\nCCBUG:364848\n\nImplement data pool for the chunks in openGL canvas updates\n\nThis patch implements KisTextureTileInfoPool. A special object that keeps\ntrack of all the chunks allocated during the openGL canvas updates.\n\nThis class is also capable of tracking multiple openGL tile sizes\nand color space pixel sizes.\n\nIt should fix the most of the memory fragmentation problems,\nespecially on Windows.\n\nCCBUG:363334,364848\n\nFix warning\n\nMerge remote-tracking branch 'origin/master' into kazakov/memory-optimizations\n\nTest Plan: Open any **huge image** in Krita and try to work with it, Krita should not consume more memory with time. The RAM shouldn't also grow with reopening the same large image multiple times. Well, it will grow anyway, but not much.\n\nReviewers: rempt\n\nSubscribers: dkazakov\n\nDifferential Revision: https://phabricator.kde.org/D2236"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-hud-kazakov"}}, {"color": "FFFF0000", "data": {"message": "Add quick flip buttons to transform docker\n\nhttps://bugs.kde.org/show_bug.cgi?id=352533\n\nAdds vertical flip, horizontal flip, clockwise rotate\nand counter-clockwise rotate buttons to the free\ntransform docker widget.\n\nThanks Pulponite for the patch!\n\nBUG:352533\nDifferential Revision: https://phabricator.kde.org/D2127"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Add quick flip buttons to transform docker\"\n\nThis reverts commit 00152c78bd1d896f543ee47b74eeecf66d05c9c2.\n\nAccidentally arcanist also merged my memory fixes branch :("}}, {"color": "FFFF0000", "data": {"message": "Make relative zooming the default option"}}, {"color": "FFFF0000", "data": {"message": "Implement relative zooming shortcuts\n\nTo test you need to:\n\n    Remove/backup your input settings: ~/.local/share/krita/input/kritadefault.profile\n    Restart Krita\n\nNow you have different ways to zoom your canvas:\n\n    Ctrl+Space+LeftBtnDrag --- zoom relative to center\n    Ctrl+Alt+Space+LeftBtnDrag --- discrete zoom relative to center\n    Ctrl+MiddleBtnDrag --- relative zoom\n    Ctrl+Alt+MiddleBtnDrag --- discrete relative zoom"}}, {"color": "FFFF0000", "data": {"message": "Add quick flip buttons to transform docker\n\nSummary:\nhttps://bugs.kde.org/show_bug.cgi?id=352533\n\nAdds vertical flip, horizontal flip, clockwise rotate and counter-clockwise rotate buttons to the free transform docker widget.\n\nReviewers: #krita, dkazakov\n\nReviewed By: #krita, dkazakov\n\nSubscribers: dkazakov\n\nDifferential Revision: https://phabricator.kde.org/D2127"}}, {"color": "FFFF0000", "data": {"message": "Fix warning"}}, {"color": "FFFF0000", "data": {"message": "Fix releasing the node pixes memory when closing the document\n\nKisNodeFilterProxyModel should not store any pointers after the\nimage has been closed.\n\nCCBUG:364848"}}, {"color": "FFFF0000", "data": {"message": "Implement data pool for the chunks in openGL canvas updates\n\nThis patch implements KisTextureTileInfoPool. A special object that keeps\ntrack of all the chunks allocated during the openGL canvas updates.\n\nThis class is also capable of tracking multiple openGL tile sizes\nand color space pixel sizes.\n\nIt should fix the most of the memory fragmentation problems,\nespecially on Windows.\n\nCCBUG:363334,364848"}}, {"color": "FFFF0000", "data": {"message": "Release all the tile pools forcefully when a document is closed\n\nThis approach is a bit hackish, but it is the best thing we can do.\nWhen the document is closed and the pool still contains a few tiles,\nwe artificially \"swap-out\" the tiles into a QList, purge the data in\nthe tile data pools and \"swap-in\" the tiles back.\n\nSurely, we will not get an ACM award for this solution, but at least it\nworks ;)\n\nCCBUG:364848"}}, {"color": "FFFF0000", "data": {"message": "Don't keep the default tile data blocked from swapping\n\nWe don't access the raw data of it usually. And is cases we do\nwe should block it separately.\n\nThis patch is needed to be able to migrate the leftover of tiles\nto the new pool when a document is closed."}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in KisToolPaint caused by a passed-through event\n\nThe paintop-based picking event should be eaten by the KisToolFreehand\nand not being passed-through to KisToolPaint.\n\nBUG:365142\nFixes T3180"}}, {"color": "FFFF0000", "data": {"message": "Fix HSV/HSL filter widget slider management\n\nSummary:\nFix for https://bugs.kde.org/show_bug.cgi?id=363882 and related issues in the HSV/HSL filter dialog.\n\nMoves the fragile conditionals to a more data driven model.\n\nReviewers: dkazakov, #krita, rempt\n\nReviewed By: #krita, rempt\n\nSubscribers: rempt, dkazakov, woltherav\n\nDifferential Revision: https://phabricator.kde.org/D2115"}}, {"color": "FFFF0000", "data": {"message": "\"Black\", not \"Back\" point compensation"}}, {"color": "FFFF0000", "data": {"message": "Fix another misprint in the localizable string"}}, {"color": "FFFF0000", "data": {"message": "Fix a misprint in a menu tooltip"}}, {"color": "FFFF0000", "data": {"message": "Don't update group layers twice when moving multiple layers from the same group"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix compilation on MSVC"}}, {"color": "FFFF0000", "data": {"message": "Implement a round marker brush\n\nSummary:\n* Implement algorithms for the marker brush\n* Connected marker brush algorithm to the brush itself\n* Implement a GUI for the round brush configuration\n* Limit the brush size of the roundmarker\n* Fix HUD properties for Roundmarker brush\n\nMerge remote-tracking branch 'origin/master' into kazakov/round-marker\nRef T3492\n\nTest Plan:\nJust try to paint with the new branch and tell what you think about it!\n\n1) It cannot vary its opacity during the stroke\n2) It has no fading (like usual marker)\n3) Brush dialog is limited, that is expected. The only features that\n   can be implemented are: scatter and texturing.\n\nYou can also use a git branch: kazakov/round-marker\n\nReviewers: #krita\n\nManiphest Tasks: T3492\n\nDifferential Revision: https://phabricator.kde.org/D2624"}}, {"color": "FFFF0000", "data": {"message": "Fix HUD properties for Roundmarker brush"}}, {"color": "FFFF0000", "data": {"message": "Limit the brush size of the roundmarker"}}, {"color": "FFFF0000", "data": {"message": "Implement a GUI for the round brush configuration"}}, {"color": "FFFF0000", "data": {"message": "Fix crash due to colorspace conflict"}}, {"color": "FFFF0000", "data": {"message": "Implement the first kind of working version of Lazy Brush tool!"}}, {"color": "FFFF0000", "data": {"message": "Fix overflowing color labels\n\nThey should always have some color and not become transparent again.\n\nBUG:367547"}}, {"color": "FFFF0000", "data": {"message": "Implement a skeleton for the lazy brush tool"}}, {"color": "FFFF0000", "data": {"message": "Connect new icons by Timothee Giet :)"}}, {"color": "FFFF0000", "data": {"message": "Let the user Color Pick from a Colorize Mask using Ctrl+Alt+Click"}}, {"color": "FFFF0000", "data": {"message": "Let the user erase the Key Strokes on a Colorize Mask"}}, {"color": "FFFF0000", "data": {"message": "Update the united area when toggling colorize mask properties"}}, {"color": "FFFF0000", "data": {"message": "Don't allow painting on a mask when keystrokes are not visible"}}, {"color": "FFFF0000", "data": {"message": "Connect icons by Timethee Giet :)"}}, {"color": "FFFF0000", "data": {"message": "Workaround a NVIDIA/Qt but with black screen in assistants\n\nIt seems like Qt uses some internal caches/textures for painting\npixmaps/images on screen. And if the images of one rendering cycle\ndon't fit into that cache they are painted and black rectangles.\n\nThere is a workaround for that: just make the size of the pixmap cache\nmore than 20 MiB. Then all the pixmaps painted through the cache will work\ncorrectly (if you decide to draw a QImage on screen manually, it still\ndoesn't work).\n\nI don't know what happens there, but it seems like this workaround fixes\nthe problem. Let's wait until we merge Qt+openGL3 branch, probably, it\nwill change something.\n\nBUG:361709"}}, {"color": "FFFF0000", "data": {"message": "Fix leaking connections in KisPaintOpBox\n\nFixes T3462\nBUG:366736"}}, {"color": "FFFF0000", "data": {"message": "Don't relayout brush widget dialog each time the brush changes\n\nThat breaks editing of the sliders, because every time the slider\nchanges, it loses input focus."}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Activate color picking in Scratch Pad\n\nFor some reason it was implemented long ago but not connected\nanywhere."}}, {"color": "FFFF0000", "data": {"message": "Fix a hangup in ScratchPad when clicking too many mouse buttons at the same time\n\nFixes T3458\nBUG:363080"}}, {"color": "FFFF0000", "data": {"message": "Fix color picking in wraparound mode\n\nThe properties of the strokes without initializing job should\nbe loaded as well.\n\nFixes T3460\nBUG:366595"}}, {"color": "FFFF0000", "data": {"message": "Fix Color Sliders to update on Exposure change\n\nRef T3453"}}, {"color": "FFFF0000", "data": {"message": "Update specific color selector when Exposure changes\n\nRef T3453"}}, {"color": "FFFF0000", "data": {"message": "Fix Instant Preview + Mirror Mode\n\nFixes T3276\nBUG:363089"}}, {"color": "FFFF0000", "data": {"message": "Fix one more range slider not to become 0\n\nBoud's fix was absolutely correct. This is just an addition.\n\nFixes T3177\nBUG:365120"}}, {"color": "FFFF0000", "data": {"message": "Fix Instant Preview in Spray brushes\n\nWe should use KisRandomSource for every random number generation in\nthe paintop, not the home-grown implementation based on srand.\n\nBUG:362136\nFixes T2369"}}, {"color": "FFFF0000", "data": {"message": "Fix loading existing Spray brush presets\n\nWolthera's Hearts preset is a good example of a preset with 0.001\ndensity, which should be covered by the slider :)"}}, {"color": "FFFF0000", "data": {"message": "Wavelet decompose logical fix\n\nPatch by: Miroslav Talasek\n\nSummary:\nat first: wavelet decompose is in menu image so as source pixels cant be layer but visible image\nat the second: new layer group must be added at top not with index 1 (i apologize ;))\n\nReviewers: rempt, dkazakov\nReviewed By: dkazakov\nDifferential Revision: https://phabricator.kde.org/D2429"}}, {"color": "FFFF0000", "data": {"message": "Fix wrong aspect ratio fixing in Spray Brush\n\nFixes T2755\nBUG:363577"}}, {"color": "FFFF0000", "data": {"message": "Don't let KisShadeSelectorLineComboBox jump out of the screen :)\n\nFixes T2796\nBUG:362347"}}, {"color": "FFFF0000", "data": {"message": "Fix Stabilizer Finish Line feature broken by the stabilizer fix in 3.0\n\nBUG:364183\nFixes T3272"}}, {"color": "FFFF0000", "data": {"message": "Fix the algorithm of the calculation of the Shift+Gesture scale\n\nNow it takes the screen size into account\n\nBUG:366619"}}, {"color": "FFFF0000", "data": {"message": "Connected marker brush algorithm to the brush itself\n\nNow you can test it! Just take into account:\n\n1) It cannot vary its opacity during the stroke\n2) It has no fading (like usual marker)\n3) Brush Tip dialog is a *stub*. The marker uses only the Width and\n   Spacing parameter of the brush :) So don't try to play with it :)"}}, {"color": "FFFF0000", "data": {"message": "Implement algorithms for the marker brush\n\nSee KisMarkerPainterTest for examples of their usage"}}, {"color": "FFFF0000", "data": {"message": "Fix crash on saving a document and closing it rigth after that\n\nFixes T3351\nBUG:365992"}}, {"color": "FFFF0000", "data": {"message": "Make the filling opaque when the key strokes are hidden"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when using K and L shortcuts\n\nSummary:\nWe shouldn't fetch the RGB triplets from the grayscale color data\n\nFixes T3442\nBUG:366378\n\nManiphest Tasks: T3442\n\nDifferential Revision: https://phabricator.kde.org/D2405"}}, {"color": "FFFF0000", "data": {"message": "Don't rely on values from settings->paintOpSize() during massive update\n\nThe values might be a bit random because of the deferred signals\ncoming from the GUI elements, so don't rely on them.\n\nFixes T3406"}}, {"color": "FFFF0000", "data": {"message": "The initial implementation of the Colorize Mask functionality\n\nAt the moment you can paint on it with a usual brush, then click\non the \"Update\" property and see the filling result. A lot of things are\nstill to be done:\n\n1) There should be a switch between \"b/w mode\" and \"alpha mode\"\n2) The eraser button doesn't work when the mask is active (though\n   you can paint with the Erase composite op and remove the keystrokes\n   this way)\n3) The user should be able to activate/configure prefiltering of the image\n4) The filtered image should be cached using some solution with timestamps\n5) There should be automatic mode: the mask updates automatically every time\n   you change the original layer (the same timestamps)\n6) New icons needed:\n    - Update (needs rename?)\n    - Show Coloring\n    - Show Key Strokes\n    - Icon for the mask itself (and its action)\n7) The filling is extremely slow. Right now the multicut algorithm doesn't\n   have the fast paths for recognizing disjoint areas without doing min-cut.\n8) At the moment you cannot color-pick from the mask. To implement that\n   you should write the merged keystrokes projection into fakePaintDevice.\n   (btw, it will simplify decorateRect() significantly!)\n\nRef T372"}}, {"color": "FFFF0000", "data": {"message": "Add a skeleton for a round marker brush"}}, {"color": "FFFF0000", "data": {"message": "Rename Scribble into KeyStroke.\n\nDon't let the GUI be different from the codebase again! :)"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'kazakov/testing'\n\nDifferential Revision: https://phabricator.kde.org/D125"}}, {"color": "FFFF0000", "data": {"message": "Implement basic version of the Multiway-cut algorithm\n\nA few things are still in TODO:\n\n1) Don't cut fully separated regions, which can be simply filled in\n2) Use the data of the latest cut to fill the last region"}}, {"color": "FFFF0000", "data": {"message": "Fix whitespace/tabulations problem\n\nUse the following script for that:\n\nfor i in `git diff --name-only 0807eeb01d02873019 HEAD`; do\n    sed -i.orig 's/\\t/    /g' $i\ndone"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into kazakov/testing"}}, {"color": "FFFF0000", "data": {"message": "Merge the Heads-up-display for the brushes into master\n\nNow the popup palette has a special HUD that is used for controlling\nspecific brush properties. Every brush engine has its own properties,\nand you can choose which ones you want to see in a special settings\ndialog in the HUD itself.\n\nFixes T127\nCCBUG:322835,364213\nAuditors:#krita_manual,#krita_website_and_translations\nDifferential Revision: https://phabricator.kde.org/D2289"}}, {"color": "FFFF0000", "data": {"message": "Fix whitespace/tabulations problem\n\nUse the following script for that:\n\nfor i in `git diff --name-only 0807eeb01d02873019 HEAD`; do\n    sed -i.orig 's/\\t/    /g' $i\ndone"}}, {"color": "FFFF0000", "data": {"message": "Initial implementation of the paint-device-based graph"}}, {"color": "FFFF0000", "data": {"message": "Added more unittests for KisLazyFillGraph\n\nAnd fix a couple of bugs found"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-lazybrush-kazakov"}}, {"color": "FFFF0000", "data": {"message": "Fix jumping sliders in new implementation of Auto Brush Widget"}}, {"color": "FFFF0000", "data": {"message": "Implemented KisElidedLabel class that makes the text elidable"}}, {"color": "FFFF0000", "data": {"message": "Added brush icon to the Brush HUD"}}, {"color": "FFFF0000", "data": {"message": "Fix sizing of the Brush HUD"}}, {"color": "FFFF0000", "data": {"message": "Implement configuration GUI for Brush HUD properties editing"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix translation transform handle the anchor points!\n\nRef T119\nFixes T2475\nBUG:349666"}}, {"color": "FFFF0000", "data": {"message": "Fix translation transform handle the anchor points!\n\nRef T119\nFixes T2475\nBUG:349666"}}, {"color": "FFFF0000", "data": {"message": "Prevent transform handles from doing belly dance while doing transformation\n\nWe should prescale the handles to make them loo the same, irrelative\nto the current transformation matrix"}}, {"color": "FFFF0000", "data": {"message": "Fix cursor update for the transform tool\n\nNow when pressing/releasing the modifier key the cursor/function is\nupdated instantly. Before the patch one should have done at least one\nmouse move."}}, {"color": "FFFF0000", "data": {"message": "Prevent transform handles from doing belly dance while doing transformation\n\nWe should prescale the handles to make them loo the same, irrelative\nto the current transformation matrix"}}, {"color": "FFFF0000", "data": {"message": "Rename \"Scale From Pivot Point\" into \"Transform Around Pivot Point\"\n\nRef T119"}}, {"color": "FFFF0000", "data": {"message": "Make spin boxes take care about the Anchor Point\n\nRef T119"}}, {"color": "FFFF0000", "data": {"message": "Basic implementation of the Scale Around Pivot Point\n\nThis patch implements the basic functionality. You can scale around the\npivot point by:\n\n1) Activating a special button in the Tool Options and dragging the corners\n2) Pressing Alt while dragging the corners\n\nStill TODO:\n - changing the values in spinboxes should also handle the anchor\n\nRef T119"}}, {"color": "FFFF0000", "data": {"message": "Disable explicit delay before updating the colorize mask\n\nInitially it was introduced for handling auto-updates, but they\nare still not implemented :)"}}, {"color": "FFFF0000", "data": {"message": "Don't use asserts. Neither in boost nor in our graph code\n\nThey make the performance 30-40% slower"}}, {"color": "FFFF0000", "data": {"message": "Don't use Q_FOREACH in hot places\n\nIt eats about 30% of performance..."}}, {"color": "FFFF0000", "data": {"message": "Never use QRect::contains() for bottle-neck algorithms!\n\nIt is extremely slow, because it is not inlined and takes extra\ndefault arguments."}}, {"color": "FFFF0000", "data": {"message": "Make graph edge capacity be of integer type\n\nIt gives about 5% better performance"}}, {"color": "FFFF0000", "data": {"message": "Optimize Lazy Fill for the transparent background area\n\nThis is a kind of heuristic. The transparent color is usually\nthe background and usually occupies the biggest part of the image.\nAnd we should cover the biggest area as possible when filling."}}, {"color": "FFFF0000", "data": {"message": "Optimize Boost's BK algorithm\n\nToo many read and writes from the graph make performance about 5-10%\nslower. Caching values in local variables fixes it."}}, {"color": "FFFF0000", "data": {"message": "Fork Boykov-Kolmogorov algorithm from boost\n\nWe need a few changes to make it faster"}}, {"color": "FFFF0000", "data": {"message": "Fix the tablet-no-pressure bug when closing the brush editor\n\n1) When closing a popup widget by clicking on some area outside the\napplication window, we get only a tablet press event, but no tablet\nrelease event, because the release is delivered to some other\napplication, not us. Therefore we get stuck in an inconsistent state\n(we think some buttons are pressed while they are not). I implemented\na method for requesting button state from XI2 event, so now we can sync\nwith it. The only trouble is that I don't know if those buttons are\nlogical or physical, so right now the syncing happens *only* when no\nbutton is pressed according to XI2. Otherwise we just give a warning.\n\n2) This patch also fixes QXcbConnection::windowFromId() to lazily\npopulate window handles map. Usually we do it in Enter event, but\nsometimes we don't have this event. For example, when a popup window\nopens and the cursor \"magically\" appears above its surface, we don't\nget Enter event. It seems to be quite recent change, because it used\nto work before.\n\nFixes 369114"}}, {"color": "FFFF0000", "data": {"message": "Fixed memory leaks when creating Colorize Masks"}}, {"color": "FFFF0000", "data": {"message": "Avoid visual glitch when painting on the colorize mask\n\nWe should really lock the temporary target when doing the merge.\nOtherwise the data will be applied twice: once in the mergeToLayer,\nand then in the decorateRect()."}}, {"color": "FFFF0000", "data": {"message": "Fixed an update glitch in the Colorize Mask\n\nNow I had to introduce a special property for the masks, which\nreports the additional area where the masks draws. This area\ncannot be computed by mean of change/needRect functionality\nsince it doesn't depend on the dirty rect of the layer.\n\nBUG:369093\nFixes T3812"}}, {"color": "FFFF0000", "data": {"message": "Convert the memory leak assert into a safe assert\n\nSo people would not get a dataloss accidentally :(\n\nBUG:365992\nFixes T3681"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak when Cumulative Undo is turned on\n\nBy default all the KUndo2Command objects should be *not* mergable\n\nRef T3681\nCCBUG:365992"}}, {"color": "FFFF0000", "data": {"message": "Fix crash in Colorize Mask when painted with 0 opacity\n\nWell, there is no reason to try to fill empty scribbles\n\nBUG:369095\nFixes T3811"}}, {"color": "FFFF0000", "data": {"message": "Fix crash in timedMergeWith()\n\nDon't try to read from m_lastMergedIndex + 1, which might not\nexist because the previous command has been merged using basic\nQt's mechanism.\n\nBUG:366607"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when D&D frames from a *cloned* layer\n\nYes, we should also copy the free-frame-id counter when cloning\nthe layers (and ideally also check if the frame id is already occupied)\n\nCCBUG:366607"}}, {"color": "FFFF0000", "data": {"message": "Fixed problems with synchronizations of preset selection widgets\n\nSummary:\n1) Now the selector has *no* selection if the currently active preset\n   is not present in the filtered list of presets\n2) Clicking on the currently selected preset now either resets it,\n   or does nothing depending on the \"Save tweaks...\" option value.\n3) All the three preset selectors are now synchronized\n4) The selector correctly shown the \"dirty\" mark right after you\n   changed any property of the preset.\n\nTest Plan:\n1) Check sanity of the current selection in all the three preset\n   selectors. They should be sane and synchronized.\n2) Switching the current tag should keep the selection correct (no\n   selection is a valid state when the active preset is not present\n   in the current tag)\n3) (!) Check if Brush Selector, Texture Selector, Pattern and Gradient\n   popups still work correctly! They use the same codebase :(\n\nRef T3473\n\nReviewers: #krita, timotheegiet\n\nManiphest Tasks: T3473\n\nDifferential Revision: https://phabricator.kde.org/D2815"}}, {"color": "FFFF0000", "data": {"message": "Make KisSequentialIterator much faster\n\nJust avoid calling virtual methods of KisHLineIterator. It makes writing\nwith this iterator 30% faster and reading with it 400%(!) faster.\n\nThe iterator is extensively used in Roundmarker Brush, so it should become\nmuch faster now :)"}}, {"color": "FFFF0000", "data": {"message": "Recover caching of KisBrush in KisBrushBasedPaintOp\n\nThis patch fixes a huge slowdown when painting with bigger brushes\n(> 500px is size).\n\nRef T3680"}}, {"color": "FFFF0000", "data": {"message": "Fix warning"}}, {"color": "FFFF0000", "data": {"message": "Fix wrong parameters in memset in Sobel Filter\n\nThanks gcc for a warning!"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when copying the image with Instant Preview active\n\nFixes T3758,T3709\nBUG:351106"}}, {"color": "FFFF0000", "data": {"message": "Implement instant preview for Colorize Mask\n\nThis feature is disabled by default for now. To activate and test it,\nplease add this line to your kritarc:\n\nuseLodForColorizeMask=true"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when using Colorize Mask with Instant Preview active"}}, {"color": "FFFF0000", "data": {"message": "Remove a sanity check assert\n\nIt looks like this state can happen when the job is exclusive and\ntherefore not started by this call. Thanks KisStrokesQueueTest for\nreproducing this problem.\n\nRef T3709"}}, {"color": "FFFF0000", "data": {"message": "Update default preset for the RoundMarker brush to make it faster"}}, {"color": "FFFF0000", "data": {"message": "Remove forgotten comment :)\n\nRef T3680"}}, {"color": "FFFF0000", "data": {"message": "Remove the loop in updating the paintop editor\n\nThe bug is fixed now, but it needs extensive testing\n\nRef T3578"}}, {"color": "FFFF0000", "data": {"message": "Fix copy-paste error that prevented clone brush from normal work\n\nFixes T3754"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/shift-gesture-slowdown\n\n# Conflicts:\n#\tlibs/ui/kis_action_manager.cpp"}}, {"color": "FFFF0000", "data": {"message": "Forbid conversion of KisPaintOpSettingsSP into raw pointer\n\nNow we have the following concepts:\n\n1) KisRestrictedSharedPtr --- a KisShared-based shared pointer that\n   forbids implicit creation of a shared pointer from raw pointer.\n   One should first create a usual shared pointer and assign it to\n   a restricted one. Is resolves the issue of accidentally passing\n   this pointer into a shared pointer and getting into troubles because\n   of that.\n\n2) KisPinnedSharedPtr --- a KisShared-based shared pointer that forbids\n   implicit conversion into a raw pointer. Therefore, you cannot delete\n   this pointer.\n\n3) When we port the settings into QSharedPointer, both classes will not\n   be needed anymore, because QSharedPointer has both the properties :)"}}, {"color": "FFFF0000", "data": {"message": "Fix potentially dangerous passing of 'this' into uniform properties\n\nUse a specially crafted KisRestrictedSharedPointerWrapper to restrict\nsuch kinds of access. This class will not be needed when we port the\nstuff into QSharedPointer, because the latter forbids such conversions\nout of box."}}, {"color": "FFFF0000", "data": {"message": "Fix locked properties proxy not to use shared pointers for parent settings\n\nThe proxy is always created in \"kind of stack\", therefore the settings\nare guaranteed to exist throughout all its life.\n\nThe fix is needed to ensure we never pass 'this' into a shared pointer"}}, {"color": "FFFF0000", "data": {"message": "Make it compile and run again!\n\nPartially implement the first step of the porting into\nQSharedPointer."}}, {"color": "FFFF0000", "data": {"message": "Avoid warnings for unused variables"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/shift-gesture-slowdown\n\nJust merge and resonve the conflicts. It doesn't compile.\n\n# Conflicts:\n#\tlibs/image/brushengine/kis_paintop_settings.cpp\n#\tlibs/image/brushengine/kis_paintop_settings.h\n#\tplugins/paintops/deform/kis_deform_paintop_settings.h\n#\tplugins/paintops/deform/kis_deform_paintop_settings_widget.cpp\n#\tplugins/paintops/deform/kis_deform_paintop_settings_widget.h\n#\tplugins/paintops/gridbrush/kis_grid_paintop.cpp\n#\tplugins/paintops/gridbrush/kis_grid_paintop.h\n#\tplugins/paintops/gridbrush/kis_grid_paintop_settings.cpp\n#\tplugins/paintops/gridbrush/kis_grid_paintop_settings.h\n#\tplugins/paintops/gridbrush/kis_gridop_option.h\n#\tplugins/paintops/libpaintop/kis_brush_based_paintop_settings.cpp\n#\tplugins/paintops/spray/kis_spray_paintop_settings.h\n#\tplugins/paintops/spray/kis_spray_paintop_settings_widget.h"}}, {"color": "FFFF0000", "data": {"message": "Fix OCIO display filter test"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/round-marker"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/round-marker\n\n# Conflicts:\n#\tlibs/image/tests/CMakeLists.txt"}}, {"color": "FFFF0000", "data": {"message": "Use the icon by Timothee Giet for Quick brush"}}, {"color": "FFFF0000", "data": {"message": "Rename \"Round Marker\" brush into \"Quick Brush\""}}, {"color": "FFFF0000", "data": {"message": "Fix CamelCase filenames"}}, {"color": "FFFF0000", "data": {"message": "Fix compilation on Visual Studio"}}, {"color": "FFFF0000", "data": {"message": "Fix Shift+gensture slowdown\n\nThsi is a really severe refactoring! I need your help with testing\nis the paintop editor popup still works fine!\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-lazybrush-kazakov\n\n# Conflicts:\n#\tlibs/image/kis_painter.cc"}}, {"color": "FFFF0000", "data": {"message": "Connected an icon by Timothee Giet to Colorize Mask Editing Tool"}}, {"color": "FFFF0000", "data": {"message": "Rename new layer from \"Visible Layer\" into just \"Visible\""}}, {"color": "FFFF0000", "data": {"message": "Connect the Colorize Mask icon created by Timothee Giet to the code :)"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-lazybrush-kazakov"}}, {"color": "FFFF0000", "data": {"message": "Correctly initialize color space of the colorize mask"}}, {"color": "FFFF0000", "data": {"message": "Fix fill painter to be able to fill a 8bit color on a 16-bit device\n\nThis patch changes the API of KisPaintDevice to not give any access\nto raw bytes of the default colors. Not one is obliged to use KoColor\ninstead."}}, {"color": "FFFF0000", "data": {"message": "More cleanups for the color .ui property"}}, {"color": "FFFF0000", "data": {"message": "More cleanups for the color .ui property"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in New Image dialog\n\nThanks bruceoutdoors for the patch! :)\n\nBUG:368483"}}, {"color": "FFFF0000", "data": {"message": "Make KisPaintDevice offset API more consistent\n\n1) Rename move() into moveTo()\n2) Add offset() method"}}, {"color": "FFFF0000", "data": {"message": "Implement KoColorSpace::operator!=()\n\nWe had this bug for ages, what a shame! :)"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in New Image dialog\n\nThanks bruceoutdoors for the patch! :)\n\nBUG:368483"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to duplicate a colorize mask"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-lazybrush-kazakov"}}, {"color": "FFFF0000", "data": {"message": "Remove code duplication in KisDomUtils"}}, {"color": "FFFF0000", "data": {"message": "Implement loading/saving of Colorize Masks"}}, {"color": "FFFF0000", "data": {"message": "Implement KisProcessingVisitor interface for colorize masks"}}, {"color": "FFFF0000", "data": {"message": "Implement colorSpace() and offset() properties of the Colorize Mask"}}, {"color": "FFFF0000", "data": {"message": "Fix a multiple template instantiation problem on Windows and OSX\n\nSummary:\nThis patch should fix the crash that happens on some versions of\nWindows and OSX. The problem is that the templates are instantated in\ndifferent libraries and, therefore, dynamic_cast<> considers them to be\ndifferent types of objects\n\nTest Plan: Compile and try to use Brush HUD\n\nReviewers: rempt, #krita\n\nReviewed By: rempt, #krita\n\nDifferential Revision: https://phabricator.kde.org/D2692"}}, {"color": "FFFF0000", "data": {"message": "Implement Convert->to Paint Layer for Colorize Mask\n\nNow you can just convert the mask into a layer using standard Krita\nconversion methods. Just do:\n\n1) Right-click\n2) \"Convert\"->\"to Paint Layer\"\n\nand the colorize mask will be split into a separate layer automagically!\n\nRef T372"}}, {"color": "FFFF0000", "data": {"message": "Implement correct Flatten Layer for layers having colorize masks\n\nThe only trouble is that the key strokes should *not* be painted on\nthe final layer projection, so we have to disable them before doing the\nmerge operation.\n\nRef T372"}}, {"color": "FFFF0000", "data": {"message": "Rename \"Show key strokes\" into \"Edit key strokes\"\n\nAs was agreed during the sprint"}}, {"color": "FFFF0000", "data": {"message": "Move Colorize Mask regeneration into a stroke\n\nThe stroke version has at least some progress reporting capabilities"}}, {"color": "FFFF0000", "data": {"message": "Implement automatic creation/selection of Colorize Mask\n\nNow if you click with the lazy brush tool on a layer, the colorize mask\nwill be automatically created or activated.\n\nRef T372"}}, {"color": "FFFF0000", "data": {"message": "Disable isolate mode for Colorize Masks"}}, {"color": "FFFF0000", "data": {"message": "Add a temporary workaround that partially fixes the Shift+drag problem\n\nI still need to invent a better solution. The real problem is that for a\nsingle settings->setPaintOpSize() we get 4 or 5\nKisPaintOpConfigWidget::setConfigurationSafe() which runs quite slowly.\nIt seems to be reproducible on slower machines only. On Core i7 we get\nexactly one setConfigurationSafe() for each setPaintOpSize() :)"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Fix slowdown when doing Shift+Drag resizing gesture\"\n\nThis reverts commit dc8ae57fbad42f286c3250ec24cf3fab11aa2315.\n\nThis patch is just incorrect"}}, {"color": "FFFF0000", "data": {"message": "Sequence numbers for paint devices and cache filtered source in Colorize Mask\n\n1) Implement KisPaintDevice::sequenceNumber() which basically lets\n   us know when the device has changed\n\n2) Implement caching of the filtered paint device in KisColorizeMask.\n   Now we can check for the sequence number and reuse the cache in\n   case it didn't change.\n\n3) Implement automatic selection of the mask composite op depending on\n   the number of transparent pixels in the parent layer.\n\nRef T372"}}, {"color": "FFFF0000", "data": {"message": "Revert \"BUG:360677 KisUpdaterContext should not kill threads in waitForDone()\"\n\nThis reverts commit 9c34fef3320983c8e0542363121035eab225cd29\n\nThe commit causes a deadlock in some cases:\nhttps://bugs.kde.org/show_bug.cgi?id=367901"}}, {"color": "FFFF0000", "data": {"message": "Fix slowdown when doing Shift+Drag resizing gesture\n\nThis patch implements a concept of \"sequence number\" for\nKisPaintOpSettings objects. This \"number\" changes every time the\nproperties change, therefore we can track if the property has been\nchanged or not in the external code.\n\nFixes T3520\nBUG:366619"}}, {"color": "FFFF0000", "data": {"message": "Fix a memory leak in layer compositions on closing the image\n\nJust port them to use shared pointers"}}, {"color": "FFFF0000", "data": {"message": "Fix a memory leak in KisOpenGLImageTextures::m_proofingTransform"}}, {"color": "FFFF0000", "data": {"message": "Fix a memory leak in KisImage::m_d::proofingConfig\n\nThe config should be stored as a shared pointer, otherwise it leaks"}}, {"color": "FFFF0000", "data": {"message": "Add a note about boost"}}, {"color": "FFFF0000", "data": {"message": "Build KisCompositionBenchmark only on Unix"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Use pre-built gettext binaries\"\n\nThis reverts commit 7b5ec1c4d9efe937793719bb7be3f57cf3aad2cc."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Fix gettext\"\n\nThis reverts commit 45e1f5b7578de6c222c4e42548a3bc6b84986f4f."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Fix typo\"\n\nThis reverts commit 686adc097a4bdc97eb94e08e92863dd7c47d5e38."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Download the right versions\"\n\nThis reverts commit 38c5c8553fcf428ba6de7d69c2d90e5556fe4309."}}, {"color": "FFFF0000", "data": {"message": "Fix compilation of ext_boost on MinGW"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Implemented POC for rendering of the SVG-like patterns using QPainter\n\nSee a brain-killing code in renderBakedPath()"}}, {"color": "FFFF0000", "data": {"message": "Fix loading nested groups\n\nIt used to apply shape transformation twice!"}}, {"color": "FFFF0000", "data": {"message": "Use KoShapePainter for painting shapes inside the unittest\n\nAlso fix the uninitialized variable in SvgGraphicsContext"}}, {"color": "FFFF0000", "data": {"message": "Fix initial frame to be regenerated after playback\n\nBUG:371529\nFixes T4133"}}, {"color": "FFFF0000", "data": {"message": "Fix animation cache to be updates while playback\n\nThis is a hack. But it is the easiest way we can fix it at the moment.\nIf you see any deadlocks caused by this fix please report a bug.\n\nBUG:371528"}}, {"color": "FFFF0000", "data": {"message": "Fix recalculation of the cache when editing the last frame of the layer\n\nCCBUG:371529"}}, {"color": "FFFF0000", "data": {"message": "Always use Basic Smoothing for Line Tool\n\nBasically, line tool doesn't know how to use Stabilizer.\n\nBUG:368119\nFixes T4102"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/undo-with-instant-preview-T2544"}}, {"color": "FFFF0000", "data": {"message": "Fix the crash when trying to cancel the background strokes with Esc\n\nThe RESUME strategy should always have an explicit Cancel job that\nreverts the updates filter.\n\nThis is a regression after: e357da4f04ea759975740a603f21e736691e6eec"}}, {"color": "FFFF0000", "data": {"message": "Implemented Undo for Instant Preview strokes\n\nNow the user can cancel a stroke without waiting until the main\nfull-resolution stroke finishes its execution. Just press Ctrl+Z\nand the your preview will be (partially) reverted and the corresponding\nbackground stroke will be cancelled.\n\nTechnically it is implemented by introducing the second undo store\ninside the strokes queue and syncing it with the running strokes\nwith a set of complicated rules. If the stroke can be cancelled,\nit is cancelled, if the stroke has already completed its execution,\nit is just undone.\n\nBUG:363311\nRef T2544"}}, {"color": "FFFF0000", "data": {"message": "Fix the artifacts when doing quick hatches with Instant Preview\n\nWhen the strokes queue reaches the resume stroke ans starts\nits execution, no Lod0 can execute anymore. So all the new Lod0\nstrokes should go to the end of the queue and wrapped into their\nown Suspend/Resume pair\n\nFixes T2542"}}, {"color": "FFFF0000", "data": {"message": "Fix updates of the shape selection after converting it from shapes\n\nCCBUG:371138"}}, {"color": "FFFF0000", "data": {"message": "Fix a hangup and a crash when undoing vector selection creation\n\nThis is not exactly the crash reported in the report, but may be related\n\nCCBUG:371138"}}, {"color": "FFFF0000", "data": {"message": "Crop selection outline correctly when creating a cropped selection"}}, {"color": "FFFF0000", "data": {"message": "Fix the Rectangular selection tool for cases when the rect is outside image\n\n1) Crop/Deselect correctly depending on the selection action\n2) Deselect the selection if the resulting selection is empty\n\nFixes T4094"}}, {"color": "FFFF0000", "data": {"message": "Fix local selections to work again\n\nThis patch just correctly implements the overriding of a selection\nin the resources snapshot\n\nFixes T4089\nBUG:371135\nCC:djkah11@yandex.ru"}}, {"color": "FFFF0000", "data": {"message": "Fix Wash Mode painting on masks\n\nWe told Krita that the masks support indirect painting but\nwe never implemented the indirect painting itself! :(\n\nFixes T3922\nBUG:369643"}}, {"color": "FFFF0000", "data": {"message": "Fix the Predefined Brushes\n\nThe problem is that we share a single KisBrush object across the entire\nKrita. Therefore, if we start writing into the settings object and some\nother code will get notifications that \"something has changed\", that other\nlocation may override some settings in the shared KisBrush. Therefore we\nwill continue to write wrong values to the brush.\n\nTherefore now we postpone all the updates of the settings object until the\nentire write operation is completed. The postponing is implemented using a\nspecial KisPaintOpPreset::UpdatedPostponer class that uses the interface\nof updates proxy to do the stuff\n\nFixes T3925\nBUG:369532"}}, {"color": "FFFF0000", "data": {"message": "Fix merging multiple layers\n\nFixes T3870\nBUG:369163"}}, {"color": "FFFF0000", "data": {"message": "Fix marking presets with Dirty mark when changing presets in the editor\n\nFixes T3923\nBUG:369605"}}, {"color": "FFFF0000", "data": {"message": "Fix \"Instant Preview\" checkbox work correctly on initialization\n\nThis patch also makes the resources setting more straightforward,\nin the same way other properties work."}}, {"color": "FFFF0000", "data": {"message": "Avoid warnings by weird overrides"}}, {"color": "FFFF0000", "data": {"message": "Fix unittest"}}, {"color": "FFFF0000", "data": {"message": "Don't regenerate image frames too much\n\n1) When the previous regeneration is not finished yet, compress it\n   (see KisSwitchTimeStrokeStrategy::SharedToken)\n\n2) When the frame switch doesn't actually change the image (e.g. when\n   the keyframes are exactly the same), switch the time, but don't\n   regenerate the data."}}, {"color": "FFFF0000", "data": {"message": "Make the frame switch stroke a barrier\n\nNow the frame cannot switch until all the background strokes are\nfinished. Basically, we had this behavior from the very beginning,\nthough I wanted to get out of it, but it didn't work.\n\nFixes T3930\nBUG:369191"}}, {"color": "FFFF0000", "data": {"message": "Fix switching frames when painting at the same time\n\nFixes T3930\nBUG:369191"}}, {"color": "FFFF0000", "data": {"message": "Fix KisImageAnimationInterfaceTest::testSwitchFrameWithUndo\n\nThe frame switching undo commands are mergable now"}}, {"color": "FFFF0000", "data": {"message": "Fix crashes in KisImageAnimationInterfaceTest\n\nNow it there is no content channel by default, so we should\ncreate it manually"}}, {"color": "FFFF0000", "data": {"message": "Implement correct parsing of 'linearGradient' and 'radialGradient' elements"}}, {"color": "FFFF0000", "data": {"message": "Implement 'color-profile' element parsing\n\nThe bad thing that this element is not used anywhere yet. The rest\nof the color management work is postponed until KoShape supports\nsomething except QPainter."}}, {"color": "FFFF0000", "data": {"message": "Implement UniqueID field for ICC color profiles"}}, {"color": "FFFF0000", "data": {"message": "Disable optimisation for the destination in and atop blending modes.\n\nThis s necessary, otherwise they'll only half work."}}, {"color": "FFFF0000", "data": {"message": "Test/fix fill and display related attributes"}}, {"color": "FFFF0000", "data": {"message": "Add comments into KUndo2Command about inheriting it from QObject"}}, {"color": "FFFF0000", "data": {"message": "Tested all the stroke-related attributes\n\nNow all the stroke-related attributes work correctly, except of:\n\n1) 'stroke-miterlimit' works strangely (most probably the test is too small)\n2) ICC color is not recognized\n4) Gradients/Patterns are not tested"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Fix the randomness of KisRandomSource\"\n\nThis reverts commit 2c0bc2a25f793b7773af271a5d0695794b0d49d0."}}, {"color": "FFFF0000", "data": {"message": "Implemented correct parsing of 'transform' attribute\n\nThis patch introduces the dependency from boost::spirit. Implementing\nthe same thing in regexp were too tedious and complicated."}}, {"color": "FFFF0000", "data": {"message": "Implemented basic parsing of SVG coordinate systems\n\n1) Parse <svg> tag correctly\n2) Parse unit conversion correctly. Remember: 'px'=='user unit'!\n3) Parse 'viewBox' attribute correclty\n4) Parse 'preserveAspectRatio' attribute correctly\n   (except of 'defer' option for image)"}}, {"color": "FFFF0000", "data": {"message": "Fix alignment of the selection size values\n\nBUG:369557"}}, {"color": "FFFF0000", "data": {"message": "Fix KisImageTest\n\nSometimes the user might pass null pointer which causes a crash"}}, {"color": "FFFF0000", "data": {"message": "Implement cloning of KisImage object\n\nAll the layers are shallow-copied, all the metadata is deep copied.\n\nThis functionality should be used in saving/autosaving in a background.\n\nFixes T3572"}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix saving of clip paths"}}, {"color": "FFFF0000", "data": {"message": "Fix saving of Gradients!"}}, {"color": "FFFF0000", "data": {"message": "Implement a unittest for saving SVG and fix saving dashed lines\n\nThe precision of the dashes should be a bit higher"}}, {"color": "FFFF0000", "data": {"message": "Implement defs/use to work correctly"}}, {"color": "FFFF0000", "data": {"message": "Move pointer-related functions from kis_global.h into a separate header"}}, {"color": "FFFF0000", "data": {"message": "Pass shapeToOriginalUserCoordinate transform via parameters\n\nGlobal variables, especially hashes are not nice!"}}, {"color": "FFFF0000", "data": {"message": "Remove KoClipData class\n\nHaving 4 d-pointer-like object embedded one into each\nother is too much for me.\n\nAt least now the shapes are correctly copied before\nbeing assigned to the clipping path in SVG loading\ncode."}}, {"color": "FFFF0000", "data": {"message": "Implement KoShape::cloneShape()\n\nThis is a mandatory function to be able to load shapes from SVG,\nbecause the same shape may be instantiated from different places.\nWe still need to discuss whether we need to really \"share\" the\nshape template, but for now I just deep-copy them (which is the\neasiest because of shape normalization problem we have).\n\nThere are the following drawbacks/hacks in this patch:\n\n1) Not all the shapes have KoShape::cloneShape() implemented! Basically,\n   it is defined only for group shape and all the descendants of a path\n   shape (which are the only shapes used in SVG). Other shapes use the\n   default implementation which simply returns null.\n\n   Ideally, there should be no default implementation and all the shapes\n   should define it. But, given that we are going to deprecate quite a lot\n   of stuff, I'll keep them just unimplemented for now.\n\n2) The following shape properties are not yet copied during cloning:\n\n   * toolDelegates\n   * dependees\n   * shadow\n   * border\n   * filterEffectStack\n\n   All the properties, except of tool delegates will probably be\n   deprecated soon. And for the tool delegates we need to invent\n   something ingenious to handle the pointers to recover pointers\n   to the *cloned* shapes.\n\n3) I cannot guarantee TextShape's work anymore. I just blindly\n   refactored it to use QScopedPointer to QTextDocument instead of\n   the previous raw pointers trickery and never tested it. Hope it\n   still works..."}}, {"color": "FFFF0000", "data": {"message": "Fix for a crash when saving a document after adding a text shape\n\nSummary:\nThis patch should fix a crash that happens after\nKisShapeLayerCanvas::repaint() is called on a cloned image. Actually,\nKisShapeLayer::setImage() was implemented incorrectly. It deleted\nm_d->converter and m_d->paintDevice, although canvas still owned a link\nto them. Therefore the next coming update crashed the application.\n\nBUG:372357\n\nTest Plan:\nI could never reproduce the original bug, I only used the results of\nBoud's valgrind output. So please test the original bug with the patch\nbefore I push it into 3.1 and impex.\n\nReviewers: #krita, rempt\n\nDifferential Revision: https://phabricator.kde.org/D3452"}}, {"color": "FFFF0000", "data": {"message": "Don't leak shapes! The recursive crash is finally fixed."}}, {"color": "FFFF0000", "data": {"message": "Fix compilation due to undefined M_PI on some compilers"}}, {"color": "FFFF0000", "data": {"message": "Fix Tilt-elevation to work with rotated/mirrored canvas\n\nWe should pass already normalized base angle values to the sensor\n\nBUG:366289,369451"}}, {"color": "FFFF0000", "data": {"message": "Fix KisBrushOpTest\n\nThe brushes should be loaded before doing any testing"}}, {"color": "FFFF0000", "data": {"message": "Fix isotropic spacing when working on a mirrored canvas\n\nSummary: BUG:372545\n\nTest Plan:\nThis patch touches rotation and mirroring capabilities of the brushes. These\nparameters depend on both, brush and canvas rotation/mirroring capabilities,\nso they should be tested in complex.\n\n1) Test with rotated (or drawing angle) brushes\n2) Test with mirrored (including using sensor) brushes\n3) Test with rotated canvas\n4) Test with mirrored canvas\n5) Test with all combinations of the above :)\n\nThe general idea of canvas rotation/mirroring is:\n\nWhenever you rotate or mirror the canvas, brush shape *doesn't* change\nits shape from your point of view. That is if you paint with a\nvertical rectangular brush, the brush should still stay vertical\nwhenever you rotate/miror the canvas. In other words, the brush shape\nis linked to your stylus tip, not to the canvas.\n\nReviewers: #krita, woltherav, timotheegiet\n\nDifferential Revision: https://phabricator.kde.org/D3420"}}, {"color": "FFFF0000", "data": {"message": "Fix to race conditions while saving\n\n1) Don't start copying the image when another saving operation\n   is already in progress.\n\n2) Don't reset d->savingImage to null without holding the lock"}}, {"color": "FFFF0000", "data": {"message": "Fix hiding Tool Options widgets when a new window is created\n\nThe problem is:\n\n1) All the main windows are connected to\n   KoToolManager::toolOptionWidgetsChanged() signal.\n2) But different main windows do not share the tools.\n3) Therefore the main windows should check if the signal\n   was emitted by its own tool.\n\nBUG:372110\nFixes T4264"}}, {"color": "FFFF0000", "data": {"message": "Fix hiding Tool Options widgets when a new window is created\n\nThe problem is:\n\n1) All the main windows are connected to\n   KoToolManager::toolOptionWidgetsChanged() signal.\n2) But different main windows do not share the tools.\n3) Therefore the main windows should check if the signal\n   was emitted by its own tool.\n\nBUG:372110\nFixes T4264"}}, {"color": "FFFF0000", "data": {"message": "Add test cases for testing basic shapes"}}, {"color": "FFFF0000", "data": {"message": "Remove unused code"}}, {"color": "FFFF0000", "data": {"message": "Implement loading of <image> objects\n\nThis patch implements a separate ImageShape shape class for this\nkind of objects. Calligra's PictureShape is too overloaded with\nfunctions of ODF to be useful for us :("}}, {"color": "FFFF0000", "data": {"message": "Implemented clipping mask feature of SVG\n\nStill not implemented:\n1) Blending using linear RGB\n2) Doesn't work if a shape has a filter stack\n3) Shapes are leaking... but it should be fixed on the later\n   stages of implementing SVG support. Right now shape ownership\n   rules are not quite clear to me.\n4) Clip mask will not be found if placed into <def> category. *But*\n   at the moment the <def> feature is implemented incorrectly. The\n   inheritance of the 'def' elements should come from 'def', but not\n   from the place of instantiation. So this part should be refactored\n   anyway."}}, {"color": "FFFF0000", "data": {"message": "Fix quint8 integer overflow in TestUtil::compareQImages()"}}, {"color": "FFFF0000", "data": {"message": "Implement parsing of 'clip-path' tag\n\nPlease note that 'clip-rule' is not yet implemented!\n(and most probably will not be done during the first cycle\n of SVG implementation)"}}, {"color": "FFFF0000", "data": {"message": "Remove \"random\" normalization of shapes\n\n1) KoShapeGroupCommand now can avoid making the group normalized\n2) KoPathShape is not normalized during contruction"}}, {"color": "FFFF0000", "data": {"message": "Add a fixme warning!"}}, {"color": "FFFF0000", "data": {"message": "Implement a skeleton for relative clip path rendering test"}}, {"color": "FFFF0000", "data": {"message": "Move KisAlgebra2D into kritaglobal library"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Mark image as modified when the user changes frame rate or animation range\"\n\nThis reverts commit ab8271e1a8aac0f2c39d97ac4d35a9c4c7ba4789.\n\nTha patch causes a regression: the image is modified after loading"}}, {"color": "FFFF0000", "data": {"message": "Implement a test and fix clipping in KoClipPath"}}, {"color": "FFFF0000", "data": {"message": "Save show-in-timeline not depending on the animated status of the layer\n\nBUG:372171"}}, {"color": "FFFF0000", "data": {"message": "Mark image as modified when the user changes frame rate or animation range\n\nBUG:372171"}}, {"color": "FFFF0000", "data": {"message": "Fix saving of \"Show in Timeline\" option\n\nBUG:372171\n\n# Conflicts:\n#\tlibs/ui/tests/CMakeLists.txt"}}, {"color": "FFFF0000", "data": {"message": "Fix a stupid crash in KisMimeData\n\nNever ever pass anything, especially shared pointers by reference!\nIt is completely not obvious that the pointer is changed by the\nfunction internally!\n\nBUG:372245"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to D&D or import a layer into Krita\n\nThat ancient KisImageWSP find-replace refactoring was really\nnot right.\n\nBUG:372247"}}, {"color": "FFFF0000", "data": {"message": "Fix saving of animation parameters\n\nWhen cloning the image, these parameters should be saved as well.\n\nBUG:372171"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in cloning the colorize mask"}}, {"color": "FFFF0000", "data": {"message": "Fixed a crash in KisKraSaverTest\n\nNow it catches report 372171\n\nCCBUG:372171"}}, {"color": "FFFF0000", "data": {"message": "Fix KisKraSaverTest to check patterns correctly"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak asserts in KisKraSaverTest"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when closing images with shape layer + mask\n\nWe shouldn't call any node's method that accesses parent() or\nnext/prevSibling() in ctor and dtor. It is just unsafe.\n\nBUG:372184\n\n# Conflicts:\n#\tlibs/ui/flake/kis_shape_layer.cc"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash in kis_image_test"}}, {"color": "FFFF0000", "data": {"message": "Fix assert in Thumbnail Cache\n\nLimit the size of the thumbnail by 1px to get sane results\n\nBUG:372156"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when drawing in the scratch pad\n\nIt should still be possible to paint of the canvas when there is no\nundo adapter present (happens in the scratch pad).\n\nBUG:372190\nFixes T4479"}}, {"color": "FFFF0000", "data": {"message": "Cold init Lod Availability widget when switching presets\n\nThe problem is that we still store the semantics of the lod\navailability in the *widgets*, not in the settings object itself.\n\nOne day it'll have to be refactored like we did for size, spacing\nand other options.\n\nBUG:369119\nFixes T4221\n\nCCBUG:371938\nRef T4250"}}, {"color": "FFFF0000", "data": {"message": "Remove forgotten debug lines"}}, {"color": "FFFF0000", "data": {"message": "Fix multithreaded building of Qt in ext_qt\n\nThe build commend should be $(MAKE), then make\ncan pass the number of jobs to the child commands and\nmake the build multithreaded."}}, {"color": "FFFF0000", "data": {"message": "Implement sample radius for Ctrl+click color picker\n\n* select sample radius in the Color Picker tool\n* use this radius everywhere, even in the Ctrl+click mode\n\nBUG:366303\nRef T4224"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to run Krita without *any* opengl present\n\n(e.g. via ssh+xforwarding)"}}, {"color": "FFFF0000", "data": {"message": "Fix color picker radius for the Color Pick Tool\n\nThis patch introduces a separate method for KoMixColorsOp\nthat can work without any weights, just uniformly averaging the data.\n\nBUG:366303\nRef T4224"}}, {"color": "FFFF0000", "data": {"message": "Don't merge onion skins when merging two layers\n\nThat was quite an old bug :)\n\nBUG:363115\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Make Mirror Mode have different axes centers for each opened image\n\nBUG:364289\nFixes T4226"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'kazakov/undo-with-instant-preview-T2544' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Implement rendering of SVG patterns\n\nThere are a lot of weirdness in it, because every application\nrenders patterns as it likes. Still result most of the test cases\ncoincide with the one of Chrome and Firefox."}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Don't restart playback of the chunk when moving cursor over the same frame\n\nThanks Timothee Giet for the report!"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/audio-track-support"}}, {"color": "FFFF0000", "data": {"message": "Implement a slider for configuring Volume of the audio channel in the document"}}, {"color": "FFFF0000", "data": {"message": "Connect nice icons by Timothee Giet to real audio controls :)"}}, {"color": "FFFF0000", "data": {"message": "Stop playing audio chunk when user stops the cursor during scrubbing\n\nThe stop timeout is set to 1.5 * scribbingAudioUpdatesDelay, which you\ncan configure in kritarc. Default value for scribbingAudioUpdatesDelay\nis 200ms."}}, {"color": "FFFF0000", "data": {"message": "Removed code duplications for filtering editable shapes"}}, {"color": "FFFF0000", "data": {"message": "Merge Resize, Move and Rotate commands when applied sequentially"}}, {"color": "FFFF0000", "data": {"message": "Rename kritaundo2 library into kritacommand\n\nNow it includes KisCommandUtils, so it is not just a fork of\nQUndoStack."}}, {"color": "FFFF0000", "data": {"message": "Move KisCommandUtils into kritaundo2 library"}}, {"color": "FFFF0000", "data": {"message": "Automatically enable Uniform Scaling mode when a group shape is selected"}}, {"color": "FFFF0000", "data": {"message": "Add more feedback on disabling \"Uniform Scaling\" mode\n\nUniform Scaling mode means that your shape is not just \"resized\", but\n\"transformed\" using a uniform transformation.\n\nWhen you \"resize\" (uniform scaling disabled) a shape, you basically\nchange its local width and height (even when the shape is rotated\nusing some embedded transformation). Resizing can never shear or deform\nyour shape, that is a resized rectangle will always stay rectangular.\n\nWhen you \"uniform scale\" a shape, you don't \"resize\" it, you apply a\ntransformation to it. That is all the small elements of the shape like\nstroke, pattern and gradient will also become scaled. And if you apply\na uniform scale transform in global mode to a rotated shape, then\nthe shape will be scaled uniformly, and rectangle will become sheared.\n\nNOTE1: Non-uniform scaling mode is available only when\n       *one* shape is selected. \"Resizing\" multiple shapes\n       in a non-uniform way is just not possible. Therefore the\n       checkbox becomes automatically disabled when you select\n       multiple shapes.\n\nNOTE2: Groups do not support non-uniform \"resizing\" (see NOTE1).\n       Technically, resizing of a group is just applying a common\n       transformation on the top of the child shapes. Therefore, all\n       the properties of the uniform scaling apply to this process.\n\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Implement global scaling mode\n\nIn Global Scaling Mode the spin boxes in the geometry box\nmeasure the size of your shape in *absolute* coordinates, that is\nin X,Y coordinates of your image. That way you can find out the\nbounding box of the heavily transformed shapes.\n\nGlobal Scaling Mode can also be combined with \"non-uniform scaling\"\nmode. It this case, changing width or height of the shapes will keep the\ngeometry of the shape(!), that is will not add any shears to the rotated\nshapes. If you combine Global Scaling Mode and Uniform Scaling, then\nscaling rotated shapes will shear during the transformation.\n\nPS:\nI feel these options will need quite a bit of video\ndocumentation/explanation!\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Finished basic implementation of the Geometry panel\n\nIt basically works, uses a shared anchor point selection widget,\nhandles aspect ratio locking and so on.\n\nStill TODO:\n1) Global coordinates\n2) Anchor lock"}}, {"color": "FFFF0000", "data": {"message": "Let KisAspectRatioLocker work with KisDoubleParseUnitSpinBox"}}, {"color": "FFFF0000", "data": {"message": "Move KisSignalsBlocker and KisAcyclicSignalCompressor into kritaglobal"}}, {"color": "FFFF0000", "data": {"message": "Implement correct selection and toggling of shapes according to the requirements\n\n1) Shift + click --- toggles multiple shapes\n2) Shift + drag --- *adds* shapes to the selection\n3) Ctrl+drag --- toggles overlapping shapes\n4) Alt+drag --- lets you start a rubber band on a shapes\n                (disabled click-selection)\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Implement two modes of selecting shapes\n\n1) Left-to-right mode selects only shapes that that completely inside\n   the selection frame.\n2) Right-to-left mode selects the shapes that are crossed by the frame.\n3) Blue frame means \"covering\" (or \"containing\") selection\n4) Green frame means \"crossing\" selection\n5) TODO: make two cursors/icons for the two modes, so people could\n         understand it without reading the manual.\n\nSee point 4A in the requirements for the details:\nhttps://phabricator.kde.org/w/krita/vector_tool_requirements/\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/audio-track-support\n\n# Conflicts:\n#\tplugins/dockers/animation/timeline_frames_model.h\n#\tplugins/dockers/animation/timeline_frames_view.cpp"}}, {"color": "FFFF0000", "data": {"message": "Implement Audio Channel support\n\nIt is quite primitive yet (it doesn't have any visualisation), but it\nworks! Just select the file using a button on the timeline and it'll\nwork fine: with both playback and scrubbing.\n\nTODO: icons for the button!\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix undo of 'ungroup' operation\n\nWell, we should use _real_ properties of the shapes, not the fake ones."}}, {"color": "FFFF0000", "data": {"message": "Fix rendering of the group shapes\n\nThe groups should be clipped by boundingRect(), not by outlineRect().\nThe former one includes all the effects, stroke width and other stuff\nthat can go out of the official shape outline."}}, {"color": "FFFF0000", "data": {"message": "Fix scaling multiple rotated shapes\n\nWhen applying the scaling transform we should first uncover the\nselection transform and only then apply our scaling."}}, {"color": "FFFF0000", "data": {"message": "Drop now deprecated stripping of the shape selection"}}, {"color": "FFFF0000", "data": {"message": "Fix 'redo' icon name"}}, {"color": "FFFF0000", "data": {"message": "[SILENT] Fix misprint"}}, {"color": "FFFF0000", "data": {"message": "A huge KoFlake refactoring to make shape transformations work correctly\n\n1) KoSelection is completely refactored. Now it is always *recursive*.\n   More than that, now it automatically tracks the transformation changes\n   of the containing shapes (using KoShape::ShapeChangeListener)\n\n2) The size of KoSelection is now automatically tracked as well.\n\n3) A lot of small fixes in DefaultTool transformation strategies. Now\n   you can easily transform everything: single shapes, multiple\n   selections and groups.\n\nThere is still one bug: scaling of multi-object selection works weirdly."}}, {"color": "FFFF0000", "data": {"message": "Fix grouping of shapes"}}, {"color": "FFFF0000", "data": {"message": "[FEATURE] Allow deselection by clicking with a selection tool\n\n1) Now you can deselect with *any* selection tool:\n   rectangular, elliptical, outline.\n\n2) Now you can also deselect with your tablet stylus,\n   because there is a small tolerance level for\n   considering your new selection as a click. If you made\n   a selection that is smaller than 5 (view) pixels, then\n   it is considered as a click and the tool deselects\n   everything.\n\n3) One can configure the click-tolerance level with a\n   config option 'SelectionViewSizeMinimum'\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "[FEATURE] Ctrl-key continued mode for Outline Selection Tool\n\nThis is a special mode of the outline selection tool. If\nyou press Ctrl while dragging the cursor, you can raise\nthe stylus from the tablet surface and have a bit of rest.\nThen just continue the selection from the arbitrary point\nand the new selection segment will be connected to the\nolder one with a straight line.\n\nThis shortcut basically temporary switches outline tool\ninto polygonal tool. That is extremely useful for painters\nwho do flat-filled art.\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix deselecting with a single click with outline selection tool"}}, {"color": "FFFF0000", "data": {"message": "[FEATURE] Allow deselection by clicking with a selection tool\n\n1) Now you can deselect with *any* selection tool:\n   rectangular, elliptical, outline.\n\n2) Now you can also deselect with your tablet stylus,\n   because there is a small tolerance level for\n   considering your new selection as a click. If you made\n   a selection that is smaller than 5 (view) pixels, then\n   it is considered as a click and the tool deselects\n   everything.\n\n3) One can configure the click-tolerance level with a\n   config option 'SelectionViewSizeMinimum'\n\nCC:kimageshop@kde.org\n\n# Conflicts:\n#\tlibs/image/kis_algebra_2d.h"}}, {"color": "FFFF0000", "data": {"message": "[FEATURE] Ctrl-key continued mode for Outline Selection Tool\n\nThis is a special mode of the outline selection tool. If\nyou press Ctrl while dragging the cursor, you can raise\nthe stylus from the tablet surface and have a bit of rest.\nThen just continue the selection from the arbitrary point\nand the new selection segment will be connected to the\nolder one with a straight line.\n\nThis shortcut basically temporary switches outline tool\ninto polygonal tool. That is extremely useful for painters\nwho do flat-filled art.\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix randomly closing opened actions when autosaving\n\nlock() call requests all the strokes to finish, which is not\nwhat we want during autosave. Therefore, we just forbid autosave\nwhile some action is running.\n\nThis patch will also fix some bugs with random hickups when doing\nstrokes (when autosave does something in the background)."}}, {"color": "FFFF0000", "data": {"message": "Fix compilation\n\n(forgot to push a fragment)"}}, {"color": "FFFF0000", "data": {"message": "Chop off Shape Arrange controls into a separate docker\n\nIn the future we should make them support arranging\nusual raster layers. But not now."}}, {"color": "FFFF0000", "data": {"message": "Don't use KoDrag when cloning Vector Layers"}}, {"color": "FFFF0000", "data": {"message": "Fixed saving .kra files in Krita and recovered unittests\n\nThe problem was in SVG export plugin trying to register itself as\nan export filter for .kra :)\n\nAlso fixed the unittests after the impex refactoring."}}, {"color": "FFFF0000", "data": {"message": "Refactor KoToolBase::popupActionList() into KoToolBase::popupActionsMenu()\n\nReturning a list we cannot make submenus"}}, {"color": "FFFF0000", "data": {"message": "Implement context menu actions for Default Tool"}}, {"color": "FFFF0000", "data": {"message": "Fix ugly rendering of shape handles and bounding boxes\n\nFinally! :)\n\nNow there is a special class for rendering handles in native\ndisplay coordinates, instead of the transformed one. Its name is\nKisHandlePainterHelper. It uses KisAlgebra2D::DecomposedMatix\nangorithm, which decomposes an arbitrary matrix into a set of\nprimitive transformations. Then we use shear and rotate parts of it\nto transform the handles and drop the rest :)"}}, {"color": "FFFF0000", "data": {"message": "Fix exporting video in AppImage, Snap and DMG"}}, {"color": "FFFF0000", "data": {"message": "Fix grouping/ungrouping of shapes\n\nThere was a weird recursion problem in setParent()/addShape()\nfunctions. Now KoShape can use only specialized interface of\nthe container that should not be used by anyone else."}}, {"color": "FFFF0000", "data": {"message": "Fix unittest for loading SVG files"}}, {"color": "FFFF0000", "data": {"message": "Fix warning"}}, {"color": "FFFF0000", "data": {"message": "Fix SVG import plugin after merging Boud's refactoring"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/svg-loading\n\n# Conflicts:\n#\tlibs/flake/KoShapeGroup.cpp\n#\tlibs/flake/tests/CMakeLists.txt\n#\tlibs/global/kis_algebra_2d.h\n#\tlibs/ui/flake/kis_shape_layer.h\n#\tplugins/flake/CMakeLists.txt\n#\tplugins/impex/odg/kis_odg_import.cc"}}, {"color": "FFFF0000", "data": {"message": "Implement loading SVG files as a Document into Krita"}}, {"color": "FFFF0000", "data": {"message": "Implement saving/loading of Krita's Shape Layers as SVG!"}}, {"color": "FFFF0000", "data": {"message": "Fix High-Quality filtering on AMD GPU\n\nIts Linux driver supports openGL 3.0 only\n\nBUG:373490"}}, {"color": "FFFF0000", "data": {"message": "Connect Timothee's icon to the pivot point feature\n\nRef T119"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/kazakov/scale-from-pivot-point-T119' into rempt/impex-refactoring\n\n# Conflicts:\n#\tplugins/tools/tool_transform2/kis_tool_transform_config_widget.cpp\n#\tplugins/tools/tool_transform2/wdg_tool_transform.ui"}}, {"color": "FFFF0000", "data": {"message": "Fix strings problems reported by the localization team\n\nTODO: merge it into krita/3.1 after the release is done!"}}, {"color": "FFFF0000", "data": {"message": "Fix a NaN transformation when using 4-point perspective transform\n\nIt appeared that my matrix decomposition could not decompose an\nidentity matrix :( Well, we need to implement a better one, e.g.\nfrom CSS. For now just avoid division by zero.\n\nMost probably, the problem appeared after introduction of cursor\nsnapping. Before snapping identity matrix was almost impossible\nto get with a mouse cursor.\n\nBUG:372677\nRef T4840"}}, {"color": "FFFF0000", "data": {"message": "Sync layer scroll-visibility in the timeline when using PgUp and PgDown\n\nBUG:373316\nFixes T4837"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to apply transformation to empty layer\n\nFixes T4790"}}, {"color": "FFFF0000", "data": {"message": "Fix (almost) a deadlock when converting image color space"}}, {"color": "FFFF0000", "data": {"message": "All shortcuts should be configurable when no document is open\n\nThe problem happens because some actions are created/added-to-collection\nonly after a document is created. Now we workaround it by faking the\nabsent actions and deleting them together with KisActionsSnapshot.\n\nAnother problem is that some of the actions, e.g. \"show_color_history\",\nis created long before it is added to the global action collection. It\nis _created_ right at the start of Krita, but _added_ only when a new document\nis constructed. If we change the shortcut between these two events, then\nthe changed value will be lost. Now we workaround this problem by connecting\nto the action collection, listening to 'inserted()' signal and updating\nshortcuts when an action is added to the collection.\n\nBUG:370720"}}, {"color": "FFFF0000", "data": {"message": "Fix double initialization of actions in the action manager"}}, {"color": "FFFF0000", "data": {"message": "Fix undoing shortcut changes when pressing Cancel button\n\nBUG:362869"}}, {"color": "FFFF0000", "data": {"message": "Added a sanity check for actions, fixed composition actions\n\nTo enable sanity check, uncomment the corresponding define in\nKisActionsSnapshot.cpp"}}, {"color": "FFFF0000", "data": {"message": "Fix formatting and unused variables\n\nThere should be no extra semicolon after functions in C++"}}, {"color": "FFFF0000", "data": {"message": "Fix propertizing Color History and Common Colors actions\n\nBUG:348033"}}, {"color": "FFFF0000", "data": {"message": "Fixed multiple shortcuts bugs\n\n1) Standard actions, like Copy/Paste are now propertized as well.\n   Otherwise, their custom shortcuts were never used.\n\n2) ActionInfoItem now has a special field showing that the action\n   is explicitly reset to null. This way we will not break it\n   accidentally, when refactoring empty strings in the future\n   (like it happened this time).\n\n3) Split up KisActionRegistry and KisActionsSnapshot. The former\n   is a singleton and used for propertizing the actions, but the\n   latter one is just a snapshot used for filling up the settings\n   dialog.\n\nBUG:373184,372198"}}, {"color": "FFFF0000", "data": {"message": "Reword the shortcuts conflict message\n\nBUG:363823"}}, {"color": "FFFF0000", "data": {"message": "Implement a feedback for barrier blocking when doing some actions\n\nSummary:\nSome actions should not be started before all the previous actions\nare finished. That is especially true for the actions that work\nwith layers stack, like \"Merge Down\" and \"Flatten\".\n\nNow KisDelayedSaveDialog is used not only for saving, but also for\nwaiting before doing usual actions. It also has a busy-loop timeout of\n1 second before showing up, for not distracting painters from their\nworkflow when the action is postponed only a little bit.\n\nBUG:372724\nFixes T4593\n\nTest Plan:\nBasically, the steps like in bug 372724.\n\n1) Select multiple layers\n2) Start a long stroke (1000px colorsmudge brush is a good example)\n3) Press Ctrl+E ***multiple*** times quickly\n4) After all the background work is finished, press Ctrl+Z\n\nThere should be no crash, and the result should be somewhat expected.\n\nRepeat the same for:\n1) Merge down\n2) Flatten Image\n3) Flatten Layer\n4) Transform a layer using \"Layers\" menu(?)\n\nReviewers: #krita, timotheegiet, scottpetrovic\n\nManiphest Tasks: T4593\n\nDifferential Revision: https://phabricator.kde.org/D3449"}}, {"color": "FFFF0000", "data": {"message": "Move coordinate system enum into a separate file to avoid duplications"}}, {"color": "FFFF0000", "data": {"message": "Add a note to pattern loading code"}}, {"color": "FFFF0000", "data": {"message": "Implement saving of raster image shapes\n\n1) Implement saving of images as embedded in base64\n2) Implement loading of base64-embedded images"}}, {"color": "FFFF0000", "data": {"message": "Implement saving of vector patterns\n\nNow all the unittests except 'image' works fine!"}}, {"color": "FFFF0000", "data": {"message": "Implement saving of SVG masks"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Change shape gradient when changed using global Krita controls"}}, {"color": "FFFF0000", "data": {"message": "Allow editing gradient stops with usual Krita Color Selectors\n\nJust make sure the stop is selected atm"}}, {"color": "FFFF0000", "data": {"message": "Don't use '-pattern_type glob' for ffmpeg stream input\n\n'glob' option is not available on Windows in normal ffmpeg builds.\nTherefore, we should use '-start_number' instead.\n\nFixes T5228"}}, {"color": "FFFF0000", "data": {"message": "Implement saving of the Gradient resource from the default tool"}}, {"color": "FFFF0000", "data": {"message": "Implement code for Gradient Type and Spread combo boxes"}}, {"color": "FFFF0000", "data": {"message": "Added Gradient editor to the default tool\n\nDone:\n1) KisStopGradientEditor is now embedded into the default tool docker\n2) You can assign predefined gradients with a special control now\n\nTodo:\n1) On-canvas gradient control points editing\n2) Type and Repeat configuration (controls are not yet connected)\n3) Saving of the gradient into the list of predefined resources."}}, {"color": "FFFF0000", "data": {"message": "Move KoFillConfigWidget into DefaultTool plugin\n\n(I needed it to depend from kritaui for KisStopGradientEditor)"}}, {"color": "FFFF0000", "data": {"message": "Implement Opacity slider in the geometry tab of the Default tool"}}, {"color": "FFFF0000", "data": {"message": "Add icon to the color picker button\n\n(which functionality is not implemented yet)"}}, {"color": "FFFF0000", "data": {"message": "Implement the first version of the Fill selection GUI"}}, {"color": "FFFF0000", "data": {"message": "Remove accidentally added file"}}, {"color": "FFFF0000", "data": {"message": "Fix incorrect initialization of FPS when scrubbing right after opening the image\n\nThe bug disappeared after you first pressed play button.\n\nNow we just don't store FPS anywhere internally."}}, {"color": "FFFF0000", "data": {"message": "Implement a switcher for vector tool modes"}}, {"color": "FFFF0000", "data": {"message": "Rename DefaultToolWidget into DefaultToolGeometryWidget"}}, {"color": "FFFF0000", "data": {"message": "Refactor out the old version of absolutePosition"}}, {"color": "FFFF0000", "data": {"message": "Make sure handles are visible when stroke width is high"}}, {"color": "FFFF0000", "data": {"message": "Don't allow scaling object to real zero. It creates really weird effects."}}, {"color": "FFFF0000", "data": {"message": "Make audio tolerance configurable\n\nUse 'audioOffsetTolerance' config option to set it. If set to -1,\nthen the tolerance is set automatically to the duration of the frame\naccording to the current frame rate.\n\nCC:animtim@gmail.com"}}, {"color": "FFFF0000", "data": {"message": "Fix non-initialized \"Source FPS\" label in the animation import dialog"}}, {"color": "FFFF0000", "data": {"message": "Ask the user to locate the audio channel file when it is not found"}}, {"color": "FFFF0000", "data": {"message": "Fix resetting rendered animation filename\n\n1) Use \"Untitled\" when the document has no name\n2) Don't reset name if use canceled the file name selection dialog"}}, {"color": "FFFF0000", "data": {"message": "Don't reset animation export range every time\n\n(but reset it only when document path changes)"}}, {"color": "FFFF0000", "data": {"message": "Fix exporting animation that doesn't start with the first frame\n\n1) Use 'glob' syntax of ffmpeg file pattern\n2) Delete old frame files if they are going to overlap\n   with our new frames"}}, {"color": "FFFF0000", "data": {"message": "Fix success checking"}}, {"color": "FFFF0000", "data": {"message": "Don't crash when trying to export animation into a read-only folder"}}, {"color": "FFFF0000", "data": {"message": "Properly initialize default file name for animation"}}, {"color": "FFFF0000", "data": {"message": "Add an option to make embedding audio stream optional"}}, {"color": "FFFF0000", "data": {"message": "Implement attaching audio into the rendered video file"}}, {"color": "FFFF0000", "data": {"message": "Deploy QtMultimedia into Windows packages"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/audio-track-support"}}, {"color": "FFFF0000", "data": {"message": "Add support for Flac :)"}}, {"color": "FFFF0000", "data": {"message": "Fix misprint: scribbing -> scrubbing"}}, {"color": "FFFF0000", "data": {"message": "Implement automated scrubbing audio chunk length\n\nAs recommeded by Timothee Giet."}}, {"color": "FFFF0000", "data": {"message": "Added error reporting to the audio channel support"}}, {"color": "FFFF0000", "data": {"message": "Activate building of QtMultimedia on Windows\n\nBasically removing this switch is the only thing you should do\non Windows."}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Make Ellipse Shape save with extended editing information"}}, {"color": "FFFF0000", "data": {"message": "Fix saving correct resolution to SVG"}}, {"color": "FFFF0000", "data": {"message": "Save Krita SVG namespace into the XML file\n\nOtherwise neither Firefox not Chromium can open it"}}, {"color": "FFFF0000", "data": {"message": "Fix single step for the unit spinboxes in vector tools"}}, {"color": "FFFF0000", "data": {"message": "Make all the semi-vector Krita tools care about the current brush size\n\nWe still need a better GUI design for it :( Right now the widgets in\nthese tools duplicate some functionality of KoStrokeConfigWidget and\nat the same time do not allow selecting important stroke parameters,\nlike caps and joins shape."}}, {"color": "FFFF0000", "data": {"message": "Make pencil tool properly initialize the stroke settings\n\nNow we introduce activate()/deactivate() methods for the stroke\nand fill widgets, so we don't care about the visibility anymore.\nIt allows us to avoid quite a lot of initialization races."}}, {"color": "FFFF0000", "data": {"message": "Added tooltips for \"Global Coordinates\" and \"Uniform Scaling\" checkboxes"}}, {"color": "FFFF0000", "data": {"message": "Remove 'stroke' from all the default markers in Krita\n\nOtherwise the stroke overlaps with fill when the opacity\nof the shape is not 100%."}}, {"color": "FFFF0000", "data": {"message": "Update Opacity and other controls when the geometry widget is shown"}}, {"color": "FFFF0000", "data": {"message": "Also convert the pasted clip color space when the option is set\n\nFixes T5367"}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Highlight the active path segment while dragging it\n\nNow the user can easily see that he can also drag by the path\nas well, not only by the control points. When you hover the\npath segment, it is highlighted\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix rectangle shape\n\nWe should not normalize sweep angle since it can easily be 360\ndegrees."}}, {"color": "FFFF0000", "data": {"message": "Automatically convert points into curved when trying to make them smooth or symmetric"}}, {"color": "FFFF0000", "data": {"message": "Fix self-snapping in Shape Edit Tool\n\nThe bounding box strategy should not be snapped to the currently\nedited shape. And the currently edited shape can be fetched by\nthe active points."}}, {"color": "FFFF0000", "data": {"message": "Don't crash when trying to merge two points\n\nBasically we should not keep any points selected while merging"}}, {"color": "FFFF0000", "data": {"message": "Reset active handles when the selection changes"}}, {"color": "FFFF0000", "data": {"message": "Don't switch back from Editing Tool when pressing Ctrl+Z"}}, {"color": "FFFF0000", "data": {"message": "Fix Ellipse Shape not to collapse when setting 0 to 360 arc\n\nNow it is also considered to be a full circle"}}, {"color": "FFFF0000", "data": {"message": "Remove now unused Karbon tools\n\n1) Gradient tool is removed because it is now implemented inside\n   Select Shapes Tool.\n\n2) Pattern and Filter tools are disabled, because this functionality\n   is not implemented."}}, {"color": "FFFF0000", "data": {"message": "Rename main tools into \"Select Shapes\" and \"Edit Shapes\""}}, {"color": "FFFF0000", "data": {"message": "Move KisSignalAutoConnection to kritaglobal"}}, {"color": "FFFF0000", "data": {"message": "Merge path control points move commands as well"}}, {"color": "FFFF0000", "data": {"message": "Fix Shape Properties widgets and make their commands mergable"}}, {"color": "FFFF0000", "data": {"message": "Remove shape properties docker\n\nNow it is a part of Shape Edit tool"}}, {"color": "FFFF0000", "data": {"message": "Merge shape properties widget into the Shape Edit tool"}}, {"color": "FFFF0000", "data": {"message": "Fix Pencil Tool to update the stroke widget even when it is hidden"}}, {"color": "FFFF0000", "data": {"message": "Remove KoMarkerData\n\nIt is not used anymore"}}, {"color": "FFFF0000", "data": {"message": "Implement smooth switching between Selection and Editing tools\n\nNow possible shortcuts are possible:\n\n* Selection <- Enter    -> Editing\n* Selection <- Esc      -- Editing\n* Selection <- DblClick -> Editing\n* Just select the tool in the toolbox\n\nThis path also implements selection of the shapes in\nthe Editing tool.\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Make the shortcuts in Edit Tool be consistent with Selection Tool\n\nShift + click, Shift + drag --- multiselection\nCtrl + Click on point --- changle point type: corner, smooth, symmetric\n\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Remove all sporadic switches from path tool into selection tool\n\nI have no idea what was the reason behind doing these weird hacks\nin KoToolProxy"}}, {"color": "FFFF0000", "data": {"message": "Fix minor mistakes"}}, {"color": "FFFF0000", "data": {"message": "FEATURE: paint shape outline during editing when it has no stroke\n\nSometimes the user wants to edit the curvature of the shape that\nhas no stroke, but only fill. In this case we should paint the\nfake selection line on the place where the stroke should have been."}}, {"color": "FFFF0000", "data": {"message": "Don't recreate KoShapePainter every time we paint a marker\n\nCreation of a shape painter is rather expensive, it creates\nshape manager, shape selection, fake shape canvas, builds\nshape tree and all that weird stuff that might be a bit too\nmuch for painting a single shape."}}, {"color": "FFFF0000", "data": {"message": "Avoid warnings"}}, {"color": "FFFF0000", "data": {"message": "Implement centralized painting of handles\n\nNow every (vector) tool in Krita uses KisHandlePainterHelper to\npaint the handles. The helper supports styling, that is you\ncan set any predefined object of type KisHandleStyle to get\nneeded effect."}}, {"color": "FFFF0000", "data": {"message": "Implement parsing angular SVG units: deg, rad, grad\n\nThey are used for setting custom rotation for markers"}}, {"color": "FFFF0000", "data": {"message": "Draw the markers in gray when the widget is not enabled"}}, {"color": "FFFF0000", "data": {"message": "Fixed rendering markers on closed paths\n\nAccording to SVG standard, if a closed path has both start and end\nmarkers, both of them are rendered in the strat point of the path."}}, {"color": "FFFF0000", "data": {"message": "Don't clone the markers when there are no shapes"}}, {"color": "FFFF0000", "data": {"message": "Fix build on Windows"}}, {"color": "FFFF0000", "data": {"message": "Implement auto-fill function for Krita markers\n\nNow we define a custom SVG attribute \"krita:marker-fill-method=auto\",\nwhich means that all the markers should have the same fill (including\ngradient and patterns) as the shape's stroke.\n\nIdeally we should make a GUI switch, so the user would be able to choose\nwhether he wants to auto-fill the markers or not. But that can wait till\nlater.\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Don't generate shape move/resize commands every time we select a shape"}}, {"color": "FFFF0000", "data": {"message": "Added tooltips to the marker and line style dropdowns"}}, {"color": "FFFF0000", "data": {"message": "Implement merging of marker commands"}}, {"color": "FFFF0000", "data": {"message": "Remove old marker methods\n\nNow the markers work in a new way!"}}, {"color": "FFFF0000", "data": {"message": "Fix the bugs in a standalone version of the KoStrokeConfigWidget\n\nThis version of the widget isused in the pencil tool."}}, {"color": "FFFF0000", "data": {"message": "Restore editing the stroke style in the pencil tool"}}, {"color": "FFFF0000", "data": {"message": "Untie width, caps and dashes controls not to become tristated alltogether"}}, {"color": "FFFF0000", "data": {"message": "Fix a bug in KisDoubleParseSpinBox\n\nThe old value should be saved *after* we have set the new value\n(this value is basically a restoration point for the future edits,\nso there is no use saving the pre-previous value)"}}, {"color": "FFFF0000", "data": {"message": "Implement Stroke Style editing docker\n\nNow it fully incorporates the new markers and lets you modify the\nstroke of multiple shapes at once"}}, {"color": "FFFF0000", "data": {"message": "Do not include markers into hit test\n\nImplemented this way they make shape selection unusable"}}, {"color": "FFFF0000", "data": {"message": "Reimplement KoMarkerCollection to support new markers\n\n1) New markers are now loaded from a custom SVG file\n2) KoMarkerCollection stores these markers and keeps them unique\n3) KoMarkerSelector can show these new markers"}}, {"color": "FFFF0000", "data": {"message": "Fix compilation on GCC 4.8.5\n\nIt seems like std::function is not always deducible from lambdas"}}, {"color": "FFFF0000", "data": {"message": "Fix updates of the shapes with markers\n\nYes, markers can go outside of the shape area, therefore we\nshould expand the 'boundingRect' of the shape to notify the\nrenderer about it"}}, {"color": "FFFF0000", "data": {"message": "Fix rotation of the marker when points of the Bezier coincide with the nodes"}}, {"color": "FFFF0000", "data": {"message": "Fix loading markers when they are different\n\nJust a misprint actually :)"}}, {"color": "FFFF0000", "data": {"message": "Fix path shape points ownership\n\nWell, when we move/copy points to another shape we should,\nobviously, update the parent."}}, {"color": "FFFF0000", "data": {"message": "Fix ownership of KoPathPoint objects when the shape is cloned"}}, {"color": "FFFF0000", "data": {"message": "Implement saving of SVG markers"}}, {"color": "FFFF0000", "data": {"message": "Implemented loading and rendering stroke markers\n\nRight now they are places in parallel to the old ODF markers.\nIn the future the ODF markers will be deleted."}}, {"color": "FFFF0000", "data": {"message": "Remove \"Edit gradient on canvas\" checkbox\n\nIt is not needed anymore. The mode activated automagically when\nyou switch the button-box."}}, {"color": "FFFF0000", "data": {"message": "Don't draw the rubber line when editing the shape's stroke"}}, {"color": "FFFF0000", "data": {"message": "Compress stroke and fill change actions"}}, {"color": "FFFF0000", "data": {"message": "Don't reset gradient when switching between the fill button"}}, {"color": "FFFF0000", "data": {"message": "Implement editing of the stroke's gradient handles right on the canvas\n\nThis rafactoring also removes quite a lot of code duplications."}}, {"color": "FFFF0000", "data": {"message": "Don't reset stroke width when the fill is set to None"}}, {"color": "FFFF0000", "data": {"message": "Make KoFillConfigWidget support changing stroke color\n\n(and connect it to the stroke config widget)"}}, {"color": "FFFF0000", "data": {"message": "Solved the \"Title of document tab/subwindow is not updated after changing document title\" bug\n\nSummary: The issue was that when the current document title was changed (by using Document Information dialog for example), its name shown in the files tab remained the same, without being updated. I searched for the method which should update the document name and called it.\n\nReviewers: #krita\n\nSubscribers: dkazakov, woltherav\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D4462"}}, {"color": "FFFF0000", "data": {"message": "Moved KoStrokeConfigWidget and KoFillConfigWidget to kritaui library\n\nThat was a really tough decision, but it was done after the\nfollowing tries:\n\n1) I need to embed KoFillConfigWidget into KoStrokeConfigWidget\n2) But KoFillConfigWidget depends on KisStopGradientEditor, which\n   depends on:\n       - KisDoubleSliderSpinBox (depends on KisPart)\n       - KisColorButton (depends on a lot of stuff in KisInternalColorSelector)\n\nSo as a result I just decided to move KoStrokeConfigWidget and all its\ndependees higher in the hierarchy :(\n\nI hope some time in the future we will be able to move these classes back\ninto flake..."}}, {"color": "FFFF0000", "data": {"message": "Don't snap to the resized shape when resizing it"}}, {"color": "FFFF0000", "data": {"message": "Implement a simple handle conflict avoidance algorithm\n\nIf the cursor is in the neighborhood of any shape handle, make\nthe gradient handle radius twice smaller!"}}, {"color": "FFFF0000", "data": {"message": "Show Gradient Edit handles only when the Fill tab is active"}}, {"color": "FFFF0000", "data": {"message": "Implement basic strategies for editing the Gradient handles\n\nNow we also have an abstract KoInteractionStrategyFactory which\ncan be added/removed from the Interaction tool and therefore activate/\ndeactivate some user interaction."}}, {"color": "FFFF0000", "data": {"message": "Use valueChanged instead of editingFinished in Geometry Box"}}, {"color": "FFFF0000", "data": {"message": "Fix unbalanced save/restore in QPainter when drawing rubber band\n\nFrom now on use RAII for saving/restoring a QPainter"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Add compression to the guides\n\nEven though I couldn't reproduce the original bug I added\na bit of compression to the setting of guide value to the document.\n\nBUG:378159"}}, {"color": "FFFF0000", "data": {"message": "Add compression to the guides\n\nEven though I couldn't reproduce the original bug I added\na bit of compression to the setting of guide value to the document.\n\nBUG:378159"}}, {"color": "FFFF0000", "data": {"message": "Fix shapes pasted from Inkscape not to be on different layers\n\nThe shapes should be added in bunches, not one by one."}}, {"color": "FFFF0000", "data": {"message": "Fix canvas blackout on high zoomins in Liquify tool\n\nBUG:378241"}}, {"color": "FFFF0000", "data": {"message": "Fix a race condition in KisUpdateScheduler\n\nIf spareThreadAppeared() signal comes between `m_d->processingBlocked = true`\nand `m_d->processingBlocked = false` lines, then no update will be started\neven when we return from the barrier lock call.\n\nIn normal case, when the barrier lock is successful, processQueues()\nis called in the unlock call, but here it doesn't happen.\n\nBUG:378158"}}, {"color": "FFFF0000", "data": {"message": "Don't use dbgKrita in places which are not available without special ifdefs"}}, {"color": "FFFF0000", "data": {"message": "Start the swapper when undo happens\n\nOtherwise undo information can easily eat a lot of memory"}}, {"color": "FFFF0000", "data": {"message": "Don't crash when closing an image right during the Transform operation\n\nCCBUG:373683"}}, {"color": "FFFF0000", "data": {"message": "Fix compilation"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash after switching tools while running color picking\n\nThe input manager should finish the action before the tool is\nswitched, otherwise the tool may be left with dangling KoStrokeId\npointers and crash after the next execution.\n\nBUG:373883\nFixes T4962"}}, {"color": "FFFF0000", "data": {"message": "Fix resetting the paint device cache on every iterator completion\n\nThis bug should have happened one day. We should reset the paint device\ncache not only on the creation of the iterator, but also on its\ncompletion.\n\nThe actual bug happened because of concurrency, while the stroke was\nfilling the selection, an delayed updateGUI() in the status bar\nrequested selection->selectedExactRect(), which effectively updated the\ncache with empty rect (which it was at that moment). And when the\niterator completed with the updated seleciton, the cache was already\ninitialized with wrong (empty) rect.\n\nNow all the iterators notify the paint device about their completion\nusing a special interface, therefore the problem cannot happen, all\nthe editing event will be synchronized.\n\nBUG:374142"}}, {"color": "FFFF0000", "data": {"message": "Implement shear for masks\n\nSummary: User could not implement shear for masks as well.\n\nTest Plan: Tested by successfully building it and test by using the feature as well.\n\nReviewers: rempt, scottpetrovic, dkazakov\n\nSubscribers: woltherav\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D5151"}}, {"color": "FFFF0000", "data": {"message": "Upgrade the layer to an animated one when the first frame is added\n\nBUG:377176"}}, {"color": "FFFF0000", "data": {"message": "Change the name of Krita's SVG Extensions namespace\n\nLet it be: 'http://krita.org/namespaces/svg/krita'\n\nAlso add a bit of docs for it"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/svg-loading"}}, {"color": "FFFF0000", "data": {"message": "Fix TestKoSelection"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash while accessing shape's RTTI info during its destruction\n\nThanks TestSvgParser unittest for pointing out this problem. In real\nlife it happened randomly without any easy way to reproduce."}}, {"color": "FFFF0000", "data": {"message": "Automagically skip Vector Layers when trying to apply a weird transformation to them"}}, {"color": "FFFF0000", "data": {"message": "Fix loading of some animation files\n\nFor some files KoXml::asQDomElement() works incorrectly.\n\nIdeally, we should deprecate KoXmlReader and friends, but we\nwould need to do the following steps:\n\n1) Benchmark and compare KoXmlReader vs QDomDocument. If the\n   difference is not extremely drastic, then proceed to the\n   next step.\n\n2) Refactor out all the uses of KoXmlReader and KoXmlWriter."}}, {"color": "FFFF0000", "data": {"message": "Fix transformations of a shape layer with transform tool\n\nBUG:373074"}}, {"color": "FFFF0000", "data": {"message": "Make it possible to operate with path points using right-button menu\n\nDouble-clicking is not possible with stylus (at least without\nbig refactorings of the strategies frameworks), so this patch implements\nright-clicking actions for the path objects.\n\nBUG:344878"}}, {"color": "FFFF0000", "data": {"message": "Fix right-button popup menus in tools when using Tablet Stylus\n\nCCBUG:344878"}}, {"color": "FFFF0000", "data": {"message": "Implement joining points of different shapes with a segment\n\nBUG:345713"}}, {"color": "FFFF0000", "data": {"message": "Remove now unused selection callback"}}, {"color": "FFFF0000", "data": {"message": "Implement merging of path points of separate shapes\n\nCCBUG:345713"}}, {"color": "FFFF0000", "data": {"message": "Adjust margin of the stroke config widget"}}, {"color": "FFFF0000", "data": {"message": "Implement snapping for parameter shapes control points"}}, {"color": "FFFF0000", "data": {"message": "Fix drifting of Segment Move strategy\n\nActually, we should save the snapped position, not original\nmouse position."}}, {"color": "FFFF0000", "data": {"message": "Don't duplicate trySimplifyPath()\n\nIt was accidentally duplicated somehow :)"}}, {"color": "FFFF0000", "data": {"message": "Implement distribute objects action"}}, {"color": "FFFF0000", "data": {"message": "Use QSignalMapper to route the signals instead of copy-pasted functions"}}, {"color": "FFFF0000", "data": {"message": "Fix Align actions in the Align Docker"}}, {"color": "FFFF0000", "data": {"message": "Implement a context menu for Paht Editing tool\n\nThis patch also fixes the enable'ness of all the actions in\nthe patch tool. Now they are enabled/disabled only if the\naction is actualy possible."}}, {"color": "FFFF0000", "data": {"message": "Make control points of bezier curves smaller in size\n\nThey should distinguishable from normal curve nodes"}}, {"color": "FFFF0000", "data": {"message": "Fixed transformation of the shapes when applied to KisShapeLayer directly\n\n1) Now all the shapes inherit transformation from their parents by default\n2) In the future we should remove this option (of non-inheriting) shapes\n   completely. It is counter-intuitive and create extremely difficult to\n   catch bugs."}}, {"color": "FFFF0000", "data": {"message": "Don't activate Shape Editing tool on every requestStrokeEnd()\n\nNow we have a special callback for that"}}, {"color": "FFFF0000", "data": {"message": "Fix colliding zIndex values when copy-pasting the shapes\n\nSee a warning comment in KoShape::compareShapeZIndex()"}}, {"color": "FFFF0000", "data": {"message": "Save shape selections as SVG as well"}}, {"color": "FFFF0000", "data": {"message": "Cleanup KoDrag::setOdf()\n\nThat is not supported anymore"}}, {"color": "FFFF0000", "data": {"message": "Remove now unused methods of KoDocumentResourceManager\n\nNow there is a separate shortcut for pasteAt and the offset is relative\nto the shape's size."}}, {"color": "FFFF0000", "data": {"message": "Remove KoShapePaste and all the related classes\n\nThis was an extremely weird system for cloning c++ object via ODF.\nNow everything is done via KoShape::cloneShape() and this patch just\ncleans up the leftovers of the old stuff."}}, {"color": "FFFF0000", "data": {"message": "Make pasting shapes be a priority when pasting\n\nThis implements pasting of shapes in Inkscape->Krita direction."}}, {"color": "FFFF0000", "data": {"message": "Use simplified version of KoShapeMoveCommand"}}, {"color": "FFFF0000", "data": {"message": "Reuse KoShape::boundingBox(listOfShapes) whenever possible"}}, {"color": "FFFF0000", "data": {"message": "Implement copy-pasting of shapes!\n\nThis patch implements the following:\n\n1) The shapes can be copy/pasted inside Krita\n2) The shapes can be copy/pasted Krita->Inkscape\n   (reverse does not yet work)\n3) There are two shortcuts (reverse to Inkscape :( )\n   Ctrl+V paste at original position\n   Ctrl+Alt+V paste at cursor position\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Save 'chord' ellipses into the newly updated inkscape's namespace"}}, {"color": "FFFF0000", "data": {"message": "Keep z-index untouched when grouping the shapes"}}, {"color": "FFFF0000", "data": {"message": "Add a todo note"}}, {"color": "FFFF0000", "data": {"message": "Fixed a lot of double-rendering problems in Flake\n\nThe access to the shapes RTree was not consistent. Some shapes were\n**never** officially added to the tree and resulted in being added\nusing the spontaneous update calls. It resulted them in being added\nto the tree multiple times, which called the double rendering with all\nthe consequences.\n\nThis patch also adds two sanity checks to KoRTree to catch such\nproblems automatically in the future."}}, {"color": "FFFF0000", "data": {"message": "Fix shape jumps when trying to move them with keyboard shortcuts\n\nKoShapeMoveCommand accepts absolute positions, not the local ones!"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to undo shape moves"}}, {"color": "FFFF0000", "data": {"message": "Fix rendering of Wolthera's test SVG file\n\nThe problem happened because we rendered *all* the group layers\n*TWICE*! Once in the shape manager and the second time in the\nshape container itself. Now all the hierarchy rendering happens in\nin the shape manager only."}}, {"color": "FFFF0000", "data": {"message": "Let other classes also use KoSelectedShapesProxy instead of direct methods"}}, {"color": "FFFF0000", "data": {"message": "Fix dangling connections to the shape selection\n\n1) In Krita we have a \"weird\" system, where KisCanvas2 switches shape\n   managers depending the currently activated shape layer/selection.\n   I call it \"weird\" not because it is bad, but because Flake system\n   was not designed for that. Quite a lot of dockers and objects\n   make connections to a KoSelection, and keep these connections\n   throughout the entire run of Krita. That is wrong behavior in Krita.\n\n2) To solve the issue I created a special proxy object:\n\n   KoCanvasBase::selectedShapesProxy()\n\n   which has the same selection signals provided by KoSelection and\n   KoShapeManager, but that is guaranteed to be persistent throughout\n   the entire life of KoCanvasBase."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Proper change of color space and profile for image through \"Image properties\" dialog\"\n\nThis reverts commit 4763f5e524c0cc08f38dae4b1a89d28a2649a985.\n\nThis commit breaks usual conversion of color spaces.\nSee bug: https://bugs.kde.org/show_bug.cgi?id=377267\n\nBUG:377267\nRef D4328"}}, {"color": "FFFF0000", "data": {"message": "Add dox to KisCustomModifiersCatcher"}}, {"color": "FFFF0000", "data": {"message": "Correctly load gradients that link to each other in reversed order"}}, {"color": "FFFF0000", "data": {"message": "Fix inf. recursion loading a pattern with shapes inheriting the same pattern as a fill"}}, {"color": "FFFF0000", "data": {"message": "Fix SVG parser test\n\nSeems like some libraries got updated and the opacity-based tests\nstarted to fail. Added a bit of fuzziness"}}, {"color": "FFFF0000", "data": {"message": "Don't switch to the pan tool when pressing Space in the default tool"}}]}, {"position": 12, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix a crash when the layer gets changed too quickly during frames move\n\nBUG:377614\nRef T5753"}}, {"color": "FFFF0000", "data": {"message": "Fix syncing of the Stroke Fill buttons when switching between two shapes\n\nSteps to reproduce:\n\n1) Create two shapes: (A) with valid stroke style, (B) without\n   any outline.\n2) Select shape (A)\n3) Select shape (B)\n\nThe storke fill should be set to None, not to Solid with transparent\ncolor."}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to multiselect a shape without a stroke\n\nBUG:378137\nRef T5753"}}, {"color": "FFFF0000", "data": {"message": "Don't start D&D when shift is pressed\n\nThere seem to be a bug in Qt. It gets crazy when one starts a drag\nright during shift-selection. So just forbid D&D when shift is pressed.\n\nBUG:373067\nFixes T4880"}}, {"color": "FFFF0000", "data": {"message": "Update delayed (shape and transform mask) layer before merging\n\nFixes T4877\nBUG:373493"}}, {"color": "FFFF0000", "data": {"message": "Don't reset animation cache when toggling layer's onion skins switch\n\nFixes T4876\nBUG:373495"}}, {"color": "FFFF0000", "data": {"message": "Make sure we use Python3"}}, {"color": "FFFF0000", "data": {"message": "Update .so libraries version"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/svg-loading"}}, {"color": "FFFF0000", "data": {"message": "Fix units for the stroke config widget\n\nGot broken by a conflict during merge"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into kazakov/svg-loading\n\n# Conflicts:\n#\tkrita/krita.xmlgui\n#\tlibs/pigment/KoColorSpaceEngine.h\n#\tlibs/pigment/KoColorSpaceRegistry.cpp\n#\tlibs/pigment/colorspaces/KoSimpleColorSpaceEngine.h\n#\tlibs/ui/canvas/kis_canvas2.h\n#\tlibs/ui/widgets/KoStrokeConfigWidget.h\n#\tlibs/widgets/KoStrokeConfigWidget.cpp\n#\tplugins/color/lcms2engine/IccColorSpaceEngine.cpp\n#\tplugins/color/lcms2engine/IccColorSpaceEngine.h\n#\tplugins/tools/basictools/kis_tool_pencil.cc\n#\tplugins/tools/defaulttool/connectionTool/ConnectionTool.cpp\n#\tplugins/tools/defaulttool/defaulttool/DefaultTool.cpp\n#\tplugins/tools/defaulttool/defaulttool/DefaultToolTransformWidget.cpp\n#\tplugins/tools/defaulttool/defaulttool/DefaultToolWidget.cpp"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when merging layers (SVG-branch only)"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when using V shortcut for line tool\n\nBUG:378375"}}, {"color": "FFFF0000", "data": {"message": "Make it possible to disable animation rendering in background\n\nNow, when the cache is recalculated before every playback start,\nwe can let the user to disable background rendering of the animation.\nThat will save him cpu cycles and battery life.\n\nSee the option in\n\nPreferences->General->Recalculate animation cache in background\n\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Regenerate frames cache *before* starting the playback\n\nNow when you click \"Play\" button, the cache is first regenerated,\nand only after that, the playback starts.\n\nBUG:373315\nFixes T4878\nCC:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when trying to show a thumbnail of a non-animated layer"}}, {"color": "FFFF0000", "data": {"message": "Refactor KisAnimationCachePopulator\n\nThis patch move the actual frame regeneration code into a separate class,\nso that we can pre-generate the entire cache when the user presses \"play\"\nbutton."}}]}]}, {"angle": 0.021, "label": "Boudewijn Rempt", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Also hide the splash if KisDocuments autosave dialog pops up"}}, {"color": "FFFF0000", "data": {"message": "Make sure the alpha value is positive when unmultiplying\n\nOtherwise the loop will never end. The image in the\nreferenced bug now loads.\n\nCCBUG:363212"}}, {"color": "FFFF0000", "data": {"message": "Update to 3.0 stable!!!"}}, {"color": "FFFF0000", "data": {"message": "Use Qt::SmoothTransformation in some more places"}}, {"color": "FFFF0000", "data": {"message": "Use Qt::SmoothTransformation when painting the preset images"}}, {"color": "FFFF0000", "data": {"message": "Use the layer's not the image's type when reading pixel data\n\nCCBUG:363212\n\nPatch by Beelzy"}}, {"color": "FFFF0000", "data": {"message": "Copy concatenated qt translations"}}, {"color": "FFFF0000", "data": {"message": "Add debug for Qt's uiLanguages"}}, {"color": "FFFF0000", "data": {"message": "get these files from the new location"}}, {"color": "FFFF0000", "data": {"message": "Use high quality scaling for the popup brush icons"}}, {"color": "FFFF0000", "data": {"message": "BUG:363549 Fall back to the first tag in the list if the current tag is invalid"}}, {"color": "FFFF0000", "data": {"message": "Debug--"}}, {"color": "FFFF0000", "data": {"message": "Fix theming on OSX"}}, {"color": "FFFF0000", "data": {"message": "BUG:363566 Fix the mimetype for workspace and add one for tasksets"}}, {"color": "FFFF0000", "data": {"message": "BUG:363565 Don't reset the theme to default"}}, {"color": "FFFF0000", "data": {"message": "BUG:363265 Do not show the autosave recovery dialog when converting\n\nFix the other autosave recovery interfering with exporting files\non the command line. Note that the command is:\n\n ./dev/i/bin/krita bla.kra --export --export-filename bla.png"}}, {"color": "FFFF0000", "data": {"message": "Update the appdata screenshots"}}, {"color": "FFFF0000", "data": {"message": "Disable the preset context menu\n\nThis is broken in Qt5\n\nCCBUG:357796"}}, {"color": "FFFF0000", "data": {"message": "Disable touch events on OSX\n\nBUG:361585"}}, {"color": "FFFF0000", "data": {"message": "BUG:363087 Show the default swap dir in the preferences dialog\n\nThe QStandardPaths code to get a swap dir resulted in an empty\npath, which got replaced by QDir::tmpPath() in KisSwappedDataStore.\n\nThat's to say; if the user didn't configure a swap location, we'd\nstill use swap, so that isn't the problem. But we didn't show the\nlocation in the preferences dialog.\n\nSo, use the same code to get the temp path for swap in both cases."}}, {"color": "FFFF0000", "data": {"message": "Fix crash on autosave recovery\n\nBUG:362540"}}, {"color": "FFFF0000", "data": {"message": "Add note about gllogicop\n\nThough I think that on AMD, it doesn't work even if it's defined,\nso We still need to figure out another way to draw the cursor.\n\nCCBUG:363124,340085"}}, {"color": "FFFF0000", "data": {"message": "Disable the fullscreen action on Windows\n\nOn Windows, Qt5 cannot draw menus if the window is full-screen\nand there's an opengl widget active. Todo: make a small demo\napplet and report the bug in Qt's bug tracker..."}}, {"color": "FFFF0000", "data": {"message": "More places where we should use KisDomUtils to load/save floating point numbers"}}, {"color": "FFFF0000", "data": {"message": "Use domutils to load and save color definitions\n\nSaving happens in the C locale now, and for backwards\ncompatibility, we load first with the C locale, then\nwith the German locale."}}, {"color": "FFFF0000", "data": {"message": "Don't allow breeze, it's broken"}}, {"color": "FFFF0000", "data": {"message": "Don't try to install in sketch or gemini folders"}}, {"color": "FFFF0000", "data": {"message": "Fix selecting styles\n\nThe default style is not the style that is default for Krita, so\nit shouldn't have the same name as the actually configured style."}}, {"color": "FFFF0000", "data": {"message": "BUG:358993 Allow setting the icon size if there is no open image"}}, {"color": "FFFF0000", "data": {"message": "Do not set a minimum size on the toolbox\n\nIf there's a minimum size that's bigger than the screen, Krita will\ngrow outside the screen, confusing users and making life hard. If\nthe toolbox doesn't fit vertically or horizontall, double the number\nof columns or rows until we do fit.\n\nBUG:362827"}}, {"color": "FFFF0000", "data": {"message": "BUG:363374 Correctly select the currently chosen extension\n\nThe Qt file dialog api confuses \"filters\" with selected file\ntype, making this trickier than needed."}}, {"color": "FFFF0000", "data": {"message": "Don't show the splash screen on Gnome\n\nAnd raise it one time once it's turned into the recent documents\nscreen."}}, {"color": "FFFF0000", "data": {"message": "Fix extension when saving as native format when no extension is given"}}, {"color": "FFFF0000", "data": {"message": "Remove spurious colon"}}, {"color": "FFFF0000", "data": {"message": "BUG:361733 Make it possible to move and close the splash\n\nAfter it's turned into the recent documents windows.\n\nFixes Phabricator Task: T2480"}}, {"color": "FFFF0000", "data": {"message": "BUG:363265  Don't show the autosave dialog in batch mode"}}, {"color": "FFFF0000", "data": {"message": "BUG:363296 Check whether there's a brush before cloning it"}}, {"color": "FFFF0000", "data": {"message": "Make the grid's max division dependent on the image size\n\nSee: http://blenderartists.org/forum/showthread.php?390835-Krita-Kickstarter-2016-on-it-s-way!&p=3052698&viewfull=1#post3052698"}}, {"color": "FFFF0000", "data": {"message": "Fix switching histogram visualizations\n\nPhabricator: D1650\nPatch by Eugene Ingerman, thanks!"}}, {"color": "FFFF0000", "data": {"message": "Don't show the details of the filters"}}, {"color": "FFFF0000", "data": {"message": "Select the correct filter/file type when saving\n\nOtherwise Qt's file dialog will, for some weird reason, automatically\nselect the first extension of the first entry in the filter combobox\nfor the file, making sure that you'd save any file as .exr."}}, {"color": "FFFF0000", "data": {"message": "BUG: 363321 Fix label for rotate image to the left"}}, {"color": "FFFF0000", "data": {"message": "Remove obsolete application flag\n\nSee http://doc.qt.io/qt-5/qt.html#ApplicationAttribute-enum"}}, {"color": "FFFF0000", "data": {"message": "Remove unused paramaters from KisImportExportManager api"}}, {"color": "FFFF0000", "data": {"message": "BUG:363266 Fix export of kpp files\n\nNote: you need to _remove_ the plugins/impex/png directory before\nrebuilding! CMake doesn't notice changes to json files."}}, {"color": "FFFF0000", "data": {"message": "Force the Qt file dialog in all cases for now\n\nI'm going to test with this file dialog for at least a week; there\nare so many bugs and inconsistencies when allowing to use the\nplatform file dialogs that I'm going crazy."}}, {"color": "FFFF0000", "data": {"message": "Check whether the brush exists before adding"}}, {"color": "FFFF0000", "data": {"message": "BUG 347755: Use qreal for constants defined as 0.30 or 0.05"}}, {"color": "FFFF0000", "data": {"message": "Disable the macro plugin for 3.0\n\nCCBUG:358824"}}, {"color": "FFFF0000", "data": {"message": "fix typo"}}, {"color": "FFFF0000", "data": {"message": "Add a warning"}}, {"color": "FFFF0000", "data": {"message": "Fix the crash when opening an image when Ocio is active\n\nWhen we set the canvas on all dockers _before_ the canvas is\nvisible, the opengl context is not yet current. If that's the\ncase, the lut docker will try to update the image textures, but\nfail because there's no context."}}, {"color": "FFFF0000", "data": {"message": "Make the view's painting assistent a shared pointer\n\nOtherwise, the canvases will own it."}}, {"color": "FFFF0000", "data": {"message": "Make real shared pointers of the canvas decorations\n\nThis prevents a crash when switching canvas type -- deleting a\ncanvas would delete the shared canvas decorations, too."}}, {"color": "FFFF0000", "data": {"message": "Fix crash when selecting an OCIO config"}}, {"color": "FFFF0000", "data": {"message": "Remove the special markup for the message box\n\nThis isn't supported at the moment? At least it shows up\nliterally."}}, {"color": "FFFF0000", "data": {"message": "BUG:363211 Fix order of filter entries"}}, {"color": "FFFF0000", "data": {"message": "Remove broken template"}}, {"color": "FFFF0000", "data": {"message": "Correctly initialize opengl on OSX\n\nUntil QPainterEngine can use 3.0 Core Profile without deprecated\nfunctions it's better to ask for 2.1 on OSX. We miss LOD and\nhigh-quality filtering, but at least have a cursor."}}, {"color": "FFFF0000", "data": {"message": "Disable Opengl if 3.0 + deprecated functions isn't found\n\nThis also restores some of the checks for glsl 1.3 in\nvarious places."}}, {"color": "FFFF0000", "data": {"message": "A better opengl version check"}}, {"color": "FFFF0000", "data": {"message": "BUG:363143 Do not crash on editing the pattern fill of a vector object\n\nThe ImageCollection is shared among all shapes, so on deleting a\nshape, it shouldn't be deleted."}}, {"color": "FFFF0000", "data": {"message": "Fix the opengl check -- not sure where the original lines came from anymore"}}, {"color": "FFFF0000", "data": {"message": "Allow users to enabvle the hidpi support by setting an environment variable\n\nIf you het KRITA_HIDPI to whatever, then Krita will enable Qt's\n(broken) hidpi support. All widgets will be fine, your canvas will\nbe borked.\n\nCCBUG:360541"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Only enable opengl if 3.2 compatibility profile is present.\"\n\nThis reverts commit 4e0a77f0ccb4379d23b830be4696f1b3a885b864."}}, {"color": "FFFF0000", "data": {"message": "Revert \"First commit of improved RTL text editing for the artistic text shape\"\n\nThis reverts commit 0ab16affe98e4b0957565bc6f43da9cd26e5f609.\n\nThis commit broke the cursor for LTR languages, selecing the font\nand the font size.\n\nBUG:363025\nBUG:363026\nBUG:363030"}}, {"color": "FFFF0000", "data": {"message": "Only enable opengl if 3.2 compatibility profile is present.\n\nOf course, we should do what I said in the previous commit,\nand if only 2 is present, downgrade our shaders and functionality,\nbut that's part of Nimmy's job!\n\nManiphest Tasks: T2315"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Remove the hasOpenGL check\"\n\nThis reverts commit 5b71e0fe5de6b6eda1043b883136cf9f267416e3."}}, {"color": "FFFF0000", "data": {"message": "Remove the hasOpenGL check\n\nWe always have opengl, only sometimes it's just 2.x, which means\nwe need to downgrade our function set."}}, {"color": "FFFF0000", "data": {"message": "BUG:363039 Do not crash if the mimetype is empty\n\nIt shouldn't be empty, but it's better to be careful"}}, {"color": "FFFF0000", "data": {"message": "Correctly separate the suffixes\n\nCCBUG:363039"}}, {"color": "FFFF0000", "data": {"message": "remove unused classes"}}, {"color": "FFFF0000", "data": {"message": "Implement a dummy test window to check the opengl version\n\nNot sure if this is the right way, but QGLFormat's way of checking\nwhat's available on a particular window system doesn't seem to\nbe available in the new, improved Qt OpenGL api."}}, {"color": "FFFF0000", "data": {"message": "Move linux, osx and windows dirs into a common packaging dir\n\nThat way, l^I autocomplets to libs, saving lots of time."}}, {"color": "FFFF0000", "data": {"message": "Don't crash when exporting bone-less kra files to scml"}}, {"color": "FFFF0000", "data": {"message": "Don't package the mimedatabase\n\nLet Qt handle mime stuff internally"}}, {"color": "FFFF0000", "data": {"message": "Don't scale the splash on OSX\n\nThe retina stuff takes care of that for us; but we should have a\nsecond pixmap labeled @2 for high-dpi fidelity."}}, {"color": "FFFF0000", "data": {"message": "Use AppDataLocation instead of GenericDataLocation"}}, {"color": "FFFF0000", "data": {"message": "ki18n patch: Look for translations in AppDataLocation\n\nInstead of GenericDataLocation, which on OSX doesn't look anywhere\nnear the APPDIR."}}, {"color": "FFFF0000", "data": {"message": "Patch kconfig to save the config to AppConfigLocation\n\nI don't know why anyone would want an application to save its\nconfiguration to GenericConfigLocation, after all, we're an\napplication, not a system level component. But this seems the\nonly way to fix kconfig to do the sane thing."}}, {"color": "FFFF0000", "data": {"message": "If there's an override language, use that for Qt, too"}}, {"color": "FFFF0000", "data": {"message": "Add qt.conf"}}, {"color": "FFFF0000", "data": {"message": "Stop making sha1 files, the files.kde.org website does that for us"}}, {"color": "FFFF0000", "data": {"message": "Final fixes for the spriter plugin"}}, {"color": "FFFF0000", "data": {"message": "Finally remove sketch and gemini.\n\nI don't believe we'll have the resources to resurrect them in this\nform ever again."}}, {"color": "FFFF0000", "data": {"message": "Rewrite the spriter export plugin"}}, {"color": "FFFF0000", "data": {"message": "Add a method to easily find a node with a given name"}}, {"color": "FFFF0000", "data": {"message": "remove obsolete commandline argument"}}, {"color": "FFFF0000", "data": {"message": "Remove the resourcemanager directory\n\nNo idea how it ended up here..."}}, {"color": "FFFF0000", "data": {"message": "Fix build on OSX: Only include this specific header\n\nIncluding boost/thread.hpp gives a build error. Note: maybe this\ncode should just be rewritten to use Qt's api, since we should\nalways, without exception, whenever there is a choice possible use\nQt and not Boost or STL. Even if the code becomes less efficient."}}, {"color": "FFFF0000", "data": {"message": "More i18n fixes, following Pino's notes\n\nCCMAIL: kde-i18n-doc@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Build fix"}}, {"color": "FFFF0000", "data": {"message": "Add missing i18n calls\n\nSome of these strings have been untranslatable since Krita 1.6 or so...\n\nPhabricator task: T2333\nCCMAIL:kde-i18n-doc@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix loading kpp and png images.\n\nYou need to remove the png build dir because the json changed,\nwhich doesn't automatically lead to a rebuild."}}, {"color": "FFFF0000", "data": {"message": "Remove libfontconfig from appimages"}}, {"color": "FFFF0000", "data": {"message": "Fix location for translation tarball."}}, {"color": "FFFF0000", "data": {"message": "More toDouble fixes\n\nThis also fixes a wrong fallback that must have been a copy-pasto,\nbecause trying parse the value of radius when parsing opacity\nfailed can't be right, especially since radius isn't in the ORA\nspec."}}, {"color": "FFFF0000", "data": {"message": "Some more toDouble fixes"}}, {"color": "FFFF0000", "data": {"message": "Some more toDouble fixes"}}, {"color": "FFFF0000", "data": {"message": "BUG:362489 Remove the \"do not show this again checkbox\"\n\nFor some reason, it just doesn't work."}}, {"color": "FFFF0000", "data": {"message": "BUG:362397 Allow the PNG filter to open files with KPP extension\n\nFixes Phabricator task T2403"}}, {"color": "FFFF0000", "data": {"message": "Use KoDomUtils::toDouble in some more places"}}, {"color": "FFFF0000", "data": {"message": "BUG:362623 Catch double-clicks in the pan tool"}}, {"color": "FFFF0000", "data": {"message": "Fix some toDouble/toInt instances\n\nManiphest Tasks: T2403"}}, {"color": "FFFF0000", "data": {"message": "BUG:361973 Remove all our custom mime types\n\nThis should fix bug 361973 even for people who build Krita on\ntheir own. It must be a bug somewhere in Qt, and a recent\nregression, too. Just stopping to use QMimeDataBase doesn't\nfix it, since it's some Qt-internal usage that breaks everything\nin QFileDialog if there is a mime directory in the XDG_DATA_DIRS."}}, {"color": "FFFF0000", "data": {"message": "Fix build error"}}, {"color": "FFFF0000", "data": {"message": "Try again to disable openmp only for gcc"}}, {"color": "FFFF0000", "data": {"message": "Remove the shared mime dir when packaging\n\nOn Redhat-based distributions, having an extra mime dir in the\nXDG_DATA_DIRS confuses the file dialog into not being able to\nretrieve any mimetype. Is it a Qt bug? Is it a Redhat bug? I\ndon't know, but removing the mimedir makes everything work again,\nand we don't use our own mimetype definitions anyway, we have\na fallback for them because QMimeDatabase is too stupid to allow\nus to add mimetypes programmatically.\n\nWe still want to install our own mimetypes, or rather, I suspect\ndistributions want us to, so we cannot just skip that. But if\nyou build on redhat-derived distributions, you'll have to manually\nremove the mime dir every time after doing a make install.\n\nBUG:361973"}}, {"color": "FFFF0000", "data": {"message": "Try really hard to get a description for a mimetype"}}, {"color": "FFFF0000", "data": {"message": "Add a lnk file for the windows zip."}}, {"color": "FFFF0000", "data": {"message": "Just disable openmp if the compiler is too old"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Pass the override export configuration down\n\nAll the way down to the import/export filter... It needs to have\na better name, though."}}, {"color": "FFFF0000", "data": {"message": "Pass the override export configuration to the animation exporter."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Use the last used configuration for the sequenece render widget"}}, {"color": "FFFF0000", "data": {"message": "Fix crash on exit because or messed up memory management"}}, {"color": "FFFF0000", "data": {"message": "Improve variable name"}}, {"color": "FFFF0000", "data": {"message": "Fix finding the filter plugin for a certain mimetype\n\nThe default weight is 0, so start looking from -1"}}, {"color": "FFFF0000", "data": {"message": "Disable the native file dialog integration on Linux\n\nUnless we're running in KDE, where platform integration gives us\nthe best file dialog in the world. The GTK one completely broke\nin the latest version of Fedora\n\nBUG:364864"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Fully port the tiff filter to the configuration api"}}, {"color": "FFFF0000", "data": {"message": "Fully port the jpeg filter to the configuration api"}}, {"color": "FFFF0000", "data": {"message": "Fully port the ppm filter to the configuration api"}}, {"color": "FFFF0000", "data": {"message": "Only save the config if the dialog was shown."}}, {"color": "FFFF0000", "data": {"message": "Only save the config if the dialog was shown."}}, {"color": "FFFF0000", "data": {"message": "Only save the config if the dialog was shown."}}, {"color": "FFFF0000", "data": {"message": "Only save the config if the dialog was shown."}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak"}}, {"color": "FFFF0000", "data": {"message": "Make the variable name consistent"}}, {"color": "FFFF0000", "data": {"message": "Fully port the jp2 filter to the configuration api"}}, {"color": "FFFF0000", "data": {"message": "Fully port the exr filter to the configuration api"}}, {"color": "FFFF0000", "data": {"message": "Fully port the heightmap plugin to the configuration architecture"}}, {"color": "FFFF0000", "data": {"message": "Add the configuration api to the relevant import/export filters\n\nThe gbr/gih export filter also has a config widget, but doesn't\nstore its settings -- that's a todo for later."}}, {"color": "FFFF0000", "data": {"message": "Fix build with current Arch\n\nNot sure why, but patch by Ruakuu and verified by Raghukamath"}}, {"color": "FFFF0000", "data": {"message": "Fix build with current Arch\n\nNot sure why, but patch by Ruakuu and verified by Raghukamath"}}, {"color": "FFFF0000", "data": {"message": "Don't expose the m_chain member variable to other classes\n\nBut use a getter and a setter; the ultimate goal is the\nbreaking of all chains and libration of the import/export\nfilters."}}, {"color": "FFFF0000", "data": {"message": "Add KisImportExportManager::createFilterForMimeType\n\nThis creates a new KisImportExportFilter object that can be used\nto access the default and saved configuration, to create a\nfilter configuration widget, and after fixing the weirdness with\nthe filter chain stuff, convert to and from a KisDocument."}}, {"color": "FFFF0000", "data": {"message": "Add API to KisImportExportFilter to retrieve the last used configuration"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "Show the export configuration widget\n\nNow all we need to do is fix all other export filters other than\npng to create an export widget, a default configuration setting\nand use them internally, too, instead of hard-coded dialogs in\nthe export method.\n\nNote: we might also need a currentConfiguration() method in\nKisImportExportFilter. We'll need to pass the configuration to\nKisImportExportManager all the way down to the actual filter.\nAnd when the split-up is really done, we can make it possible\nto pass a filter config file on the command-line for the conversion\nsystem."}}, {"color": "FFFF0000", "data": {"message": "Reconfigure the dialog to place the filter options to the right"}}, {"color": "FFFF0000", "data": {"message": "Remove export animation action\n\nRender to Animation can now do everything this action did."}}, {"color": "FFFF0000", "data": {"message": "Implement the render-to-sequence-without-bothering-the-user feature\n\nThis renders the animation to a sequence using the last selected\noptions, INCLUDING the start and end. To reset the start and end,\nthe gui needs to be used.\n\nNote: check on BlenderArtists whether this is, in fact, the correct\nworkflow."}}, {"color": "FFFF0000", "data": {"message": "Restore the last used configuration for the sequence export"}}, {"color": "FFFF0000", "data": {"message": "Connect the render dialog to the animation exporter\n\nThis also adds an offset parameter for when you want to renumber\nframes from a given startpoint on exporting."}}, {"color": "FFFF0000", "data": {"message": "Add a filetype selector for the image sequence\n\nThis is only enabled if render to video is disabled, since we only\ndo .png with ffmpeg"}}, {"color": "FFFF0000", "data": {"message": "Set the min/max for range and the default values\n\nThe default export range is the selected range for playback"}}, {"color": "FFFF0000", "data": {"message": "Add an action flag for whether the image has an animation or not"}}, {"color": "FFFF0000", "data": {"message": "Put the dirrequester in dir mode"}}, {"color": "FFFF0000", "data": {"message": "Port the original video export dialog to use the widget as a widget, not a dialog"}}, {"color": "FFFF0000", "data": {"message": "Hide the default button: it's irreversible now\n\nAnd the template system needs redesign!"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variables"}}, {"color": "FFFF0000", "data": {"message": "Simplify code and decrease warnings."}}, {"color": "FFFF0000", "data": {"message": "Add some apidox"}}, {"color": "FFFF0000", "data": {"message": "Fix spelling mistakes"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:364096 Crop layers of pixels outside the canvas before saving"}}, {"color": "FFFF0000", "data": {"message": "Disable the histogram docker for now\n\nUntil https://bugs.kde.org/show_bug.cgi?id=364406 is fixed krita is\nunusable with the histogram docker. People using master may have\nto remove the .so from lib/kritaplugins\n\nCCBUG:364406"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:364096 Crop layers of pixels outside the canvas before saving"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variables"}}, {"color": "FFFF0000", "data": {"message": "Simplify code and decrease warnings."}}, {"color": "FFFF0000", "data": {"message": "Add some apidox"}}, {"color": "FFFF0000", "data": {"message": "Fix spelling mistakes"}}, {"color": "FFFF0000", "data": {"message": "Add a skeleton animation renderer plugin\n\nThis'll define the way an image sequence needs to be rendered,\nand then render it to a sequence, then use any of the existing\nvideo export plugins (csv, ffmpeg) to render to a video."}}, {"color": "FFFF0000", "data": {"message": "Start refactoring the video export plugin\n\nThis'll make it work like the other file plugins when it comes\nto storing config; and make it usable from the animation render plugin."}}, {"color": "FFFF0000", "data": {"message": "Port the png filter to the settingswidget/properties object architecture"}}, {"color": "FFFF0000", "data": {"message": "Add the to and from mimetypes to the config and settings methods\n\nSome filters handle more than one mimetype, and may need different\nwidgets and settings for that."}}, {"color": "FFFF0000", "data": {"message": "Extend the Import/Export filter API\n\nFollowing paintops and filters, we make it possible to retrieve\na default filter configuration and the filter configuration widget\nso we don't have to do everything in the convert method."}}, {"color": "FFFF0000", "data": {"message": "Make all KisSerializeConfiguration objects shared pointers\n\nThis is a huge and dangerous refactoring: I think we will find\ndouble delete crashes for some time to come, though starting krita,\npainting, filtering and closing work without problems. We were\nleaking these configuration objects all over the place, though, since\nthere was no ownership defined."}}, {"color": "FFFF0000", "data": {"message": "Initialize all actions to 0"}}, {"color": "FFFF0000", "data": {"message": "Disable the histogram docker for now\n\nUntil https://bugs.kde.org/show_bug.cgi?id=364406 is fixed krita is\nunusable with the histogram docker. People using master may have\nto remove the .so from lib/kritaplugins\n\nCCBUG:364406"}}, {"color": "FFFF0000", "data": {"message": "Fix build on Windows"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "BUG:363443 Try to recognize uc-logic tablets on Linux"}}, {"color": "FFFF0000", "data": {"message": "Try to fix the touchpad issue on OSX\n\nPatch by Beelzy, thanks!"}}, {"color": "FFFF0000", "data": {"message": "Add ffmpeg (mainly for osx)"}}, {"color": "FFFF0000", "data": {"message": "Also look for ffmpeg\n\nWe need its include directories, because avtranscoder includes\nthe headers in its headers."}}, {"color": "FFFF0000", "data": {"message": "Add a 3rdparty project for avtranscoder\n\nWe're using avtranscoder to save ourselves from the pain of\nthe plain ffmpeg api."}}, {"color": "FFFF0000", "data": {"message": "BUG:350714 Remove spurious assert"}}, {"color": "FFFF0000", "data": {"message": "Push updated deploy script"}}, {"color": "FFFF0000", "data": {"message": "Remove reference to calligra"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "BUG:364047 Use the exactbounds, not extent for saving layers\n\nOtherwise they will grow in steps of 64x64 pixels. Interestingly,\nphotoshop crops all transparent pixels when loading, while Gimp\ndoesn't do that."}}, {"color": "FFFF0000", "data": {"message": "KisPaintOp: Remove setCurrentScale,setCurrentRotation and family.\n\nWhile a lot of brushes were setting these values, nothing was actually using\nthem.\n\nPatch by Nishanth Rodriquez.\nPhabricator diff: D1817"}}, {"color": "FFFF0000", "data": {"message": "Fix runtime warning \"QTextCursor::setPosition: Position 11 out of range\"\n\n(confusion between QTextCursor::setPosition and\nQTextCursor::movePosition)\n\nPorted from David Faure's commit to calligra."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Create the proofing transform\n\nThis doesn't use the caching graph stuff, which is too complex\nto refactor for now."}}, {"color": "FFFF0000", "data": {"message": "Add a per-image proofing settings class"}}, {"color": "FFFF0000", "data": {"message": "BUG: 362064 Fix saving templates\n\nYet another !@#$% QUrl porting bug."}}, {"color": "FFFF0000", "data": {"message": "Remove unused member variable\n\nOr rather comment it out, to follow the rest of the commented-out\ncode here."}}, {"color": "FFFF0000", "data": {"message": "Histogram Improvements\n\n* Improved histogram display in Layers->Histogram. Show multiple\ncolors.\n* Added histogram docker widget.\n* Improved Ko*HistogramProducer classes. They were not handling\ndisplaying different color space histograms correctly - data was\njust converted to different bit depth. Histogram data has to be\nconverted to the requested color space for the histogram to make\nsense.\n\nPatch by Eugene Ingerman. Thanks!\nPhabricator diff: D1766"}}, {"color": "FFFF0000", "data": {"message": "Add ffmpeg (mainly for osx)"}}, {"color": "FFFF0000", "data": {"message": "Also look for ffmpeg\n\nWe need its include directories, because avtranscoder includes\nthe headers in its headers."}}, {"color": "FFFF0000", "data": {"message": "Add a 3rdparty project for avtranscoder\n\nWe're using avtranscoder to save ourselves from the pain of\nthe plain ffmpeg api."}}, {"color": "FFFF0000", "data": {"message": "BUG:363769 Do not add double dots between filename and extension"}}, {"color": "FFFF0000", "data": {"message": "Move KisBrushSizeOption to the deform brush\n\nIt's the only place where it's used, so don't let it clutter up\nthe library."}}, {"color": "FFFF0000", "data": {"message": "BUG:363845 Do not derefence a deleted point\n\nNo idea what Inge actually was doing here, it looks like he\nstopped in the middle of a refactoring. But since mTarget is\nset in the constructor and in the copy constructor, we don't\nneed any of this in any case.\n\nMaybe we should remove the whole library, who needs\nwmf after all.."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Take rotation into account in setupAction of DeformMove\n\nFixes incorrect behaviour when the canvas is rotated.\n\nPatch by Nishanth Rodriquez, thanks!\nPhabricator diff D1777\nBug:349554"}}, {"color": "FFFF0000", "data": {"message": "Use QTransform instead of implementing rotation ourselves\n\nPatch by Nishanth Rodriquez, thanks!\nPhabricator diff D1776"}}, {"color": "FFFF0000", "data": {"message": "Reduce scope of class variables, remove unused code.\n\nPatch by Nishanth Rodriquez, thanks!\n\nPhabricator diff D1775"}}, {"color": "FFFF0000", "data": {"message": "Remove / in branch names when packaging"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "BUG:359255 Work around bug in finding the bundle patch\n\nSee: http://doc.qt.io/qt-5/osx-issues.html which says:\n\n \"Note: When OS X is set to use Japanese, a bug causes\n this sequence to fail and return an empty string.\n Therefore, always test the returned string.\""}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Work extra double plus hard to let Qt load the overridden translations.\n\nCCBUG:363737, 362357"}}, {"color": "FFFF0000", "data": {"message": "Fix issue with icon"}}, {"color": "FFFF0000", "data": {"message": "Add Michael Hall's snap definition\n\nAnd the snap has been uploaded, too."}}, {"color": "FFFF0000", "data": {"message": "Explain about $BUILDROOT vs %BUILDROOT%\n\nThis is why I didn't write $BUILDROOT for easy copy and paste\nthroughout the readme: there are too many places where the\nsame command is relevant for Windows and Linux. People, use\nyour intelligence a bit."}}, {"color": "FFFF0000", "data": {"message": "Add Michael Hall's snap definition\n\nAnd the snap has been uploaded, too."}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Install data to bin/../share instead of bin/../data\n\nI admit it's nicer to have everything in bin/data than in share\non Windows, but it breaks krita 3.0 badl."}}, {"color": "FFFF0000", "data": {"message": "Add the boost include dir, since it's used"}}, {"color": "FFFF0000", "data": {"message": "Update the mingw boost to 1.61"}}, {"color": "FFFF0000", "data": {"message": "Fix merge error that caused a wrong if/else structure"}}, {"color": "FFFF0000", "data": {"message": "Fix readme for using mingw on windows"}}, {"color": "FFFF0000", "data": {"message": "Expat 2.2 doesn't build on windows"}}, {"color": "FFFF0000", "data": {"message": "Add the platform -- only mingw is supported from now on"}}, {"color": "FFFF0000", "data": {"message": "Add dependency"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/update-dependencies"}}, {"color": "FFFF0000", "data": {"message": "Ignore delta 0 wheel events on OSX\n\nDifferential Revision: https://phabricator.kde.org/D2290"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "disable openjpeg"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/update-dependencies"}}, {"color": "FFFF0000", "data": {"message": "go back to vc 1.2"}}, {"color": "FFFF0000", "data": {"message": "Unify the patch"}}, {"color": "FFFF0000", "data": {"message": "Apply the right patch"}}, {"color": "FFFF0000", "data": {"message": "Apply the patch patch to ocio"}}, {"color": "FFFF0000", "data": {"message": "Use mypatch instead of patch on windows"}}, {"color": "FFFF0000", "data": {"message": "apply the right patch"}}, {"color": "FFFF0000", "data": {"message": "Fix dll export"}}, {"color": "FFFF0000", "data": {"message": "Don't build the static lcms2 library"}}, {"color": "FFFF0000", "data": {"message": "Fix building lcms 2.8"}}, {"color": "FFFF0000", "data": {"message": "Update the patches to patch qt, not qtbase"}}, {"color": "FFFF0000", "data": {"message": "Update the CMake patch for lcms to 2.8"}}, {"color": "FFFF0000", "data": {"message": "Fix copy/pasto"}}, {"color": "FFFF0000", "data": {"message": "Use the master branch of Vc because it already has the mingw/windows patches"}}, {"color": "FFFF0000", "data": {"message": "Update to the release version of lcms 2.8"}}, {"color": "FFFF0000", "data": {"message": "Add a note about the patch for vc\n\nI hacked around it this time, shouldn't forget to do it properly\nwhen I can think again."}}, {"color": "FFFF0000", "data": {"message": "Add Alvin Wong's patches to build with mingw on Windows\n\n(Instead of MXE on Linux)"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/update-dependencies"}}, {"color": "FFFF0000", "data": {"message": "Don't hide .rej and .orig files: those need to be cleaned up"}}, {"color": "FFFF0000", "data": {"message": "Don't try to parse the branch for the appimage name\n\nIt's seldom useful and if it contains a /, it will break"}}, {"color": "FFFF0000", "data": {"message": "Unbreak making appimages because the desktop filename changed\n\nThis is why all these little changes, let's just change something\nhere or there, it'll look more standardy, _suck_. The flatpakkers\nor appstreamers or whoever never realized that changes like this\nare like a death by a thousand cuts, because it causes work, work\nand more work that they don't have to do because it impacts thing\nthey don't know about.\n\nREVIEW:128020"}}, {"color": "FFFF0000", "data": {"message": "Add desktop integration"}}, {"color": "FFFF0000", "data": {"message": "Update the snap definition for 3.0.1 alpha"}}, {"color": "FFFF0000", "data": {"message": "Use the toolset-3 here as well"}}, {"color": "FFFF0000", "data": {"message": "Fix some notes"}}, {"color": "FFFF0000", "data": {"message": "Use cmake3 everywhere"}}, {"color": "FFFF0000", "data": {"message": "Use cmake3 -- Vc needs it."}}, {"color": "FFFF0000", "data": {"message": "Also for linux"}}, {"color": "FFFF0000", "data": {"message": "Update ext_qt to use gz instead of xz"}}, {"color": "FFFF0000", "data": {"message": "Use gz not xz, because tar on centos 6.7 cannot handle that."}}, {"color": "FFFF0000", "data": {"message": "Enable the right way"}}, {"color": "FFFF0000", "data": {"message": "Add -y flags"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/update-dependencies"}}, {"color": "FFFF0000", "data": {"message": "Use devtools-3 instead of 2"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/update-dependencies"}}, {"color": "FFFF0000", "data": {"message": "Disable the histogram docker until Eugene's branch is ready"}}, {"color": "FFFF0000", "data": {"message": "Also configure fontconfig on OSX\n\nNot that it builds... Which means, still no poppler, so no PDF\nimport on OSX"}}, {"color": "FFFF0000", "data": {"message": "Try harder to not bother about Java\n\n(Lack of javac gives a popup on OSX during building which sucks)"}}, {"color": "FFFF0000", "data": {"message": "Use the master branch for ocio\n\nThat has some fixes that make building on OSX possible again"}}, {"color": "FFFF0000", "data": {"message": "Fix building qt 5.6.1 on osx"}}, {"color": "FFFF0000", "data": {"message": "Add a flag to set the minimum version of OSX we want to build Krita for"}}, {"color": "FFFF0000", "data": {"message": "BUG:363910 Brush freezes after lifting stylus pen away from tablet on OSX"}}, {"color": "FFFF0000", "data": {"message": "Downgrade libraw"}}, {"color": "FFFF0000", "data": {"message": "Update the frameworks we use to 5.24"}}, {"color": "FFFF0000", "data": {"message": "Tell xml2 where to install the python stuff to"}}, {"color": "FFFF0000", "data": {"message": "Fix jpeg build"}}, {"color": "FFFF0000", "data": {"message": "Update zlib to 1.2.8"}}, {"color": "FFFF0000", "data": {"message": "Update building eigen3"}}, {"color": "FFFF0000", "data": {"message": "Update Qt"}}, {"color": "FFFF0000", "data": {"message": "Update the versions of most external dependencies"}}, {"color": "FFFF0000", "data": {"message": "Fix two warnings"}}, {"color": "FFFF0000", "data": {"message": "Reset the version number following the new Krita release strategy."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Remove superfluous clearing of lists"}}, {"color": "FFFF0000", "data": {"message": "update instructions"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "BUG:365179 Fix crash when moving a hidden layer with the arrow keys"}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Re-enable the bigbrother plugin\n\nNote that there are plenty of bugs and missing bits left: saving\na macro doesn't give the right extension, file dialogs happen in\nthe wrong place and only filters can be added using the macro editor.\n\nWe really need someone to pay attention to this feature and finish it!"}}, {"color": "FFFF0000", "data": {"message": "BUG:358824 Fix crash when editing a macro that contains a filter"}}, {"color": "FFFF0000", "data": {"message": "BUG:359272 Fix a possible crash with the scratchpad"}}, {"color": "FFFF0000", "data": {"message": "BUG:364741 Fix the save group layers feature"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:365120 Set the range for inner/outer glow to 1..100"}}, {"color": "FFFF0000", "data": {"message": "BUG:365057 Fix duplicating file layers\n\nPass a clone of the paint device instead of the image back to the\nfile layer, because resetting the import document deletes it,\nwhich checks whether the image is still in use, and if it is,\nasserts."}}, {"color": "FFFF0000", "data": {"message": "Also register the paintdevice as a qmetatype"}}, {"color": "FFFF0000", "data": {"message": "Rename member variable to m_paintDevice\n\nWe should only be calling KisImage or QImage instances \"image\",\notherwise the scope for confusion is too big.\n\nCCBUG: 365057"}}, {"color": "FFFF0000", "data": {"message": "Store the resource managers in QPointers\n\nThat way we're save when checking whether they have been deleted.\n\nCCBUG:365057"}}, {"color": "FFFF0000", "data": {"message": "Register KisImageSP as a metatype\n\nThis avoids the following error when using file layers:\n\nCloning KisFileLayer \"/home/boud/Dropbox/pictures/florence_2016/P1010109.JPG\"\nQObject::connect: Cannot queue arguments of type 'KisImageSP'\n(Make sure 'KisImageSP' is registered using qRegisterMetaType().)\n\nBecause it allows KisImageSP to be used as an argument in\na queued signal/slot connection.\n\nCCBUG:365057"}}, {"color": "FFFF0000", "data": {"message": "Check pointer before dereferencing"}}, {"color": "FFFF0000", "data": {"message": "BUG:365059 Don't crash when d&d-ing a transform mask"}}, {"color": "FFFF0000", "data": {"message": "Expose the import/export manager"}}, {"color": "FFFF0000", "data": {"message": "Fix loading the right configuration widgets for the render block"}}, {"color": "FFFF0000", "data": {"message": "Implement showing the right settings widget for the render group\n\nStill need to load/save the settings and actually do the rendering,\nof course."}}, {"color": "FFFF0000", "data": {"message": "Add a \"clear\" parameter and a return bool to fromXML\n\nThis way, we can create a default properties object and read\na configuration that might overwrite some properties."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Make the csv filter a normal import/export filter again\n\nIt doesn't fit in the same mold as the ffmpeg filter."}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Only set one language for the LANG variable\n\nCCBUG:368007"}}, {"color": "FFFF0000", "data": {"message": "Fix a corrupted openGL tiles problem on OSX\n\nI don't know what exactly the reason of such behavior, but if we\ntry to render a frame before the tiles are uploaded, the result will be\ncorrupted. Therefore, workaround it with a glFinish call after uploading\nthe data."}}, {"color": "FFFF0000", "data": {"message": "Download the right versions"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Fix gettext"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Update snap version"}}, {"color": "FFFF0000", "data": {"message": "Rebase the patch"}}, {"color": "FFFF0000", "data": {"message": "Update the location of the transaltions"}}, {"color": "FFFF0000", "data": {"message": "Patch Qt on OSX for fixing the opengl qpainter engine\n\nhttps://codereview.qt-project.org/#/c/166202\nhttps://bugreports.qt.io/browse/QTBUG-33535"}}, {"color": "FFFF0000", "data": {"message": "Don't put 100% pressure blobs at the start of some lines"}}, {"color": "FFFF0000", "data": {"message": "Remove remaining msvc remarks, replace with the right commands for mingw"}}, {"color": "FFFF0000", "data": {"message": "BUG:365324 Fix min/max of the dynabrush settings"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "fix typo"}}, {"color": "FFFF0000", "data": {"message": "Fix build with Qt 5.4 -- which we still support"}}, {"color": "FFFF0000", "data": {"message": "Start on the first tab"}}, {"color": "FFFF0000", "data": {"message": "Update the snap version & remove openjpeg"}}, {"color": "FFFF0000", "data": {"message": "Move KisColorInput to libs/ui/widgets"}}, {"color": "FFFF0000", "data": {"message": "New splash screen by Tyson Tan, specially for the upcoming 3.0.1"}}, {"color": "FFFF0000", "data": {"message": "Replace symlinks with copies\n\nSymlinks don't work when we make a source tarball and then try\nto build on Windows."}}, {"color": "FFFF0000", "data": {"message": "Don't try to get the release version from git for a source release build"}}, {"color": "FFFF0000", "data": {"message": "Add a script to build an appimage from the release"}}, {"color": "FFFF0000", "data": {"message": "Use pre-built gettext binaries\n\nThe ones build from source miss the tools, and ki18n_install needs\nthe tools, and now that the source tarball contains the po files,\nwe cannot hack that out anymore.\n\nAnd gettext is a PIG to build on Windows, so let someone else do the\nwork for us."}}, {"color": "FFFF0000", "data": {"message": "The tarball script will add the i18n stuff automatically"}}, {"color": "FFFF0000", "data": {"message": "Update documentation with the right generator"}}, {"color": "FFFF0000", "data": {"message": "Move the lock up\n\nNicholas still reports issues with the lock in the else, though\nlogically that should be impossible."}}, {"color": "FFFF0000", "data": {"message": "Add a mutex for to/from QColor\n\nOtherwise multi-threaded access to these functions gives really\nweird results.\n\nSee https://phabricator.kde.org/D2527"}}, {"color": "FFFF0000", "data": {"message": "Remove the 0.5 fudge factor in the generic intensity8\n\nWe don't do that in the specialized intensity8 for 8 bits RGB\neither.\n\nSee https://phabricator.kde.org/D2527"}}, {"color": "FFFF0000", "data": {"message": "Add ellipsis to the desaturate filter's menu entry\n\nIt's got lots of options and a dialog now."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "BUG:365693 Fix saving templates\n\nPatch by Joe (joewinzer@googlemail.com). Thanks!"}}, {"color": "FFFF0000", "data": {"message": "BUG:367547 Fallback for loading color labels\n\nIf the label is beyond the currently allowed range of labels, set\nit to the last available label."}}, {"color": "FFFF0000", "data": {"message": "BUG:367512 Fix canceling a filter preview"}}, {"color": "FFFF0000", "data": {"message": "Fix wording in the spray brush engine\n\nWe had \"spray shape\" used twice, and incorrectly for the first\nentry.\n\nBUG:367540\nCCMAIL:kde-i18n-doc@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix build error\n\nI should have merged the video-export-rebased branch and just disabled\nthe plugin... The delta is just too big."}}, {"color": "FFFF0000", "data": {"message": "Remove some unused includes"}}, {"color": "FFFF0000", "data": {"message": "Save to a temporary file, then copy the result over on success\n\nI thought we were already doing this, but apparently that only\nwas done for remote urls, back in the days we still supported that.\n\nThe temporary file is saved in the tmp dir, and then copied over.\nWe even make a safety copy of the original file if it exists before\ndoing the copy. This should make saving over network drives faster\nand more reliable, as well as saving in general more robust.\n\nBUG:366765,357132,355726"}}, {"color": "FFFF0000", "data": {"message": "Remove some unused includes"}}, {"color": "FFFF0000", "data": {"message": "Save to a temporary file, then copy the result over on success\n\nI thought we were already doing this, but apparently that only\nwas done for remote urls, back in the days we still supported that.\n\nThe temporary file is saved in the tmp dir, and then copied over.\nWe even make a safety copy of the original file if it exists before\ndoing the copy. This should make saving over network drives faster\nand more reliable, as well as saving in general more robust.\n\nBUG:366765,357132,355726"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Move to beta, officially."}}, {"color": "FFFF0000", "data": {"message": "Update the xmlgui version number"}}, {"color": "FFFF0000", "data": {"message": "Use ki18_install to install the translations\n\nThese should be added to the release source tarball."}}, {"color": "FFFF0000", "data": {"message": "Use the lnk file from tha packaging directory"}}, {"color": "FFFF0000", "data": {"message": "Add yet another batch file to package Krita\n\nThis time for a mingw-build in a real windows vm"}}, {"color": "FFFF0000", "data": {"message": "Remove spurious semicolon"}}, {"color": "FFFF0000", "data": {"message": "BUG:366349 Fix the label for the reset canvas rotation action\n\nThanks to Joe for the patch!"}}, {"color": "FFFF0000", "data": {"message": "BUG:366758 Fix confusion between canvas mirroring and mirrored painting\n\nThe one has nothing to do with the other:\n\n* The View/Canvas/Mirror View (hotkey M) that should mirror only the\ndisplay and only affects the display\n\n* The horizontal/vertical mirror painting thing that shows the mirror\nline(s) and affects painting."}}, {"color": "FFFF0000", "data": {"message": "BUG:366713 Fix using the temporary target\n\nA line like\n\nQRect rect = temporaryTarget() ? temporaryTarget()->extent() : QRect();\n\nis dangerous, since the paint device might be gone between the check\nand the use. It's better to get a local shared pointer to the paint\ndevice and check that."}}, {"color": "FFFF0000", "data": {"message": "Also skip qtserialport"}}, {"color": "FFFF0000", "data": {"message": "Remove remaining traces of openjpeg"}}, {"color": "FFFF0000", "data": {"message": "Remove spurious export declaration"}}, {"color": "FFFF0000", "data": {"message": "BUG:363019 Fix loading images with uppercase suffix"}}, {"color": "FFFF0000", "data": {"message": "use barrierLock instead of lock"}}, {"color": "FFFF0000", "data": {"message": "Add Wavelet decompose plugin\n\nDifferential Revision: https://phabricator.kde.org/D2348\n\nPatch by Miroslav Talasek, Thanks!"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "use qIsNan everywhere"}}, {"color": "FFFF0000", "data": {"message": "Disable the video export plugin\n\nIt shadows the ordinary gif export plugin, which is a regression."}}, {"color": "FFFF0000", "data": {"message": "Remove test -- the plugin no longer works like this."}}, {"color": "FFFF0000", "data": {"message": "Try to use the desktop-integration funtions\n\nAs https://gist.githubusercontent.com/aferrero2707/2da99aae425eca8c8afb61b3fb5532f9/raw/bdb23f8c746df06703cbd638f0eae746100f9ae5/Recipe.git shows, we can simplify our scripts a lot..."}}, {"color": "FFFF0000", "data": {"message": "Fix some more unittests"}}, {"color": "FFFF0000", "data": {"message": "Fix some more unittests"}}, {"color": "FFFF0000", "data": {"message": "Fix the KisPropertiesConfiguration test"}}, {"color": "FFFF0000", "data": {"message": "First attempt to improve K...SP documentation\n\nSummary:\nImprove a little bit the documentation of the K...SP  types (starting with only one just to see if I'm in the right direction).\n\nReviewers: rempt\n\nReviewed By: rempt\n\nDifferential Revision: https://phabricator.kde.org/D2063"}}, {"color": "FFFF0000", "data": {"message": "First attempt to improve K...SP documentation\n\nSummary:\nImprove a little bit the documentation of the K...SP  types (starting with only one just to see if I'm in the right direction).\n\nReviewers: rempt\n\nReviewed By: rempt\n\nDifferential Revision: https://phabricator.kde.org/D2063"}}, {"color": "FFFF0000", "data": {"message": "Store and restore all the dialog settings\n\nAnd make the delete sequence files option work."}}, {"color": "FFFF0000", "data": {"message": "Let the video saver work when called with a configuration\n\nThe video saver no longer is a real import/export filter, but\na video filter, and won't show the dialog on its own anymore."}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Render the frames and call the ffmpeg converter\n\nThe converter still errors out, but at least the frames are\nexported correctly now and all the correct options are passed\nto the video converter plugin."}}, {"color": "FFFF0000", "data": {"message": "Append, not replace the path on Windows"}}, {"color": "FFFF0000", "data": {"message": "Append, not replace the path on Windows"}}, {"color": "FFFF0000", "data": {"message": "Remove empty string"}}, {"color": "FFFF0000", "data": {"message": "be less verbose"}}, {"color": "FFFF0000", "data": {"message": "Fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Set the default file type"}}, {"color": "FFFF0000", "data": {"message": "Fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Also warn if the filename to render to is empty."}}, {"color": "FFFF0000", "data": {"message": "Set the mimetypes for the rendered file selector"}}, {"color": "FFFF0000", "data": {"message": "Add a field to enter the location of ffmpeg\n\nWe won't package ffmpeg, people should download it separately\nand tell Krita where the executable is."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Move the video export files to the animation renderer plugin\"\n\nThis reverts commit fc1d4dce1c12a1a663d02436cde15a77e067af2c."}}, {"color": "FFFF0000", "data": {"message": "Remove OpenJPEG completely\n\nRef D2332"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Fix openexr cmakelists for non-windows\n\nSummary: Current CMakeLists.txt for krita 3rdparty openexr was incomplete, applying the mingw patch for every system.  Just added a case for non windows systems.\n\nReviewers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D2331"}}, {"color": "FFFF0000", "data": {"message": "Remove breeze again: Dmitry confirms there are still problems with it\n\nCCBUG:361811"}}, {"color": "FFFF0000", "data": {"message": "Apply review comments\n\n* Cache the pixelsize\n* Add ... to the menu entry"}}, {"color": "FFFF0000", "data": {"message": "Add note about the open-mp plugin"}}, {"color": "FFFF0000", "data": {"message": "Move the video export files to the animation renderer plugin\n\nKeeping this as an external video import/export plugin\ncomplicates everything for very little gain."}}, {"color": "FFFF0000", "data": {"message": "Make it possible to use any style, for the sufficiently determined\n\nSet KRITA_NO_STYLE_OVERRIDE to something and the currently style\nwill not be overridden. Since there are some reports that breeze\nworks now, enable that, too. We can always disable it when it\nturns out to be a bad idea.\n\nBUG:361811"}}, {"color": "FFFF0000", "data": {"message": "Port the new threshold filter to the new shared-pointer version of KisConfiguration"}}, {"color": "FFFF0000", "data": {"message": "Make it possible to use any style, for the sufficiently determined\n\nSet KRITA_NO_STYLE_OVERRIDE to something and the currently style\nwill not be overridden. Since there are some reports that breeze\nworks now, enable that, too. We can always disable it when it\nturns out to be a bad idea.\n\nBUG:361811"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Add a simple threshold filter"}}, {"color": "FFFF0000", "data": {"message": "Make it possible to hide the whitepoint cursor"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/update-dependencies'"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Nicer layout"}}, {"color": "FFFF0000", "data": {"message": "Define the capabilities of the PSD export filter"}}, {"color": "FFFF0000", "data": {"message": "ORA can handle a combination of gray and rgb layers"}}, {"color": "FFFF0000", "data": {"message": "Improve message by adding a newline"}}, {"color": "FFFF0000", "data": {"message": "Add two new checks: imagesize and color model homogenieity"}}, {"color": "FFFF0000", "data": {"message": "PPM can save 8 and 16 bit rgb and grayscale"}}, {"color": "FFFF0000", "data": {"message": "Add saving a profile to the png capabilities"}}, {"color": "FFFF0000", "data": {"message": "Add export capabilities for ora\n\nAnd convert to something that works before trying to save to\npng instead of refusing to save."}}, {"color": "FFFF0000", "data": {"message": "Add export capabilities for jpeg"}}, {"color": "FFFF0000", "data": {"message": "Add capabilities for the heightmap exporter\n\nOnly 8 and 16 bits grayscale is supported."}}, {"color": "FFFF0000", "data": {"message": "Also check for critical errors that block saving completly"}}, {"color": "FFFF0000", "data": {"message": "Replace docbook (????) by xml\n\nThe docbook has been here since\n\n8cf4c79fdf96cd24bcf915bf8fce4c1c8f140c70\n\nin 2014, but has, of course, never worked"}}, {"color": "FFFF0000", "data": {"message": "These plugins do not support anything but sRGB"}}, {"color": "FFFF0000", "data": {"message": "Add an errors field to the checker\n\nWarnings cause degradation, errors break saving completely"}}, {"color": "FFFF0000", "data": {"message": "Fix message to be more generally accurate"}}, {"color": "FFFF0000", "data": {"message": "Add a check for KisGroupLayer"}}, {"color": "FFFF0000", "data": {"message": "Add capabilities for CSV\n\nThis is multilayer, no groups, sRGB png."}}, {"color": "FFFF0000", "data": {"message": "Convert the brush export plugin to the config widget system and add capabilities"}}, {"color": "FFFF0000", "data": {"message": "Add a warning icon and make the full info list a popup"}}, {"color": "FFFF0000", "data": {"message": "Fix classname to follow standards"}}, {"color": "FFFF0000", "data": {"message": "Set the capabilities of BMP\n\nIt can only save one layer, 8 bit sRGB"}}, {"color": "FFFF0000", "data": {"message": "Fix some whitespace issues"}}, {"color": "FFFF0000", "data": {"message": "Also check the color model per layer, for formats that support layers"}}, {"color": "FFFF0000", "data": {"message": "Add a check whether the image is non-linear sRGB"}}, {"color": "FFFF0000", "data": {"message": "Add a check for the presence of exif information in the layers\n\nNote: It looks like we never set the exif annoation on the KisImage,\nso maybe we should stop trying to save that in kra files?"}}, {"color": "FFFF0000", "data": {"message": "Add a check for the existence of layer styles."}}, {"color": "FFFF0000", "data": {"message": "Fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Add three extra checks for guides, grids and assistants\n\nThese checks cannot be done using the checker mechanism because\nthe data is stored in the KisDocument, not the KisImage"}}, {"color": "FFFF0000", "data": {"message": "Add a check for compositions"}}, {"color": "FFFF0000", "data": {"message": "Add a check for animated layers"}}, {"color": "FFFF0000", "data": {"message": "Add the color model check"}}, {"color": "FFFF0000", "data": {"message": "Register the ability to save multiple layers for the tiff file format"}}, {"color": "FFFF0000", "data": {"message": "Only do the per-layer checks if the format can save layers"}}, {"color": "FFFF0000", "data": {"message": "Add a check for multiple layers."}}, {"color": "FFFF0000", "data": {"message": "Remove old openraster capabilities check from the kra export plugin"}}, {"color": "FFFF0000", "data": {"message": "Add a check for the various types of nodes"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "Make all export plugins link to the impex library"}}, {"color": "FFFF0000", "data": {"message": "The Kra export plugin supports all capabilities, by definition"}}, {"color": "FFFF0000", "data": {"message": "simplify"}}, {"color": "FFFF0000", "data": {"message": "Combine the options and the warnings in one dialog."}}, {"color": "FFFF0000", "data": {"message": "Implement the first export checks"}}, {"color": "FFFF0000", "data": {"message": "Add a registry and factory system for the checks"}}, {"color": "FFFF0000", "data": {"message": "Add initial framework for the export capabilities checker\n\nSee https://phabricator.kde.org/T3535 for the design"}}, {"color": "FFFF0000", "data": {"message": "Move the kra code into a separate library\n\nThe exr filter needs access to it to save the layer properties."}}, {"color": "FFFF0000", "data": {"message": "Move all kra-specific loading code to the kra import plugin"}}, {"color": "FFFF0000", "data": {"message": "remove unused method"}}, {"color": "FFFF0000", "data": {"message": "Don't use loadNativeFormat, but use a filter to load a kra file"}}, {"color": "FFFF0000", "data": {"message": "Set the mimetype on the filter when creating the filter object"}}, {"color": "FFFF0000", "data": {"message": "Don't crash if loading a file failed"}}, {"color": "FFFF0000", "data": {"message": "Implement saving to .kra as a plugin: next loading"}}, {"color": "FFFF0000", "data": {"message": "Use the import/export filter directly instead of saveNativeFormatCalligra"}}, {"color": "FFFF0000", "data": {"message": "simplify by removing prepareSaving()"}}, {"color": "FFFF0000", "data": {"message": "Remove double initialization of bools"}}, {"color": "FFFF0000", "data": {"message": "Remove remnants from the remote-url loading"}}, {"color": "FFFF0000", "data": {"message": "Simplify the saving and loading code"}}, {"color": "FFFF0000", "data": {"message": "Simplify the api by removing two methods that were only used locally"}}, {"color": "FFFF0000", "data": {"message": "Remove unused parameter"}}, {"color": "FFFF0000", "data": {"message": "No need to wrap a QUrl in a QUrl"}}, {"color": "FFFF0000", "data": {"message": "Remove duplicate sig/slot connection\n\nIt's also connected in KisViewManager"}}, {"color": "FFFF0000", "data": {"message": "Remove the old export confirmation mechanism\n\nFine for office suites, for Krita we need something a bit more\neffective."}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Get rid of all the QObject::connect: invalid null parameter messages"}}, {"color": "FFFF0000", "data": {"message": "Add Alvin's new packaging script"}}, {"color": "FFFF0000", "data": {"message": "Update the script"}}, {"color": "FFFF0000", "data": {"message": "Remove the git revision from the version string\n\nWe're building from source releases now"}}, {"color": "FFFF0000", "data": {"message": "Get ki18n 17 from the attic\n\nLater versions are too borked to use on OSX"}}, {"color": "FFFF0000", "data": {"message": "enginio is gone"}}, {"color": "FFFF0000", "data": {"message": "Update snap to 3.0.1.1"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into kazakov/preset-chooser-fixes"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Update version number"}}, {"color": "FFFF0000", "data": {"message": "Improve build support with more mingw-w64 versions on Windows\n\nSummary:\nThis is a squashed commit.\n\n- Include cmath instead of math.h since the code references cmath\n    functions with the std namespace specifier.\n- ext_poppler is missing two defines in the cmake config which can cause\n    compilation error with some mingw versions, so we patch it.\n- Try to detect ext_boost dll name for mingw instead of hard-coding a specific version\n- Use 32-bit fftw DLLs when compiling for x86\n- Skip files ending in .debug when loading plugins. This is to support\n    separating debug info from the executable files and not polluting the gdb\n    output with tons of \"xxx.debug has no json\" messages.\n\nReviewers: rempt\n\nSubscribers: woltherav\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D2856"}}, {"color": "FFFF0000", "data": {"message": "Don't crash when shoing the popup palette and hud after changing canvas type"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Fix override cursor"}}, {"color": "FFFF0000", "data": {"message": "Fix double delete"}}, {"color": "FFFF0000", "data": {"message": "Show the filter settings dialog from one central place\n\nInstead of having the same logic in every filter that has a\nsettings dialog.\n\nNote: raw and pdf import still have a local dialog."}}, {"color": "FFFF0000", "data": {"message": "Get rid of a number of cursor overrides, KisImportExportManager handles that now"}}, {"color": "FFFF0000", "data": {"message": "Increase the xmlgui version number"}}, {"color": "FFFF0000", "data": {"message": "Also deploy the quicklook plugin"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Remove the use of the KisFilterGraph and KisFilterChain\n\nWe never supported chained input/output anyway; that is barely\nuseful for image files and would never perform well. This makes\nthe whole import/export system much simpler.\n\nPlus, apparently all the chain stuff took some noticeable time\nbecause the export dialogs now appear much, much quicker."}}, {"color": "FFFF0000", "data": {"message": "Fix copyright for these new files"}}, {"color": "FFFF0000", "data": {"message": "Make the import and export api handle status the same way"}}, {"color": "FFFF0000", "data": {"message": "Remove the special output flag\n\nThis wasn't used in Krita -- it was meant for flat xml files,\nODF directories or encrypted files."}}, {"color": "FFFF0000", "data": {"message": "Remove unused \"autoerrorhandling\" flag"}}, {"color": "FFFF0000", "data": {"message": "Simplify the loading code: Krita filters never write a native file\n\nIn Koffice/Calligra, the filters can write a file at the end of\na conversion chain that is in the native format for the application,\nand the application then has to load it. That never happens in Krita,\nso don't return that filename and assert if one is given."}}, {"color": "FFFF0000", "data": {"message": "Remove saveToStore\n\nThis was only used for embedding documents in other documents,\nand that was only done by the chart shape, which we don't have\nin krita anymore."}}, {"color": "FFFF0000", "data": {"message": "Master styles are, apparently, not saved, so comment out the saver"}}, {"color": "FFFF0000", "data": {"message": "remove unused include"}}, {"color": "FFFF0000", "data": {"message": "Remove unused loadFromStore method"}}, {"color": "FFFF0000", "data": {"message": "Remove unused load/save ODF methods"}}, {"color": "FFFF0000", "data": {"message": "Move the kra unittests to the kra impex plugin"}}, {"color": "FFFF0000", "data": {"message": "Fix build after merge conflict"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Update the release number, we're working on the beta now\n\nAlpha's are being built"}}, {"color": "FFFF0000", "data": {"message": "Check whether half.h can be used"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Move KUndo2Command into its own file and make it a QObject\"\n\nThis reverts commit 789d8b64846818b6008c5ef828de3ef75d835cd2."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Wrap the undo commands in a QPointer\"\n\nThis reverts commit 68ca0a9afba1693d7f1a6234c605ff7233522dd5."}}, {"color": "FFFF0000", "data": {"message": "Wrap the undo commands in a QPointer\n\nThis should fix the problems when trying to merge already deleted\ncommands in the timedMergeWith method, because now we can track\nwhether the QObject-based KUndo2Command instances have been deleted\nbehind our back.\n\nBUG:366607"}}, {"color": "FFFF0000", "data": {"message": "Move KUndo2Command into its own file and make it a QObject"}}, {"color": "FFFF0000", "data": {"message": "Unset the error message before saving\n\nOtherwise, one failed save would mess up saving the document forever."}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "Forward port \"ensure cosmetic pen for UI elements\"\n\nThis is a port of the relevant parts of:\n\nGit commit 82e58aa1bf37b7f64ef25b28b85b845b9ff33776 by Friedrich W. H. Kossebau.\nCommitted on 07/09/2016 at 13:25.\nPushed by kossebau into branch 'master'.\n\nRestore old behaviour: ensure cosmetic pen for UI elements\n\nQt4 did default to cosmetic pens, Qt5 defaults to 1 pixel pens\nDoes not make a difference in many places though, but let's be explicit now"}}, {"color": "FFFF0000", "data": {"message": "Don't crash on closing the window"}}, {"color": "FFFF0000", "data": {"message": "Temporarily disable this test, let's see what jenkins will fail on next"}}, {"color": "FFFF0000", "data": {"message": "Apply Beuc's patches to the appimage build script\n\nBUG:368633"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Move the kra code into its own plugin\n\nThis breaks:\n\n* loading and saving from KisDocument\n* loading and saving layer flags in OpenEXR\n\nAnd the plugin itself isn't implemented yet."}}, {"color": "FFFF0000", "data": {"message": "Move all the OpenRaster code to the ora plugin"}}, {"color": "FFFF0000", "data": {"message": "warning--: Private' defined as a class here but previously declared as a struct [-Wmismatched-tags]"}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "warning--: warning: private field 'b_canvas' is not used [-Wunused-private-field]"}}, {"color": "FFFF0000", "data": {"message": "warning--: unused variable 'LUT3D_EDGE_SIZE' [-Wunused-const-variable]"}}, {"color": "FFFF0000", "data": {"message": "warning--:unused parameter 'map' [-Wunused-parameter]"}}, {"color": "FFFF0000", "data": {"message": "warning--: private field 'm_paragraphStyle' is not used [-Wunused-private-field]"}}, {"color": "FFFF0000", "data": {"message": "warning-- (extraneous parenthesises)"}}, {"color": "FFFF0000", "data": {"message": "Disable the macro-redefines warning\n\nI was going crazy from all the DEPRECATED redefined warnings"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Disable the async merger test for now\n\nIt builds fine for me, but not for jenkins."}}, {"color": "FFFF0000", "data": {"message": "Update"}}, {"color": "FFFF0000", "data": {"message": "BUG:365400 Don't crash when merging layers gives an inconsistent result\n\nThis way the user can at least still save their image. I can easily\nreproduce the warning messages Raghukamath pasted into the bug report,\nthough."}}, {"color": "FFFF0000", "data": {"message": "Simplify the sobel filter and disable Make Opaque"}}, {"color": "FFFF0000", "data": {"message": "BUG:368721 Make the sobel filter work if topleft != 0,0"}}, {"color": "FFFF0000", "data": {"message": "BUG:368824 Do not deleted a shared pointer"}}, {"color": "FFFF0000", "data": {"message": "Fix build...\n\nI need more coffee"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "Skip malformed credit entries in the abouttbox"}}, {"color": "FFFF0000", "data": {"message": "Explicitly set the mimetype on the filter"}}, {"color": "FFFF0000", "data": {"message": "Pass an IO device to the filters instead of a filename\n\nNot all filters can handle that: some need a filename to start\na directory structure, others (tiff) use a library that thinks\nit needs to open the file itself.\n\nImplements T3574"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Remove prepareForImport\n\nIt was empty, so let's not confuse ourselves with it."}}, {"color": "FFFF0000", "data": {"message": "Hack: only look for templates in folders that contain the word \"templates\""}}, {"color": "FFFF0000", "data": {"message": "BUG:368764 Manage the display filters with shared pointers\n\nThe ownership management by the lut docker using a bool to\nindicate that a display filter was our display filter was\nbroken and caused memory leaks. Fixing the memory leak caused\ncrashes.\n\nNow all display filters are wrapped in a QSharedPointer, which\nuglifies the code but fixes the issue."}}, {"color": "FFFF0000", "data": {"message": "Ask for 3.0 on platforms other than osx"}}, {"color": "FFFF0000", "data": {"message": "Fix painting with the hatching brush"}}, {"color": "FFFF0000", "data": {"message": "BUG:368747 Fix regression in the hatching paintop"}}, {"color": "FFFF0000", "data": {"message": "Fix regression in the sketch brush"}}, {"color": "FFFF0000", "data": {"message": "BUG:368727 Don't crash on using the scratchpad\n\nIt is perfeclty possible to paint on a paint device without having\nan image, so check for that."}}, {"color": "FFFF0000", "data": {"message": "Sort the assistants combobox"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "warning--"}}, {"color": "FFFF0000", "data": {"message": "warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--\n\n/home/boud/dev/master/libs/ui/opengl/kis_opengl_canvas2.cpp: In member function \u2018void KisOpenGLCanvas2::reportFailedShaderCompilation(const QString&)\u2019:\n/home/boud/dev/master/libs/ui/opengl/kis_opengl_canvas2.cpp:320:42: warning: the address of \u2018double log(double)\u2019 will always evaluate as \u2018true\u2019 [-Waddress]\n         dbgUI << \"GL-log:\" << context << log;"}}, {"color": "FFFF0000", "data": {"message": "warning--"}}, {"color": "FFFF0000", "data": {"message": "Disable the compositions benchmark, it doesn't build"}}, {"color": "FFFF0000", "data": {"message": "Only set the core profile on OSX\n\nWe'll move the other platforms (win and linux) to core profile\nonce the patch has landed in Qt itself."}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak"}}, {"color": "FFFF0000", "data": {"message": "Explicitly initialize variables"}}, {"color": "FFFF0000", "data": {"message": "BUG:368614 Fix a memory leak and a recursive sig/slot connection"}}, {"color": "FFFF0000", "data": {"message": "Fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak: explicitly set a parent"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variable and clean up after delete"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when used from the filter brush"}}, {"color": "FFFF0000", "data": {"message": "Remove this test.\n\nIt doesn't actually test anything."}}, {"color": "FFFF0000", "data": {"message": "Fix double delete"}}, {"color": "FFFF0000", "data": {"message": "Fix test"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak\n\n==10207== 424 (24 direct, 400 indirect) bytes in 1 blocks are definitely lost in loss record 11,215 of 12,325\n==10207==    at 0x4C29670: operator new(unsigned long) (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==10207==    by 0x321A1982: KoStyleManager::KoStyleManager(QObject*) (KoStyleManager.cpp:152)\n==10207==    by 0x31B41D3F: TextShapeFactory::newDocumentResourceManager(KoDocumentResourceManager*) const (TextShapeFactory.cpp:158)\n==10207==    by 0x6D70D3F: KoShapeBasedDocumentBase::KoShapeBasedDocumentBase() (KoShapeBasedDocumentBase.cpp:40)\n==10207==    by 0x50FB291: KisShapeController::KisShapeController(KisDocument*, KisNameServer*) (kis_shape_controller.cpp:71)\n==10207==    by 0x5344AD8: KisDocument::init() (KisDocument.cpp:591)\n==10207==    by 0x534B5CC: KisDocument::KisDocument() (KisDocument.cpp:527)\n==10207==    by 0x538013A: KisPart::createDocument() const (KisPart.cpp:197)\n==10207==    by 0x5293D47: KisCustomImageWidget::createNewImage() (kis_custom_image_widget.cc:273)\n==10207==    by 0x529503E: KisCustomImageWidget::createImage() (kis_custom_image_widget.cc:232)\n==10207==    by 0xC344390: QMetaObject::activate(QObject*, int, int, void**) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==10207==    by 0xB2A6551: QAbstractButton::clicked(bool) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==10207==\n==10207== 430 (24 direct, 406 indirect) bytes in 1 blocks are definitely lost in loss record 11,216 of 12,325\n==10207==    at 0x4C29670: operator new(unsigned long) (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==10207==    by 0x321A1960: KoStyleManager::KoStyleManager(QObject*) (KoStyleManager.cpp:151)\n==10207==    by 0x31B41D3F: TextShapeFactory::newDocumentResourceManager(KoDocumentResourceManager*) const (TextShapeFactory.cpp:158)\n==10207==    by 0x6D70D3F: KoShapeBasedDocumentBase::KoShapeBasedDocumentBase() (KoShapeBasedDocumentBase.cpp:40)\n==10207==    by 0x50FB291: KisShapeController::KisShapeController(KisDocument*, KisNameServer*) (kis_shape_controller.cpp:71)\n==10207==    by 0x5344AD8: KisDocument::init() (KisDocument.cpp:591)\n==10207==    by 0x534B5CC: KisDocument::KisDocument() (KisDocument.cpp:527)\n==10207==    by 0x538013A: KisPart::createDocument() const (KisPart.cpp:197)\n==10207==    by 0x5293D47: KisCustomImageWidget::createNewImage() (kis_custom_image_widget.cc:273)\n==10207==    by 0x529503E: KisCustomImageWidget::createImage() (kis_custom_image_widget.cc:232)\n==10207==    by 0xC344390: QMetaObject::activate(QObject*, int, int, void**) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==10207==    by 0xB2A6551: QAbstractButton::clicked(bool) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==10207==\n\nProbably also present in Calligra\n\nCCMAIL:calligra-devel@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Properly initialize all d-pointer variables\n\nBUG:368711"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak: delete the display filter if we own it."}}, {"color": "FFFF0000", "data": {"message": "Fix a memory leak: the popup action should \"own\" the image collection\n\nAnd the pattern background should check whether the popup still\nexists. This bug probably is also in Calligra.\n\nCCMAIL:calligra-devel@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'video-export-rebased'"}}, {"color": "FFFF0000", "data": {"message": "Make the destructor virtual"}}, {"color": "FFFF0000", "data": {"message": "Sort the contents of a KisCmbIDList\n\nAdd sort function to use with qSort of std::sort KoID and use that\nto make sure that every KoID combobox is sorted."}}, {"color": "FFFF0000", "data": {"message": "Fix a few uninitialized variables memcheck warnings"}}, {"color": "FFFF0000", "data": {"message": "BUG:368624 Add mesa-libglu-devel\n\nThough why and wherefore I don't know since I have obviously been\nbuilding the appimages I make without that devel package in the yum\ninstall line."}}, {"color": "FFFF0000", "data": {"message": "Update the script to create the tarball for centos users"}}, {"color": "FFFF0000", "data": {"message": "BUG:368648 Do not deadlock while loading this image\n\nThe image contains a filter layer that needs create a lab colorspace\nfor filtering. That locks the KoColorSpaceRegistry, but... We also\nneed access to load the profiles. And in any case, the image should\nnot be recomputed while loading.\n\nSo, lock the image update while loading. This has the side effect\nof noticably speeding up the loading of this image for me. Which\nlock to use, Lock, barrierlock, lock or blockupdates... That's a\nmystery, because no apidox. I used blockUpdates because that sounds\nmost like what I need."}}, {"color": "FFFF0000", "data": {"message": "Note a few places where we _really_ need apidox"}}, {"color": "FFFF0000", "data": {"message": "Fix Windows build: globally include boost"}}, {"color": "FFFF0000", "data": {"message": "Fix \"not declared in this scope\" compile errors in Windows\n\nSummary: I'm not 100% sure whether the first change (new QTImer(this)) is the intended code; it's just my best guess.\n\nReviewers: rempt, woltherav\n\nReviewed By: woltherav\n\nDifferential Revision: https://phabricator.kde.org/D2734"}}, {"color": "FFFF0000", "data": {"message": "Fix \"undefined referenced to...\" compile errors from KoDualColorButton in Windows\n\nSummary:\nKoDualColorButton was initially part of widgets library, but was moved to the ui library in rKRITA93ef7c8\n\nHowever, it is still marked for shared library export for widgets library instead of ui library. Because of this the compiler cannot find the implementation of KoDualColorButton, and outputs an \"undefined reference\" error. This patch corrects KoDualColorButton to be exported as part of ui library.\n\nIt's odd that the error only shows up in Windows (windows 10 64-bit, TDM-GCC 5.1.0). In linux it compiles just fine (though it probably shouldn't).\n\nReviewers: rempt, woltherav\n\nReviewed By: woltherav\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D2736"}}, {"color": "FFFF0000", "data": {"message": "Build using the right os and display on Windows\n\nThe ifdef only worked when cross-building, or when building with\nmsvc, it seems.\n\nBUG:368565"}}, {"color": "FFFF0000", "data": {"message": "Don't lock the options button for the frame export format"}}, {"color": "FFFF0000", "data": {"message": "Remove all occurrences of using Eigen\n\nThis way we should be able to use openexr and eigen3's latest\nbeta together."}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "Warning--"}}, {"color": "FFFF0000", "data": {"message": "warning--"}}, {"color": "FFFF0000", "data": {"message": "warning--"}}, {"color": "FFFF0000", "data": {"message": "qtcharts appears with Qt 5.7"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "BUG:363846 Check whether the brush is still there before dereferencing"}}, {"color": "FFFF0000", "data": {"message": "BUG:368127 Remove the useless Help button"}}, {"color": "FFFF0000", "data": {"message": "BUG:368207 Do not crash if the parent juggler is gone\n\nBy wrapping in a QPointer we can check whether the QObject\nbased KisNodeJugglerCompressed has been deleted. If shouldn't\nhappen, but obviously does."}}, {"color": "FFFF0000", "data": {"message": "Only fill the ocio controls if we can get a config"}}, {"color": "FFFF0000", "data": {"message": "Fix loading the templates\n\nBy actually defining an alias for templates. There used to be two\nways of getting a folder in the share/krita location, by asking for\nthe data folder and manually providing a subdirectory, or by defining\na resource type. Now only defining a resource type is allowed."}}, {"color": "FFFF0000", "data": {"message": "Warning--: mark with Q_DECL_OVERRIDE"}}, {"color": "FFFF0000", "data": {"message": "Fix warning"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into nimmy/opengl-patch"}}, {"color": "FFFF0000", "data": {"message": "Update the patch, again"}}, {"color": "FFFF0000", "data": {"message": "Fix the calculation for hasOpenGL3\n\nOpenGL 4.1 is fine as well, so a check for minor version >= 2 is\nbogus."}}, {"color": "FFFF0000", "data": {"message": "Fix warning: a struct should not be forward declared as a class"}}, {"color": "FFFF0000", "data": {"message": "Initialize the default surface format before the application\n\nTo follow http://doc.qt.io/qt-5/qsurfaceformat.html#setDefaultFormat"}}, {"color": "FFFF0000", "data": {"message": "Fix two warnings"}}, {"color": "FFFF0000", "data": {"message": "QKeySequence::Cancel isn't available in older versions of Qt\n\nThough http://doc.qt.io/qt-5/qkeysequence.html#StandardKey-enum doesn't\nsay so, it only says \"This enum was introduced or modified in Qt 4.2.\""}}, {"color": "FFFF0000", "data": {"message": "Add an extra skip to the ext-qt project\n\nThere's probably more to skip in 5.7"}}, {"color": "FFFF0000", "data": {"message": "Add missing include"}}, {"color": "FFFF0000", "data": {"message": "ORA: convert the projection for the mergedimage when necessary"}}, {"color": "FFFF0000", "data": {"message": "Open the first tab, not the last one\n\nThis must be the most idiotic mis-feature of Qt Designer: making\nthe ui file remember which tab was open when designing. It should\nalways just be the first..."}}, {"color": "FFFF0000", "data": {"message": "Move the version to 3.0.2 Alpha"}}, {"color": "FFFF0000", "data": {"message": "Update version to 3.0.1"}}, {"color": "FFFF0000", "data": {"message": "Fix setting the codec based on the mimetype"}}, {"color": "FFFF0000", "data": {"message": "Put the config pages in popup dialogs"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into nimmy/opengl-patch"}}, {"color": "FFFF0000", "data": {"message": "Update the macdeploy-qt patch for Qt 5.7.0\n\nI really wish the Qt people would accept the patch...\n\nCCMAIL:kde-mac@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix drawing the gradient"}}, {"color": "FFFF0000", "data": {"message": "Refactor KisColorSource to use KoColor in a saner way"}}, {"color": "FFFF0000", "data": {"message": "Make KoSegmentGradient::colorAt threadsafe"}}, {"color": "FFFF0000", "data": {"message": "Make this class safe\n\nIt means we don't cache the QImage, but there is no alternative"}}, {"color": "FFFF0000", "data": {"message": "Warn that this class is not threadsafe"}}, {"color": "FFFF0000", "data": {"message": "Make KoStopGradient::colorAt threadsave\n\nSneakily, the \"buffer\" variable was made a class variable. Marking\nit mutable allows us to change it from a const function, which hides\nthe fact that this is global data (doubly hidden by there not being\nan m_ prefix), which makes the const function thread unsafe."}}, {"color": "FFFF0000", "data": {"message": "Also revert the patch"}}, {"color": "FFFF0000", "data": {"message": "Try harder to find the tag files on Windows and OSX\n\nThis is yet another KoResourcePaths problem...\nBUG:366757"}}, {"color": "FFFF0000", "data": {"message": "Fix logic error...\n\nI shouldn't code during a sprint, only afterwards"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Go back to ki18n 5.17 for now\n\nTo avoid the system-language bug until it's fixed.\nCCBUG:368007"}}, {"color": "FFFF0000", "data": {"message": "Remove unused ui file\n\n(Was forgotten in\n\ncommit 010c0f3066d872d0f91ec3a38057b4fcaedca4ad\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sat Mar 30 12:22:40 2013 +0100\n\n    Remove unimplemented custom palette dialog\n)"}}, {"color": "FFFF0000", "data": {"message": "Fix drawing the gradient"}}, {"color": "FFFF0000", "data": {"message": "Refactor KisColorSource to use KoColor in a saner way"}}, {"color": "FFFF0000", "data": {"message": "Make KoSegmentGradient::colorAt threadsafe"}}, {"color": "FFFF0000", "data": {"message": "Make this class safe\n\nIt means we don't cache the QImage, but there is no alternative"}}, {"color": "FFFF0000", "data": {"message": "Warn that this class is not threadsafe"}}, {"color": "FFFF0000", "data": {"message": "Make KoStopGradient::colorAt threadsave\n\nSneakily, the \"buffer\" variable was made a class variable. Marking\nit mutable allows us to change it from a const function, which hides\nthe fact that this is global data (doubly hidden by there not being\nan m_ prefix), which makes the const function thread unsafe."}}, {"color": "FFFF0000", "data": {"message": "Also revert the patch"}}, {"color": "FFFF0000", "data": {"message": "Try harder to find the tag files on Windows and OSX\n\nThis is yet another KoResourcePaths problem...\nBUG:366757"}}, {"color": "FFFF0000", "data": {"message": "Improve the view selection when color picking\n\nWe can easily grab a list of all existing views and check whether\nthey are under the cursor. Color picking from a krita image now\ngets the color directly no matter the active window or view."}}, {"color": "FFFF0000", "data": {"message": "Fix logic error...\n\nI shouldn't code during a sprint, only afterwards"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Go back to ki18n 5.17 for now\n\nTo avoid the system-language bug until it's fixed.\nCCBUG:368007"}}, {"color": "FFFF0000", "data": {"message": "Remove unused ui file\n\n(Was forgotten in\n\ncommit 010c0f3066d872d0f91ec3a38057b4fcaedca4ad\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sat Mar 30 12:22:40 2013 +0100\n\n    Remove unimplemented custom palette dialog\n)"}}, {"color": "FFFF0000", "data": {"message": "Disable the system monitor check if colord doesn't give us devices"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into video-export-rebased"}}, {"color": "FFFF0000", "data": {"message": "Remove the magic USER_CANCELED string\n\nIt was only used by Plan and Sheets."}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "add some extra info"}}, {"color": "FFFF0000", "data": {"message": "Make the imagemodified/document modified sig/slot connection unique"}}, {"color": "FFFF0000", "data": {"message": "Remove unused overload"}}, {"color": "FFFF0000", "data": {"message": "If loading a template fails, don't initialize an empty, wrong document\n\nThat never happened anyway, because failing to load a template breaks\nbefore arriving here."}}, {"color": "FFFF0000", "data": {"message": "Remove unused method KisDocument::waitSaveComplete()"}}, {"color": "FFFF0000", "data": {"message": "KisDocument::save() doesn't need to be a slot\n\nNothing connects to it."}}, {"color": "FFFF0000", "data": {"message": "Remove unused pagecount property"}}, {"color": "FFFF0000", "data": {"message": "Remove KisDocument::pageLayout\n\nIt's not relevant for krita and was only used in the pdf export\ncode, which is now also simplified, because there was no reason\nto have it split up into two functions."}}, {"color": "FFFF0000", "data": {"message": "Get rid of the storedExtern check; kra files are never embedded."}}, {"color": "FFFF0000", "data": {"message": "Remove the setEmpty/isEmpty flag\n\nA Krita document is never really empty, this code was only useful\nfor office document, and the flag only \"used\" in KoDocumentInfo."}}, {"color": "FFFF0000", "data": {"message": "Remove the isLoading flag\n\nLoading is no longer asynchronous (we don't download something\nfrom a remote url anymore), so this flag doesn't make sense\nanymore."}}, {"color": "FFFF0000", "data": {"message": "Remove unused methods/variables"}}, {"color": "FFFF0000", "data": {"message": "Remove obsolete comment"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Fix build of the quicklook plugin"}}, {"color": "FFFF0000", "data": {"message": "Remove unused code"}}, {"color": "FFFF0000", "data": {"message": "Fix loading the photoshop compatible shortcut scheme\n\nBUG:371542\nClosed phabricator task T4213"}}, {"color": "FFFF0000", "data": {"message": "Replace a couple of \"\" parameters with QString()"}}, {"color": "FFFF0000", "data": {"message": "Fix warning messages on Ubuntu 16.04\n\nApparently the i18nc on Ubuntu cannot handle the .arg() way of giving\ni18nc arguments."}}, {"color": "FFFF0000", "data": {"message": "Fix crash on export"}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/T4121-improve-palette-format"}}, {"color": "FFFF0000", "data": {"message": "Implement loading and saving Krita's native palette files\n\nThe extension is .kpl, and the format is the usual zip file with\ncontents."}}, {"color": "FFFF0000", "data": {"message": "Remove unused parameter"}}, {"color": "FFFF0000", "data": {"message": "Remove spurious Q_UNUSED"}}, {"color": "FFFF0000", "data": {"message": "Remove unused methods"}}, {"color": "FFFF0000", "data": {"message": "Remove ancient and irrelevant comment"}}, {"color": "FFFF0000", "data": {"message": "d-pointerify KoColorSet"}}, {"color": "FFFF0000", "data": {"message": "Update the link to the source code"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Remove broken template\"\n\nThis reverts commit 5554d75a11b80fa657ed2e2a5c5db37a4fade838."}}, {"color": "FFFF0000", "data": {"message": "Get rid of breakpad again\n\nFor Windows builds, we use mingw and drmingw, and we won't\nhave the breakpad/webservice thing running anywhere any\ntime soon. Probably not this decade, maybe not even this\ncentury."}}, {"color": "FFFF0000", "data": {"message": "The authorized stuff comes from kconfig, not kauth, which we don't need"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Make it possible to build without kauth installed\"\n\nThis reverts commit 1cbae8b3570241953bca2e51de36c62ee9452de9."}}, {"color": "FFFF0000", "data": {"message": "Make it possible to build without kauth installed"}}, {"color": "FFFF0000", "data": {"message": "Make Qt 5.6.0 the minimum with an override\n\nQt 5.6 has fixed the bug for which this reverted commit was\na hacky fix; the hacky fix caused problems for kwin because\nwe first show, then position the main window.\n\nBUG:371568\n\nRevert \"Fix wrong positioning of children/popup widgets\"\n\nThis reverts commit ceff0e241bbd1c14b4b5ee5de11743b92fb7d760."}}, {"color": "FFFF0000", "data": {"message": "Set some common properties of the image on the export configuration\n\nThis can be used to correctly configure the dialogs, which don't\nhave access to the document or the image. This also means the\nsave profile option works again in the png export dialog.\n\nBUG:367832"}}, {"color": "FFFF0000", "data": {"message": "Fix build after merge error"}}, {"color": "FFFF0000", "data": {"message": "Copy KF5 Qt plugins from another possible location\n\nThe KDE Framework build files checks whether the Qt install prefix\nis the same as the KF5 install prefix and sets the default value of\nKDE_INSTALL_USE_QT_SYS_PATHS accordingly, which affects where the plugins\nare copied to.  As a result, the file locations differ whether Qt is\nbuilt separately or together with other 3rdparty stuff.  This tries to\ncopy from both locations."}}, {"color": "FFFF0000", "data": {"message": "We're working on the 3rd beta now."}}, {"color": "FFFF0000", "data": {"message": "BUG:368093 Only install the breeze themes for our own binary releases\n\nWhen Krita is built by distributions for installation into /usr,\nthe breeze themes we borrowed shouldn't be installed, because all\ncolor themes share the same installation directory.\n\nBut when we build for Windows, OSX or AppImages, we do want to have\nthese styles available because they're very nice."}}, {"color": "FFFF0000", "data": {"message": "Set the default value for Unsharp Mask amount to 2\n\nBUG:368101"}}, {"color": "FFFF0000", "data": {"message": "Fix the check for X11"}}, {"color": "FFFF0000", "data": {"message": "BUG:371561 Force the xcb plugin, since Krita cannot run on Wayland"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Add Scribus palette parsing.\n\npatch by L. E. Segovia. Thanks!"}}, {"color": "FFFF0000", "data": {"message": "BUG:371523 Do not crash on opening Gimp 2.9 files\n\nKrita cannot load Gimp 2.9 files (and never will be, probably,\nbecause xcf-tools isn't maintained anymore and the file format\nis un(der)documented). But we shouldn't crash and burn trying\nto load them anyway.\n\nThis adds two new strings for translation, I'm afraid :-(\n\nCCMAIL:kde-i18n-doc@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Fix typo in comment"}}, {"color": "FFFF0000", "data": {"message": "Update snap definition"}}, {"color": "FFFF0000", "data": {"message": "Update the xmlgui version number"}}, {"color": "FFFF0000", "data": {"message": "BUG:371463 Don't crash when creating an image from a template\n\nSometimes, if the dialog would open by default on a template\npage, and you'd create an image from a template, the dialog\nand pane would be deleted too early. We said, when creating\nthe slots, that deleteLater would be used to delete the dialog,\nbut we didn't do that... Now we do."}}, {"color": "FFFF0000", "data": {"message": "Fix valgrind warning\n\n==25334== Invalid read of size 1\n==25334==    at 0xBBEA860: QGuiApplicationPrivate::mouseEventSource(QMouseEvent const*) (in /home/boud/dev/deps/lib/libQt5Gui.so.5.6.1)\n==25334==    by 0x52B49F7: KisInputManager::Private::EventEater::eventFilter(QObject*, QEvent*) (kis_input_manager_p.cpp:83)\n==25334==    by 0x52B3D81: KisInputManager::eventFilter(QObject*, QEvent*) (kis_input_manager.cpp:177)\n==25334==    by 0xC5477B0: QCoreApplicationPrivate::sendThroughObjectEventFilters(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xB3DCDC4: QApplicationPrivate::notify_helper(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0xB3E1449: QApplication::notify(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0x530D7B6: KisApplication::notify(QObject*, QEvent*) (KisApplication.cpp:511)\n==25334==    by 0xC5478E4: QCoreApplication::notifyInternal2(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xC5496C9: QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xC5986D2: ??? (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0x10F28C83: g_main_context_dispatch (in /usr/lib64/libglib-2.0.so.0.4400.1)\n==25334==    by 0x10F28ED7: ??? (in /usr/lib64/libglib-2.0.so.0.4400.1)\n==25334==  Address 0x1a45b759 is 7 bytes before a block of size 24 alloc'd\n==25334==    at 0x4C29110: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==25334==    by 0xC3D3D78: QHashData::allocateNode(int) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xB41FFBB: QWidgetPrivate::init(QWidget*, QFlags<Qt::WindowType>) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0xB4D3A43: QAbstractButton::QAbstractButton(QWidget*) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0x6C8CFAD: KoDockWidgetTitleBarButton::KoDockWidgetTitleBarButton(QWidget*) (KoDockWidgetTitleBarButton.cpp:42)\n==25334==    by 0x6C8C2CC: KoDockWidgetTitleBar::KoDockWidgetTitleBar(QDockWidget*) (KoDockWidgetTitleBar.cpp:67)\n==25334==    by 0x533B57C: KisMainWindow::createDockWidget(KoDockFactoryBase*) (KisMainWindow.cpp:1859)\n==25334==    by 0x53423A9: KisMainWindow::KisMainWindow() (KisMainWindow.cpp:312)\n==25334==    by 0x534CF45: KisPart::createMainWindow() (KisPart.cpp:216)\n==25334==    by 0x530FAB5: KisApplication::start(KisApplicationArguments const&) (KisApplication.cpp:387)\n==25334==    by 0x4051DD: main (main.cc:246)"}}, {"color": "FFFF0000", "data": {"message": "BUG:371463 Don't crash when creating an image from a template\n\nSometimes, if the dialog would open by default on a template\npage, and you'd create an image from a template, the dialog\nand pane would be deleted too early. We said, when creating\nthe slots, that deleteLater would be used to delete the dialog,\nbut we didn't do that... Now we do."}}, {"color": "FFFF0000", "data": {"message": "Fix valgrind warning\n\n==25334== Invalid read of size 1\n==25334==    at 0xBBEA860: QGuiApplicationPrivate::mouseEventSource(QMouseEvent const*) (in /home/boud/dev/deps/lib/libQt5Gui.so.5.6.1)\n==25334==    by 0x52B49F7: KisInputManager::Private::EventEater::eventFilter(QObject*, QEvent*) (kis_input_manager_p.cpp:83)\n==25334==    by 0x52B3D81: KisInputManager::eventFilter(QObject*, QEvent*) (kis_input_manager.cpp:177)\n==25334==    by 0xC5477B0: QCoreApplicationPrivate::sendThroughObjectEventFilters(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xB3DCDC4: QApplicationPrivate::notify_helper(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0xB3E1449: QApplication::notify(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0x530D7B6: KisApplication::notify(QObject*, QEvent*) (KisApplication.cpp:511)\n==25334==    by 0xC5478E4: QCoreApplication::notifyInternal2(QObject*, QEvent*) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xC5496C9: QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xC5986D2: ??? (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0x10F28C83: g_main_context_dispatch (in /usr/lib64/libglib-2.0.so.0.4400.1)\n==25334==    by 0x10F28ED7: ??? (in /usr/lib64/libglib-2.0.so.0.4400.1)\n==25334==  Address 0x1a45b759 is 7 bytes before a block of size 24 alloc'd\n==25334==    at 0x4C29110: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==25334==    by 0xC3D3D78: QHashData::allocateNode(int) (in /home/boud/dev/deps/lib/libQt5Core.so.5.6.1)\n==25334==    by 0xB41FFBB: QWidgetPrivate::init(QWidget*, QFlags<Qt::WindowType>) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0xB4D3A43: QAbstractButton::QAbstractButton(QWidget*) (in /home/boud/dev/deps/lib/libQt5Widgets.so.5.6.1)\n==25334==    by 0x6C8CFAD: KoDockWidgetTitleBarButton::KoDockWidgetTitleBarButton(QWidget*) (KoDockWidgetTitleBarButton.cpp:42)\n==25334==    by 0x6C8C2CC: KoDockWidgetTitleBar::KoDockWidgetTitleBar(QDockWidget*) (KoDockWidgetTitleBar.cpp:67)\n==25334==    by 0x533B57C: KisMainWindow::createDockWidget(KoDockFactoryBase*) (KisMainWindow.cpp:1859)\n==25334==    by 0x53423A9: KisMainWindow::KisMainWindow() (KisMainWindow.cpp:312)\n==25334==    by 0x534CF45: KisPart::createMainWindow() (KisPart.cpp:216)\n==25334==    by 0x530FAB5: KisApplication::start(KisApplicationArguments const&) (KisApplication.cpp:387)\n==25334==    by 0x4051DD: main (main.cc:246)"}}, {"color": "FFFF0000", "data": {"message": "Add some asserts to check for empty colorspace names"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Clean up tool id's\n\nThe toolid is necessary to make sure that tools are always\ncorrectly sorted; there should not be two tools with the\nsame id in the same section."}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "BUG:364034 Fix toolbox layout so all buttons can always be pressed\n\nSince sections can overlap (if a section occupies two rows, and there\nis space on the second row for all of the next section, the next section\nwill be placed overlapping with the previous section), it's important that\nlater sections will be higher in the widget z-order than previous\nsections, so raise it."}}, {"color": "FFFF0000", "data": {"message": "Fix warning\n\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:350:15: warning: array index -1 is before the beginning of the array [clang-diagnostic-array-bounds]\n    T alpha = pixel->data[alphaPos];\n              ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:935:13: note: in instantiation of function template specialization 'multiplyAlpha<half, ExrPixel_<half, 1>, 1, -1>' requested here\n            multiplyAlpha<_T_, ExrPixel, size, alphaPos>(rgba);\n            ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:896:5: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::encodeData' requested here\n    EncoderImpl(Imf::OutputFile* _file, const ExrPaintLayerSaveInfo* _info, int width) : file(_file), info(_info), pixels(width), m_width(width) {}\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:949:24: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::EncoderImpl' requested here\n            return new EncoderImpl < half, 1, -1 > (&file, &info, width);\n                       ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:359:9: warning: array index -1 is before the beginning of the array [clang-diagnostic-array-bounds]\n        pixel->data[alphaPos] = alpha;\n        ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:350:15: warning: array index -1 is before the beginning of the array [-Warray-bounds]\n    T alpha = pixel->data[alphaPos];\n              ^           ~~~~~~~~\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:935:13: note: in instantiation of function template specialization 'multiplyAlpha<half, ExrPixel_<half, 1>, 1, -1>' requested here\n            multiplyAlpha<_T_, ExrPixel, size, alphaPos>(rgba);\n            ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:896:5: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::encodeData' requested here\n    EncoderImpl(Imf::OutputFile* _file, const ExrPaintLayerSaveInfo* _info, int width) : file(_file), info(_info), pixels(width), m_width(width) {}\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:949:24: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::EncoderImpl' requested here\n            return new EncoderImpl < half, 1, -1 > (&file, &info, width);\n                       ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:350:15: warning: array index -1 is before the beginning of the array [-Warray-bounds]\n    T alpha = pixel->data[alphaPos];\n              ^           ~~~~~~~~\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:935:13: note: in instantiation of function template specialization 'multiplyAlpha<float, ExrPixel_<float, 1>, 1, -1>' requested here\n            multiplyAlpha<_T_, ExrPixel, size, alphaPos>(rgba);\n            ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:896:5: note: in instantiation of member function 'EncoderImpl<float, 1, -1>::encodeData' requested here\n    EncoderImpl(Imf::OutputFile* _file, const ExrPaintLayerSaveInfo* _info, int width) : file(_file), info(_info), pixels(width), m_width(width) {}\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:952:24: note: in instantiation of member function 'EncoderImpl<float, 1, -1>::EncoderImpl' requested here\n            return new EncoderImpl < float, 1, -1 > (&file, &info, width);\n                       ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:359:9: warning: array index -1 is before the beginning of the array [-Warray-bounds]\n        pixel->data[alphaPos] = alpha;\n        ^           ~~~~~~~~\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n3 warnings generated."}}, {"color": "FFFF0000", "data": {"message": "Fix warning\n\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:350:15: warning: array index -1 is before the beginning of the array [clang-diagnostic-array-bounds]\n    T alpha = pixel->data[alphaPos];\n              ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:935:13: note: in instantiation of function template specialization 'multiplyAlpha<half, ExrPixel_<half, 1>, 1, -1>' requested here\n            multiplyAlpha<_T_, ExrPixel, size, alphaPos>(rgba);\n            ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:896:5: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::encodeData' requested here\n    EncoderImpl(Imf::OutputFile* _file, const ExrPaintLayerSaveInfo* _info, int width) : file(_file), info(_info), pixels(width), m_width(width) {}\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:949:24: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::EncoderImpl' requested here\n            return new EncoderImpl < half, 1, -1 > (&file, &info, width);\n                       ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:359:9: warning: array index -1 is before the beginning of the array [clang-diagnostic-array-bounds]\n        pixel->data[alphaPos] = alpha;\n        ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:350:15: warning: array index -1 is before the beginning of the array [-Warray-bounds]\n    T alpha = pixel->data[alphaPos];\n              ^           ~~~~~~~~\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:935:13: note: in instantiation of function template specialization 'multiplyAlpha<half, ExrPixel_<half, 1>, 1, -1>' requested here\n            multiplyAlpha<_T_, ExrPixel, size, alphaPos>(rgba);\n            ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:896:5: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::encodeData' requested here\n    EncoderImpl(Imf::OutputFile* _file, const ExrPaintLayerSaveInfo* _info, int width) : file(_file), info(_info), pixels(width), m_width(width) {}\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:949:24: note: in instantiation of member function 'EncoderImpl<half, 1, -1>::EncoderImpl' requested here\n            return new EncoderImpl < half, 1, -1 > (&file, &info, width);\n                       ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:350:15: warning: array index -1 is before the beginning of the array [-Warray-bounds]\n    T alpha = pixel->data[alphaPos];\n              ^           ~~~~~~~~\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:935:13: note: in instantiation of function template specialization 'multiplyAlpha<float, ExrPixel_<float, 1>, 1, -1>' requested here\n            multiplyAlpha<_T_, ExrPixel, size, alphaPos>(rgba);\n            ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:896:5: note: in instantiation of member function 'EncoderImpl<float, 1, -1>::encodeData' requested here\n    EncoderImpl(Imf::OutputFile* _file, const ExrPaintLayerSaveInfo* _info, int width) : file(_file), info(_info), pixels(width), m_width(width) {}\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:952:24: note: in instantiation of member function 'EncoderImpl<float, 1, -1>::EncoderImpl' requested here\n            return new EncoderImpl < float, 1, -1 > (&file, &info, width);\n                       ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:359:9: warning: array index -1 is before the beginning of the array [-Warray-bounds]\n        pixel->data[alphaPos] = alpha;\n        ^           ~~~~~~~~\n/home/frederik/dev/kde/krita/plugins/impex/exr/exr_converter.cc:880:5: note: array 'data' declared here\n    _T_ data[size];\n    ^\n3 warnings generated."}}, {"color": "FFFF0000", "data": {"message": "Add more debug info to KisDocument for autosave debugging"}}, {"color": "FFFF0000", "data": {"message": "Check pointer before dereferencing\n\nAnd remove over-use of auto. This fixes at least one crash as\nreported in\n\nCCBUG"}}, {"color": "FFFF0000", "data": {"message": "Check pointer before dereferencing\n\nAnd remove over-use of auto. This fixes at least one crash as\nreported in 371124\n\nCCBUG:371124"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Hide the brush tip options that are not relevant for the hairy brush\n\nThis uses the QObject::objectName of those widgets to find them\nand hide them. So take care when refactoring these widgets!"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Switch cmake CMP0002 NEW: no duplicate targets\"\n\nThis reverts commit 6bde0748875f84ecaea7db27ec90606ba7b25340.\n\nThis is best kept locally until all issues are fixed, otherwise\nthe build is broken for everyone.\n\nCCMAIL:gladhorn@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Add a note about the need for the prepared gettext binaries when building a release"}}, {"color": "FFFF0000", "data": {"message": "Set the version to 3.0.91, 3.1 beta 2"}}, {"color": "FFFF0000", "data": {"message": "kcrash doesn't build with mingw"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Simplify overriding the display for windows"}}, {"color": "FFFF0000", "data": {"message": "BUG:370896 Don't crash on cancelling import layer\n\nCancelling the import means that there's no image, but there is\na temporary KisDocument, so KisDocument cannot assume that there's\ngoing to be an image as its being deleted."}}, {"color": "FFFF0000", "data": {"message": "Remove some unused code"}}, {"color": "FFFF0000", "data": {"message": "Add some extra diagnostic debug on loading wintab32.dll"}}, {"color": "FFFF0000", "data": {"message": "BUG:369480 Make the toggle-to-previous-preset action work again\n\nIt's inevitable to do that check -- we have several preset selector\nwidgets, and selecting a preset, sets the current preset on all the other\nwidgets, which then emit a signal to tell the world the preset has been\nchanged. It would be good if that didn't happen, and it's possible to\nachieve that by blocking signals, but that's not robust: it's always\npossible something else selects a preset and starts the updating.\n\nCloses T3893"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "BUG:370404 Don't crash when using split layer in another language"}}, {"color": "FFFF0000", "data": {"message": "Skip empty parts when splitting the mimetypes"}}, {"color": "FFFF0000", "data": {"message": "Fix some problems with autosaving"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "Remove unused error codes"}}, {"color": "FFFF0000", "data": {"message": "Port bf2fd2271a36d2831c0dda208d5fd15bcdea24a1\n\nPort of\n\ncommit bf2fd2271a36d2831c0dda208d5fd15bcdea24a1\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sat Oct 8 16:24:42 2016 +0200\n\n    Save the thumbnail when autosaving\n\n    Otherwise the restore autosave dialog is really useless"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Fix the randomness of KisRandomSource\n\nThe root cause probably was all the places where srand was called,\nbut after this change, textures are random again. This was a problem\non Windows only, probably because the resolution of time() is too\nlow. But that's a guess.\n\nBUG:345196,370246,363663,367873\nClosed phabricator task T3887,T3968"}}, {"color": "FFFF0000", "data": {"message": "Check whether there's an active node before dereferencing\n\nBug introduced when merging the latest animation code.\n\nBUG:370319,370283"}}, {"color": "FFFF0000", "data": {"message": "Remove more global srand() calls\n\nA global srand() should only be called once."}}, {"color": "FFFF0000", "data": {"message": "Save the thumbnail when autosaving\n\nOtherwise the restore autosave dialog is really useless."}}, {"color": "FFFF0000", "data": {"message": "Remove useless srand calls"}}, {"color": "FFFF0000", "data": {"message": "Remove unused api"}}, {"color": "FFFF0000", "data": {"message": "Use KisRandomSource for the random texture offset feature\n\nCCBUG:370246"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Hide the random offset checkboxes\"\n\nThis reverts commit 81e6fa9e6f24f5e89d981e9f7f104890bbc0c990.\n\nIt does work on Linux, so something with our use of random\nis broken specifically on Windows. Which is weird, random\ntexture uses rand, fuzzy stroke and dab use KisRandomSOurce."}}, {"color": "FFFF0000", "data": {"message": "Fix a warning/error in the Neon build\n\nSee http://build.neon.kde.org/job/xenial_stable_calligra_krita_bin_amd64/12/console\n\n\"libs/ui/KisTemplateCreateDia.cpp:324:95: error: format not a string literal and no format arguments\n\n[-Werror=format-security]"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Hide the random offset checkboxes\n\nThe random offset feature is not implemented\n\nCCBUG:370246\nSee also https://phabricator.kde.org/T3968"}}, {"color": "FFFF0000", "data": {"message": "Remove double initialization of the undo stack"}}, {"color": "FFFF0000", "data": {"message": "Don't show the warning when exporting\n\nOnly for save or save as."}}, {"color": "FFFF0000", "data": {"message": "Add support for animation frames to csv export"}}, {"color": "FFFF0000", "data": {"message": "Centralize the code for creating the colorspace checks"}}, {"color": "FFFF0000", "data": {"message": "Fix the Tiff checks"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Remove double initialization of the undo stack"}}, {"color": "FFFF0000", "data": {"message": "Check whether there's a projection in a couple more places\n\nBUG:369666\nTask: https://phabricator.kde.org/T3941"}}, {"color": "FFFF0000", "data": {"message": "BUG: 361293 Fix Wacom Airbrush wheel\n\nDifferential Revision: https://phabricator.kde.org/D2950"}}, {"color": "FFFF0000", "data": {"message": "Fix building the quicklook plugin"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when using the save kra checkbox"}}, {"color": "FFFF0000", "data": {"message": "Check whether the given file format plugin is available"}}, {"color": "FFFF0000", "data": {"message": "Build fix"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Add shortcut and input profile for tabletpro\n\nThis is a utility for Surface Pro users that overlays buttons on\nthe screen, kind of like Wacom's tablet buttons, but virtual."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "Add drmingw to the Windows build\n\nThat way we can more easily get backtraces on Windows. Patch by\nAlvin Wong."}}, {"color": "FFFF0000", "data": {"message": "Make it possible to build boost without msvc installed\n\nhttp://stackoverflow.com/questions/5299468/unable-to-build-boost-libraries-with-gcc"}}, {"color": "FFFF0000", "data": {"message": "We will call the next stable release 3.1, not 3.0.1"}}, {"color": "FFFF0000", "data": {"message": "Add the removable media plugin\n\n29.09.2016-17:03 < bartart3d> mhall119: so there are no configuration options in snapd to give it access to other\ndrives/partitions?\n29.09.2016-18:30 < mhall119> boud: there's a \"removable-media\" plug you can add to the krita snap that will allow it to access files in external drives\n29.09.2016-18:31 < mhall119> that will fix the problem bartart3d was having"}}, {"color": "FFFF0000", "data": {"message": "Check whether there is projection before trying to do stuff to it"}}, {"color": "FFFF0000", "data": {"message": "use dbgFile to print the ffmpeg command line"}}, {"color": "FFFF0000", "data": {"message": "Try to find the ffmpeg binary"}}, {"color": "FFFF0000", "data": {"message": "Add bigger icons for OSX"}}, {"color": "FFFF0000", "data": {"message": "BUG:369574 Fix crash with animation curves\n\nIf a function can return 0, then we should always check the\nreturn value before dereferencing it."}}, {"color": "FFFF0000", "data": {"message": "Remove unused class"}}, {"color": "FFFF0000", "data": {"message": "Convert the last export message to an error string"}}, {"color": "FFFF0000", "data": {"message": "Add a custom message for the homogenous layer stack check"}}, {"color": "FFFF0000", "data": {"message": "Polish the message a bit"}}, {"color": "FFFF0000", "data": {"message": "Fix the logic for the image size check"}}, {"color": "FFFF0000", "data": {"message": "Refine the node type check: there is always one group layer"}}, {"color": "FFFF0000", "data": {"message": "Fix a crash when opening a file from the recent files list\n\nThe recent files list system deletes the QUrl object, so make\nan explicit copy of it before passing it on to the rest of Krita."}}, {"color": "FFFF0000", "data": {"message": "Remove some more QMessageBoxes that are no longer needed"}}, {"color": "FFFF0000", "data": {"message": "Remove the conversion framework\n\nIn practice, this is not needed because every filter needs a\ndifferent way to handle the parts of a Krita image that it\ncannot save."}}, {"color": "FFFF0000", "data": {"message": "fix build"}}, {"color": "FFFF0000", "data": {"message": "Update the tiff export filter with capabilities\n\nPlus, let it save all the non-raster layer types that were added\nsince the early days when the tiff filter was first created."}}, {"color": "FFFF0000", "data": {"message": "Add capabilities for tga export"}}, {"color": "FFFF0000", "data": {"message": "Add capabilities for spriter export"}}, {"color": "FFFF0000", "data": {"message": "Add capabilities for QML export"}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Finish implementing the animation renderer\n\nThe right extension is now always used, and if the codecs are\nthere, ffmpeg will render the animation.\n\nFor the future, we should probably implement a way to set the\nframerate for animation..."}}, {"color": "FFFF0000", "data": {"message": "BUG:372893 Fix painting of the sliderspinbox"}}, {"color": "FFFF0000", "data": {"message": "BUG:372983 Fix spello"}}, {"color": "FFFF0000", "data": {"message": "Fix exporting images on the command line"}}, {"color": "FFFF0000", "data": {"message": "Update to the latest version of https://github.com/Algorithmus/Krita-QuickLook"}}, {"color": "FFFF0000", "data": {"message": "Update the version of the \"master\" branch to be higher than the latest stable beta"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak"}}, {"color": "FFFF0000", "data": {"message": "Show a warning if the user tries to save to a path that doesn't exist"}}, {"color": "FFFF0000", "data": {"message": "Refactor the filename requester and filedialog\n\nThe messing with relative paths to the default folder meant that\nthe user never could be sure which path we were going to save to.\n\nRendering to GIF still fails, though, but I need more brain to\nfigure out why.\n\nCCBUG:372572,372537"}}, {"color": "FFFF0000", "data": {"message": "Improve rendering speed of the Visual Color Selector\n\n* Convert all colors for the colorselector to a QImage in one go\n\nCCBUG:372221"}}, {"color": "FFFF0000", "data": {"message": "Add KoColorDisplayRendererInterface::toQImage\n\nThis converts a whole array of pixels to a QImage."}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Rename variable for clarity"}}, {"color": "FFFF0000", "data": {"message": "Split each class into its own file"}}, {"color": "FFFF0000", "data": {"message": "Remove copy of KisColorSelectorConfiguration\n\nNow both families of color selectors use the same actual class for\nstoring the configuration."}}, {"color": "FFFF0000", "data": {"message": "fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Remove unused timer variable"}}, {"color": "FFFF0000", "data": {"message": "Port the save-saving patch from 3.1\n\nBUG:370193 Save a copy of the image not the original\n\nThis restores the delayed saving dialog, which is now even weirder,\nwith a cancel running operating button which mostly doesn't work,\na do not save button, and a don't care, save a broken copy button.\n\nSee also\n\nhttps://phabricator.kde.org/D3258\nhttps://phabricator.kde.org/T4220\nhttps://bugs.kde.org/show_bug.cgi?id=370566\nhttps://bugs.kde.org/show_bug.cgi?id=369368\nhttps://bugs.kde.org/show_bug.cgi?id=370193"}}, {"color": "FFFF0000", "data": {"message": "Remove unused code"}}, {"color": "FFFF0000", "data": {"message": "Fix dox"}}, {"color": "FFFF0000", "data": {"message": "Allow the breeze style\n\nAfter a week of testing with current breeze, there are no apparent\nproblems.\n\nBUG:361811"}}, {"color": "FFFF0000", "data": {"message": "Fix memory leak"}}, {"color": "FFFF0000", "data": {"message": "Show a warning if the user tries to save to a path that doesn't exist"}}, {"color": "FFFF0000", "data": {"message": "Refactor the filename requester and filedialog\n\nThe messing with relative paths to the default folder meant that\nthe user never could be sure which path we were going to save to.\n\nRendering to GIF still fails, though, but I need more brain to\nfigure out why.\n\nCCBUG:372572,372537"}}, {"color": "FFFF0000", "data": {"message": "Improve rendering speed of the Visual Color Selector\n\n* Convert all colors for the colorselector to a QImage in one go\n\nCCBUG:372221"}}, {"color": "FFFF0000", "data": {"message": "Add KoColorDisplayRendererInterface::toQImage\n\nThis converts a whole array of pixels to a QImage."}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Rename variable for clarity"}}, {"color": "FFFF0000", "data": {"message": "Split each class into its own file"}}, {"color": "FFFF0000", "data": {"message": "Remove copy of KisColorSelectorConfiguration\n\nNow both families of color selectors use the same actual class for\nstoring the configuration."}}, {"color": "FFFF0000", "data": {"message": "fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Remove unused timer variable"}}, {"color": "FFFF0000", "data": {"message": "Port the save-saving patch from 3.1\n\nBUG:370193 Save a copy of the image not the original\n\nThis restores the delayed saving dialog, which is now even weirder,\nwith a cancel running operating button which mostly doesn't work,\na do not save button, and a don't care, save a broken copy button.\n\nSee also\n\nhttps://phabricator.kde.org/D3258\nhttps://phabricator.kde.org/T4220\nhttps://bugs.kde.org/show_bug.cgi?id=370566\nhttps://bugs.kde.org/show_bug.cgi?id=369368\nhttps://bugs.kde.org/show_bug.cgi?id=370193"}}, {"color": "FFFF0000", "data": {"message": "Remove unused code"}}, {"color": "FFFF0000", "data": {"message": "Fix dox"}}, {"color": "FFFF0000", "data": {"message": "Allow the breeze style\n\nAfter a week of testing with current breeze, there are no apparent\nproblems.\n\nBUG:361811"}}, {"color": "FFFF0000", "data": {"message": "Remove some unused functions"}}, {"color": "FFFF0000", "data": {"message": "BUG:372143 Set the mimetype to native before autosaving"}}, {"color": "FFFF0000", "data": {"message": "Use the stable branch of the appimagekit repo\n\nBUG:372335"}}, {"color": "FFFF0000", "data": {"message": "No longer fetch the translations for the appimage from git build\n\nAnd the appimage-release script uses a tarball that contains the\ntranslations.\n\nBUG:372336"}}, {"color": "FFFF0000", "data": {"message": "Use Q_OS_OSX instead of Q_OS_MAC\n\nWaiting for the moment when Q_OS_OSX gets deprecated for Q_OS_MACOS..."}}, {"color": "FFFF0000", "data": {"message": "BUG:344333 Do not crash if tool activation is set to a keypress"}}, {"color": "FFFF0000", "data": {"message": "Fix build: use the right name..."}}, {"color": "FFFF0000", "data": {"message": "Restore linking to kostore"}}, {"color": "FFFF0000", "data": {"message": "BUG:369487 Don't crash if the clip doesn't start at the first frame"}}, {"color": "FFFF0000", "data": {"message": "BUG:363535 Restore the shear cursor"}}, {"color": "FFFF0000", "data": {"message": "BUG:363003 Load png's with broken resolution tag\n\nThe sample PNG has a resolution of 0,0 set, and PNG_RESOLUTION_METER\nas unit type, which is invalid and wrong, but now we can at least\nhandle it."}}, {"color": "FFFF0000", "data": {"message": "BUG:342519 Disable g'mic when the current layer is a vector layer\n\nFinishes phabricator task T3274"}}, {"color": "FFFF0000", "data": {"message": "Fix build error"}}, {"color": "FFFF0000", "data": {"message": "Fix build error"}}, {"color": "FFFF0000", "data": {"message": "BUG:363968  Save a transparent thumbnail"}}, {"color": "FFFF0000", "data": {"message": "BUG:363968 Fill the thumbnail for an empty image with checkers"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into rempt/impex-refactoring"}}, {"color": "FFFF0000", "data": {"message": "BUG:367721 Make sort order for filters consistent"}}, {"color": "FFFF0000", "data": {"message": "Fix showing the wait cursor when loading or saving"}}, {"color": "FFFF0000", "data": {"message": "Add detection for Waltop tablets"}}, {"color": "FFFF0000", "data": {"message": "Fail if we cannot lock the image or for saving, but do not show an error dialog\n\nThis moves the locker object up in saveFile, and returns false if\nwe cannot lock. Image locking failures at this stage can only be\nbecause we try to autosave while adding a lot of strokes if lod\nis active; we don't want to show error boxes, but silently retry\nin 10 seconds.\n\n(The case where the user explicitly saves but the image is busy\nis caught in KisMainWindow)."}}, {"color": "FFFF0000", "data": {"message": "Do no longer use obsolete KisDocument::saveNativeFormat"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix the frameworks download location\n\nThey got moved around apparently.\n\nPatch by Alexandre Blondin\n\nCloses D3845"}}, {"color": "FFFF0000", "data": {"message": "Make the command more generic\n\nCloses D3846\n\nThanks to Alexandre Blondin for the patch."}}, {"color": "FFFF0000", "data": {"message": "Copy pass-through mode when saving a layer"}}, {"color": "FFFF0000", "data": {"message": "Fix build..."}}, {"color": "FFFF0000", "data": {"message": "BUG:373481 Don't reset the OCIO settings when moving the window"}}, {"color": "FFFF0000", "data": {"message": "Fix confusing whitespace"}}, {"color": "FFFF0000", "data": {"message": "Don't mark the document as modified on creation\n\nKisGridManager::setView called setConfigImpl with the emitModified\nparameter set to false explicitly to avoid this; but calling\nemit sigRequestUpdateGridConfig(config); directly after that defies\nthe purpose because that calls GridConfigWidget::setGridConfig\nwhich calls GridConfigWidget::setGridConfigImpl(const KisGridConfig &value)\nwhich GridDockerDock::slotGuiGridConfigChanged(), which calls...\n\nm_canvas->viewManager()->gridManager()->setGridConfig(m_configWidget->gridConfig());\n\nwhich calls setGridConfigImpl(config, true); -- which emits the modified\nsignal.\n\nSometimes I think that Italy can learn a lesson from us when it comes\nto creating impressive pastas."}}, {"color": "FFFF0000", "data": {"message": "Fix statusbar items"}}, {"color": "FFFF0000", "data": {"message": "BUG:373708 The version of frameworks we currently use is now in the Attic"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:373821 Try to avoid a crash  in the text editor\n\nThis seems to happen in the change tracker, according to the\nbacktrace for this bug. Well, we don't need no changetracker in\nKrita (it's not the thing that's used for undo), so remove all\nthis highly complex code and let's hope that tonight's nightly\nbuild on https://ci.appveyor.com/project/alvinhochun/krita/build/artifacts\ndoesn't crash anymore."}}, {"color": "FFFF0000", "data": {"message": "Add an option to enable native file dialogs.\n\nIt's off by default, and people who enable it do so on their risk."}}, {"color": "FFFF0000", "data": {"message": "Set the default for autosave to 15 minutes, as also defined in the setttings widget"}}, {"color": "FFFF0000", "data": {"message": "Move private impl method into the private section"}}, {"color": "FFFF0000", "data": {"message": "Remove commented out deleted function"}}, {"color": "FFFF0000", "data": {"message": "BUG:373846 Fix creating a brush from a stamp\n\nIf you'd create an image, and then without changing brush preset\nwould try to use that image as a new stamp, it would fail because\nthe preset editor was initialized before the image was added to\nto the viewmanager."}}, {"color": "FFFF0000", "data": {"message": "BUG:347607 Make it possible to delete system tags\n\nNote: when you later add a tag with the same name as a system tag,\nthen the default resources will appear to be tagged with that tag\nagain."}}, {"color": "FFFF0000", "data": {"message": "BUG:373906 Make the fullscreen action checkable again\n\nOtherwise it won't work..."}}, {"color": "FFFF0000", "data": {"message": "BUG:373908 Show the filename in the file dialog on save as"}}, {"color": "FFFF0000", "data": {"message": "BUG:374021 Restore a step of 0.1 for the crop tool ratio spin box\n\nAs it was in 2.9; the change to 1.0 probably wasn't intentional,\nbut caused by not changing Qt's default value."}}, {"color": "FFFF0000", "data": {"message": "Add Shawn to the list of backers.\n\nNo idea why his name wasn't in the export..."}}, {"color": "FFFF0000", "data": {"message": "BUG:373777 Add the Volumes folder to the file dialog sidebar on OSX\n\nThat way, people can access all their disks more easily."}}, {"color": "FFFF0000", "data": {"message": "Fix build with older Qt"}}, {"color": "FFFF0000", "data": {"message": "remove unused include"}}, {"color": "FFFF0000", "data": {"message": "Set the filename on the encoder\n\nhttps://phabricator.kde.org/D3218"}}, {"color": "FFFF0000", "data": {"message": "BUG:373673 Replace <interface> with <b>"}}, {"color": "FFFF0000", "data": {"message": "Fix readme again\n\nCoffeeeeee, I want coffee."}}, {"color": "FFFF0000", "data": {"message": "Update after change of url\n\nFrom https://phabricator.kde.org/diffusion/KRITA/ to\nhttps://phabricator.kde.org/source/krita/"}}, {"color": "FFFF0000", "data": {"message": "Add a checkbox to enable hidpi to the settings dialog"}}, {"color": "FFFF0000", "data": {"message": "Also escape : when saving predefined image sizes"}}, {"color": "FFFF0000", "data": {"message": "Should be two words"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring'"}}, {"color": "FFFF0000", "data": {"message": "Up the xmlgui version to higher than 3.1"}}, {"color": "FFFF0000", "data": {"message": "Make the color selector in the popup palette configurable\n\nI haven't managed to find time to optimize the performance\nmore, so give people a choice which version to use. The\nconfig key is\n\npopuppalette/usevisualcolorselector\n\nIf it's set to true, the new color selector is used."}}, {"color": "FFFF0000", "data": {"message": "BUG:369165 Add insert as file layer on dropping an image\n\nPatch by David Marquant. Thanks!"}}, {"color": "FFFF0000", "data": {"message": "File layers also cannot be transformed."}}, {"color": "FFFF0000", "data": {"message": "Check whether the path is absolute\n\nIn that case we don't want to ise the framesdir for the resulting\nanimation."}}, {"color": "FFFF0000", "data": {"message": "BUG:364208 Fix the interaction between show canvas/only and show dockers\n\nPatch by Bruno Kinoshita. Thanks!\nCCMAIL:brunodepaulak@yahoo.com.br"}}, {"color": "FFFF0000", "data": {"message": "History docker: Replace the menu popup with a dialog\n\nThis is both easier to find, and will work on Windows."}}, {"color": "FFFF0000", "data": {"message": "BUG:353591 Remove tags associated with bundles"}}, {"color": "FFFF0000", "data": {"message": "BUG:372613 Fix the out-of-gamut warning color configuration"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variable"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:373074 Disable the transform tool on vector layers\n\nIt doesn't work... The workaround is to use a transform mask."}}, {"color": "FFFF0000", "data": {"message": "Make sure the dialog has a title that fits with the menu text"}}, {"color": "FFFF0000", "data": {"message": "Select the mimetype of split images by default to the mimetype of the current image\n\nBUG:373077"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:373077 Image split: show error dialogs only once"}}, {"color": "FFFF0000", "data": {"message": "More html instead of docbook-qt"}}, {"color": "FFFF0000", "data": {"message": "Use html instead of docbook, tooltips instead of whatsthis\n\nI'm not sure when Qt stopped supporting docbook for rich text\nin widgets, must be ages ago. And tooltips work everywhere,\nwhatsthis only in some environments"}}, {"color": "FFFF0000", "data": {"message": "Do not use docbook, use html\n\nQt renders the docbook as plain text..."}}, {"color": "FFFF0000", "data": {"message": "Better fix for the file dialog default location\n\nOnly allow setting the default dir if it's empty."}}, {"color": "FFFF0000", "data": {"message": "BUG:373193 Try harder to make the splash a dialog\n\nApparently the toolwindow setting wasn't enough to avoid making the\nsplash widget appear owned by the mainwindow. So, let's make it\na dialog, make sure it hasn't a parent.\n\nAlso, call processEvents after every call to setSplashText so Qt\nhas time to draw the text."}}, {"color": "FFFF0000", "data": {"message": "BUG:373205 Disable the quick-group actions if the active node is a mask"}}, {"color": "FFFF0000", "data": {"message": "BUG:373267 Always save the merged image as 8 bit sRGB, no profile\n\nForward port of 817e66fd44a4fdbbeb0763cdce2a285f99348faf"}}, {"color": "FFFF0000", "data": {"message": "These two methods are never overridden, so shouldn't be virtual"}}, {"color": "FFFF0000", "data": {"message": "Fix layout of the warp transform tool options pane"}}, {"color": "FFFF0000", "data": {"message": "Don't hard-code the open dialog for QDesktopServices::PicturesLocation\n\nKoFileDialog saves the last used location based on the OpenDocument\nflag, and it's really annoying if the dialog resets to ~/Pictures\nall the time."}}, {"color": "FFFF0000", "data": {"message": "BUG:373334 Fix installing proifles with complex filenames\n\nQUrl::file() is a very false friend..."}}, {"color": "FFFF0000", "data": {"message": "Fix layout of monitor profiles by using a QFormLayout"}}, {"color": "FFFF0000", "data": {"message": "BUG:373335 Remove flawed logic.\n\nThis must've been broken since September, and it meant that you'd\nonly see use system monitor profile checkbox if colord wasn't running,\nwhich meant nothing would happen."}}, {"color": "FFFF0000", "data": {"message": "D3525: Fix floating point Lab\n\nEven for floating point lab the unit value should be\n 0-100, -128-127, -128-127"}}, {"color": "FFFF0000", "data": {"message": "Do not install the majority of the extra icc profiles"}}, {"color": "FFFF0000", "data": {"message": "Do not install the majority of the extra icc profiles"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "CCBUG:375720 Disable the gradient map filter for filter layers\n\nThis doesn't work currently because the gradient is stored in a\nproblematic way in the filter config:\n\nWith an absolute path, which makes the file non-portable\n\nCould not find gradient \"C:/Users/GC/AppData/Roaming/krita/gradients/kC5644.svg\"\n\nWith a plain name\n\nCould not find gradient \"skin1\"\n\nOr apparently without any name, I guess for the autogenerated gradients\n\nCould not find gradient \"C:/Users/GC/AppData/Roaming/krita/gradients\\\\.svg\"\n\nTo fix this properly, we will need to sit down and fix the resource system."}}, {"color": "FFFF0000", "data": {"message": "Make the resource manager open in a sensible place"}}, {"color": "FFFF0000", "data": {"message": "Fix issue where the directory name was used as proposed filename"}}, {"color": "FFFF0000", "data": {"message": "BUG:375585 Re-render the copied image before saving\n\nThis takes more time, but should guarantee that all projections are correct."}}, {"color": "FFFF0000", "data": {"message": "Fix build without Vc"}}, {"color": "FFFF0000", "data": {"message": "Don't skip qtmultimedia anymore"}}, {"color": "FFFF0000", "data": {"message": "BUG:374928 Fix loading the translations that fit the system locale\n\nIt is supremely important NOT to use i18n before the application\nis created.  If i18n is called too early, like when creating a static\nKoID, the translation system is initialized before we've had a chance\nto add the path to the translations to the XDG_DATA_DIRS variable. Then\nthe translation system only sees the globally available translations,\nand Krita stays untranslated.\n\nAlways use ki18n when initializing a static object with a translation.\n\nCCMAIL:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Remove the static Vc capabilities reporter\n\nSince it's static, it accesses KConfigGroup before the application\nis created, which accesses the application object, which is not\npossible.\n\nThe direct effects were a warning & that the config value didn't get\nread."}}, {"color": "FFFF0000", "data": {"message": "Prefer the native file dialogs when running the plasma desktop"}}, {"color": "FFFF0000", "data": {"message": "Use the right checks for psd"}}, {"color": "FFFF0000", "data": {"message": "Fix exporting to PSD"}}, {"color": "FFFF0000", "data": {"message": "BUG:373835 Don't try to generate thumnails without height or width"}}, {"color": "FFFF0000", "data": {"message": "BUG:374565 Remove the PACKAGERS_BUILD option\n\nThis complicates builds, is less compatible with Eigen3 and doesn't\ngive a noticable performance improvement if turned off."}}, {"color": "FFFF0000", "data": {"message": "BUG:374536 Don't save the default directory for SaveAs file dialogs\n\nThe default folder for save as is taken from the path of the image."}}, {"color": "FFFF0000", "data": {"message": "BUG:372053 Revert color-to-alpha to the old color selector for now"}}, {"color": "FFFF0000", "data": {"message": "BUG:375499 Use a clearer string"}}, {"color": "FFFF0000", "data": {"message": "BUG:374957 Fix confusion when saving per-stylus presets between sessions"}}, {"color": "FFFF0000", "data": {"message": "BUG:345258 Don't always center the filter dialog on screen\n\nExperimental: this might break the size of the filter dialog"}}, {"color": "FFFF0000", "data": {"message": "BUG:352151 Fix a number of bugs when creating and editing bundles\n\nEditing bundles now seems to work; it will overwrite an existing\nbundle, though, not save a new one. Creating new bundles now\nalso adds the bundle to the resource manager."}}, {"color": "FFFF0000", "data": {"message": "BUG:348290 Make the erase mode button follow the blending mode combobox"}}, {"color": "FFFF0000", "data": {"message": "BUG:375479 Fix loading 16 bit tiff files without a profile\n\nAssume that 16 bit rgb tiff files without a profile are gamma corrected.\nIt would be better for people not to generate these files, or if they\ndid, add the TIFFTAG_DCSGAMMA tag to specify the gamma, but that's\nunlikely to happen."}}, {"color": "FFFF0000", "data": {"message": "CCBUG:374745 Always store the embedded pattern in the pattern manager\n\nThis will lead to duplicated patterns, but at least not every\nbrush will paint with the same pattern.\n\nThis bug still needs careful fixing.\n\nPatch by Razvanc, thanks!\n\nCCMAIL:razvanc87@yahoo.com"}}, {"color": "FFFF0000", "data": {"message": "BUG:374744 Enable Import Animation Frames if there is an open image"}}, {"color": "FFFF0000", "data": {"message": "The splash label must be fixed size\n\nOtherwise, when a message makes the splash wider, the image gets\ndistorted"}}, {"color": "FFFF0000", "data": {"message": "BUG:375253 Don't set the brush dab rotation to NaN.\n\nThis follows up on the previous commit (ac257511dbec0a3191bbfdde9d886b70ec6ad574),\nwhich had the wrong header... It wasn't a bug in QTransform, because\nif you set the transform's rotation to NaN, sure, it'll create an\ninvalid rectangle."}}, {"color": "FFFF0000", "data": {"message": "BUG:375253 Work around a bug in QTransform\n\nWeirdly enough, this bug only occurs on Windows 10 with the latest\nWacom drivers and an older Wacom Intuos 3 or Cintiq tablet. At least,\nthat's what we suspect. Somehow the input from this drivers drives\nthe roation sensor crazy, and set rotation to NaN.\n\nSo, first step: check whether the resulting rect is valid, we now return\na 0,0 1x1 rect.\n\nSecond step: check whether the rotation value happens to be NaN and\nreturn 0 in that case.\n\nThird step: make sure that the rotationLikeValue() function doesn't return\nNaN -- that is in the next commit."}}, {"color": "FFFF0000", "data": {"message": "Remove the PDF export menu option\n\nCCBUG:372439\nCCMAIL: kimageshop@kde.org\n\nPeople really should use Scribus (http://scribus.net) to make PDF's,\nnot Krita, where the the PDF export code depends on QPrinter, which\njust isn't powerful enough.\n\nKrita is for creating images; for printing stuff, whether to PDF\nor printer, use a dedicated application."}}, {"color": "FFFF0000", "data": {"message": "Turn these asserts into safe asserts\n\nThe conditions aren't bad enough to halt krita for, and with some\nbrush settings they can occur."}}, {"color": "FFFF0000", "data": {"message": "BUG:375325 Fix crash when saving group layers\n\nThe weak shared pointer allowed the image to be set to 0."}}, {"color": "FFFF0000", "data": {"message": "Fix generation of image thumbnails.\n\nCompletes task T4844"}}, {"color": "FFFF0000", "data": {"message": "Fix noisy warning"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:375253 Replace asserts with warnings.\n\nDespite the asserts being of the KIS_ASSERT_RECOVER_NOOP type,\nthey lead to a hard assert without a message being shown in our\nwindows builds. I do not know why that is, but it means that this\ncheck gives a crash without any information.\n\nSo, for now, let's disable the asserts so we can test what is really\ngoing on."}}, {"color": "FFFF0000", "data": {"message": "BUG:375201 Make the gray slider spinbox more precise\n\nAnd actually save the gamma value correctly; unless you moved the\nsliders, the value taken would be 1.0"}}, {"color": "FFFF0000", "data": {"message": "Make sure some actions are disabled when there is no image\n\nInterestingly, the show global selection mask action cannot\nbe propertized..."}}, {"color": "FFFF0000", "data": {"message": "BUG:375070 Fix setting cumulative undo mode"}}, {"color": "FFFF0000", "data": {"message": "Fix sprinter plugin.\n\nThanks to Edgar for the patch!\nCCMAIL:lucid@brashmonkey.com,mike@brashmonkey.com"}}, {"color": "FFFF0000", "data": {"message": "Remove the unused paint device parameter from KisFilter::factoryConfiguration()"}}, {"color": "FFFF0000", "data": {"message": "PSD supports masks"}}, {"color": "FFFF0000", "data": {"message": "fix build without qtmultimedia"}}, {"color": "FFFF0000", "data": {"message": "Restore the old paintop tags\n\nUntil we properly fix the tagging system we cannot remove system\ntags because they will be saved in the user's local tags file,\nand suddenly become empty. And that makes our users believe that\nthey have lost their brushes."}}, {"color": "FFFF0000", "data": {"message": "Restore the default favorite blending modes."}}, {"color": "FFFF0000", "data": {"message": "Make multimedia optional: OPTIONAL_COMPONENTS is not reliable"}}, {"color": "FFFF0000", "data": {"message": "Add yet another build script\n\nAll these scripts are just examples; they should NOT be referred\nto in the build documentation."}}, {"color": "FFFF0000", "data": {"message": "Remove outdated scripts"}}, {"color": "FFFF0000", "data": {"message": "BUG:374497 Don't crash when switching the tool options to the toolbar"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "BUG:374524 Fix a possible crash in the undo stack\n\nThis is the only thing that could account for that stacktrace, but\nsince the crash is not reproducible, I just have to guess..."}}, {"color": "FFFF0000", "data": {"message": "BUG:371124 Fix a crash when using two windows.\n\nIf there's an if(tool){...} else {} then all use of tool needs to\nbe in that if block."}}, {"color": "FFFF0000", "data": {"message": "More m_"}}, {"color": "FFFF0000", "data": {"message": "Class-level variables need to start with m_"}}, {"color": "FFFF0000", "data": {"message": "Try to follow symlink when creating a file layer\n\nCCBUG:374223"}}, {"color": "FFFF0000", "data": {"message": "Remove unused ifdefs"}}, {"color": "FFFF0000", "data": {"message": "Put all the initialization code together"}}, {"color": "FFFF0000", "data": {"message": "Remove connection to non-existing slot"}}, {"color": "FFFF0000", "data": {"message": "BUG:374451 Also remove the tag from the popup\n\nPatch by Bruno Kinoshita. Thanks!"}}, {"color": "FFFF0000", "data": {"message": "BUG:374384 On converting a generator layer, reset the cache\n\nThis also removes some unused API to pass a colorspace to\nKisSelectionBasedLayer::resetCache(); that was never used,\nsince no generator ever returned anything but 0 in the\ncolorSpace() method, which is now also removed."}}, {"color": "FFFF0000", "data": {"message": "BUG:374477 Work around broken QMimeDatabase thinking icb is the preferred suffix for image/x-tga\n\nIt's tga, of course... See https://bugreports.qt.io/browse/QTBUG-5783"}}, {"color": "FFFF0000", "data": {"message": "BUG:374381 Do no crash on creating a document after closing a document with opacity keyframes\n\nMake sure that the m_channels object is guarded by a QPointer so\nwe know when its parent is removed."}}, {"color": "FFFF0000", "data": {"message": "Update year"}}, {"color": "FFFF0000", "data": {"message": "CCBUG:374383 Fix another issue in the copy constructor"}}, {"color": "FFFF0000", "data": {"message": "BUG:374383 Fix saving the name of a local selection mask.\n\nDon't set the name to a fixed string in the copy constructor"}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG:376993 Don't crash when a file layer is deleted\n\nQFileSystemWatcher cannot be deleted in a different thread from\nwhere it was created. That did happen when a file layer was deleted\nafter converting it to a paint layer when the undo command was\npushed off the stack.\n\nThis change creates a single static QFileSystemWatcher that all\nfile layers connect to. fileChanged checks that the changed file\nis the right one before setting the fileChanged flag."}}, {"color": "FFFF0000", "data": {"message": "Fix saving of settings\n\nHaving a QSettings object open on kritarc for the duration of the\napplication means it saves the settings it originally read on\nclosing, overwriting anything kconfig could have written."}}, {"color": "FFFF0000", "data": {"message": "BUG:376262 Don't translate the lens blur shape names\n\nThose apparently need to be untranslated for the filter to work."}}, {"color": "FFFF0000", "data": {"message": "Add ellipises: this filter has a dialog"}}, {"color": "FFFF0000", "data": {"message": "Remove debugging line & improve message"}}, {"color": "FFFF0000", "data": {"message": "The 32 bits warning makes no sense for OSX"}}, {"color": "FFFF0000", "data": {"message": "Restore the OpenGL crash detection\n\nNot all drivers raise an exception if compiling a shader fails,\nIntel's windows drivers just crash the application. So we need\nthe crash detection back."}}, {"color": "FFFF0000", "data": {"message": "Make it possible to shift-drag the brushsize beyond 1000"}}, {"color": "FFFF0000", "data": {"message": "Saving masks actually is not supported yet."}}, {"color": "FFFF0000", "data": {"message": "Change the tooltip: play is play/stop, not play/pause\n\nBUG:376875"}}, {"color": "FFFF0000", "data": {"message": "Delete KisView on closing a view.\n\nThis first makes KoCanvasBase a QObject; that used to be impossible\nbecause other calligra applications canvas classes multiply inherited\nQWidget and KoCanvasBase. That is no longer a consideration.\n\nThen every local use of a pointer to KoCanvasBase or KisCanvas2 is\nprotected by QPointer. Now every canvas observer knows when a canvas\nhas disappeared.\n\nBut the canvas is deleted before the canvascontroller widget; that means\nthat when deleting the canvas, the canvas controller widget would get\nconfused because the canvas observers' canvas has already been deleted:\nunsetCanvas wouldn't be called on the canvas observers, so the logic here\nis now that if unsetCanvas is called when deleting the canvas controller\nwidget, unsetCanvas is always called on all observers.\n\nNote: no dockers crash even if unsetCanvas isn't called at the right time,\nbut it's still proper to call unsetCanvas to allow dockers to clean up\nthings like local models linked to the layer model."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into kazakov/svg-loading"}}, {"color": "FFFF0000", "data": {"message": "Properly implement the hidpi switch\n\nThis uses QSettings, because kconfig only works when we already\nhave an application, and by then it's too late to set the flag."}}, {"color": "FFFF0000", "data": {"message": "Add spaces between words"}}, {"color": "FFFF0000", "data": {"message": "fix test build"}}, {"color": "FFFF0000", "data": {"message": "fix test build"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into kazakov/svg-loading"}}, {"color": "FFFF0000", "data": {"message": "Don't crash if there's no filter"}}, {"color": "FFFF0000", "data": {"message": "Fix TextNumberStyle\n\nOriginal patch for Calligra:\n\ncommit 197ae032fb2b941b901adc6d00a5445e84445d70\nAuthor: Dag Andersen <danders@get2net.dk>\nDate:   Fri Jan 6 08:23:32 2017 +0100\n\n    Numberstyles: Comment out not used format methods\n\n    Summary:\n    The numberstyles format methods are not used anywhere\n    and the corresponding  unit test fails.\n\n    Afaics all number formatting is done in sheets atm.\n\n    Reviewers: mecir, staniek, boemann\n\n    Reviewed By: boemann\n\n    Subscribers: staniek\n\n    Tags: #kexi, #calligra:_3.0\n\n    Differential Revision: https://phabricator.kde.org/D3990"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when loading ORA images"}}, {"color": "FFFF0000", "data": {"message": "People who want to search, look for the word Search"}}, {"color": "FFFF0000", "data": {"message": "BUG:376085 Get the maximum brush size out of the config file"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Add a checkbox to enable hidpi to the settings dialog\"\n\nThis reverts commit 9dba353ee5c2c252b850bdde0045d75f66d14f9c.\n\nIt's not possible to read our config file before the application\nis constructed and also not possible to set the application\nflag after the application is constructed."}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Make it possible to set the maximum brush size to 10,000\n\nNow users can set the maximum brush size to 10,000. The default is\nstill 1,000 -- and trust me, a 10,000 pixel diameter brush is\nslow and takes a huge amount of memory.\n\nBUG:334123\nCCMAIL:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Update the spriter plugin\n\nCCMAIL:Edgar At BrashMonkey <lucid@brashmonkey.com>"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG:378313 Fix warnings about qlayout\n\nPatch by  Bruno P. Kinoshita, Thanks!"}}, {"color": "FFFF0000", "data": {"message": "Show the warning dialog much earlier"}}, {"color": "FFFF0000", "data": {"message": "update the appimage scripts"}}, {"color": "FFFF0000", "data": {"message": "BUG:376098 Warn the user when saving a read-only file\n\nAnd use QSaveFile to be smart about the permissions and ownership.\nNote that this demands a very filthy hack for saving using KoStore:\nwe need to make sure KArchive cannot close() the iodevice, because\nthat aborts if it's a QSaveFile.\n\nFor other file types, like tiff and exr, we cannot save to io\ndevices, we can only pass filenames to the relevant libraries. For\nthose, add a flag to KisImportExportFilter that IO devices aren't\nsupported, but rather ignored."}}, {"color": "FFFF0000", "data": {"message": "BUG:376311 Don't crash if there is no proofing colorspace"}}, {"color": "FFFF0000", "data": {"message": "Fix spello"}}, {"color": "FFFF0000", "data": {"message": "BUG:364237 Don't switch documents automatically\n\nPatch by Bruno P. Kinoshita. Thanks!"}}, {"color": "FFFF0000", "data": {"message": "BUG:377725 Fix double unsetting of the canvas on dockers"}}, {"color": "FFFF0000", "data": {"message": "Enable batch mode when using the filestest"}}, {"color": "FFFF0000", "data": {"message": "Enable the tiff test again"}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Add an option to allow multiple instances of Krita\n\nProbably most useful for developers and really busy people like\nBollebib with really big hardware. Others are probably better\nof loading resources only once.\n\nBUG:377199\nCCMAIL:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "Set the URL to empty if the image was loaded with warnings"}}, {"color": "FFFF0000", "data": {"message": "Add warnings to the loading process, next to errors\n\nErrors are fatal, warnings tell the user that some parts of the\ndocument couldn't be loaded. The warning dialog is shown before\nthe loaded image is shown; after clicking whatever could be\nrecovered of the image is shown.\n\nNote: should we make the URL empty if there are warnings?"}}, {"color": "FFFF0000", "data": {"message": "Fix loading the display settings\n\nThe QSettings-based config options cannot read from the kritarc file\nbecause QSettings caches the values and writes them on application\nexit. So all these options must use a different configuration file,\nkritadisplayrc."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/T4121-improve-palette-format"}}, {"color": "FFFF0000", "data": {"message": "Fix the TestShapeStrokeCommand unittest"}}, {"color": "FFFF0000", "data": {"message": "BUG:376497 Take more care with the KoSelection object\n\nCheck the pointer, and where we keep a pointer to it locally,\nuse QPointer."}}, {"color": "FFFF0000", "data": {"message": "Fine-tune the default setttings for Liquify.\n\nThanks to deevad for the hints."}}, {"color": "FFFF0000", "data": {"message": "Disable copying the image before saving\n\nThe copy is incomplete, the copy doesn't copy the projection so\nwe need to re-render the image, which makes saving very slow, and\nwe're not saving in the background at this moment, so the copy\nisn't useful.\n\nNote: I have intentionally left the code intact, and added a warning.\nSaving in the background is still todo.\n\nCCBUG:375585, 374345"}}, {"color": "FFFF0000", "data": {"message": "Better way to force the 3.2 core functions for OSX"}}, {"color": "FFFF0000", "data": {"message": "Revert \"Revert \"Make the erase mode button follow the blending mode combobox\"\"\n\nThis was already fixed by L\u00e1szl\u00f3 Fazekas, and I hadn't seen that...\n\nThis reverts commit 98a0c786310fdfcda488405a6ad098d6e8169120."}}, {"color": "FFFF0000", "data": {"message": "Revert \"Make the erase mode button follow the blending mode combobox\"\n\nThis broke flipping the stylus.\n\nBUG:375878\nCCBUG:348290\n\nThis reverts commit f1968fd7f55cda3a08aa0488a3b72d186db565e8."}}, {"color": "FFFF0000", "data": {"message": "Fix windows build"}}, {"color": "FFFF0000", "data": {"message": "Fix build error on Windows"}}, {"color": "FFFF0000", "data": {"message": "BUG:346014 Use the same value for the shade selector as in the default kritarc"}}, {"color": "FFFF0000", "data": {"message": "Inherit from 3.2 core instead of 3.0\n\nThis is a problem: OSX needs 3.2 core, the rest 3.0. If we... Try\nto #ifdef the inheritance, Moc gets awfully confused:\n\nIn file included from /Users/boud/master/build/libs/ui/kritaui_automoc.cpp:142:\n/Users/boud/master/build/libs/ui/moc_kis_opengl_canvas2.cpp:94:29: error: unknown type name\n      'QOpenGLFunctions_3_0'; did you mean 'QOpenGLFunctions'?\n        return static_cast< QOpenGLFunctions_3_0*>(const_cast< KisOpenGLCanvas2*>(this));\n                            ^~~~~~~~~~~~~~~~~~~~\n                            QOpenGLFunctions\n/Users/boud/master/krita/libs/ui/opengl/kis_opengl_image_textures.h:34:7: note: 'QOpenGLFunctions' declared here\nclass QOpenGLFunctions;\n      ^\nIn file included from /Users/boud/master/build/libs/ui/kritaui_automoc.cpp:142:\n/Users/boud/master/build/libs/ui/moc_kis_opengl_canvas2.cpp:94:16: error: static_cast from 'KisOpenGLCanvas2 *' to\n      'QOpenGLFunctions *', which are not related by inheritance, is not allowed\n        return static_cast< QOpenGLFunctions_3_0*>(const_cast< KisOpenGLCanvas2*>(this));\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n2 errors generated.\nmake[2]: *** [libs/ui/CMakeFiles/kritaui.dir/kritaui_automoc.cpp.o] Error 1"}}, {"color": "FFFF0000", "data": {"message": "Convert floating point channel depths to 8 bit integer when saving PNG\n\nAs per warning. This also fixes:\n\nBUG: 375217"}}, {"color": "FFFF0000", "data": {"message": "Add the dtd for the document-info file.\n\nWeirdly enough, our code still says it should be hosted on the\ncalligra.org website, but it isn't."}}]}, {"position": 12, "molecules": [{"color": "FFFF0000", "data": {"message": "Make sure python doesn't catch ctrl-c\n\nSee https://mail.python.org/pipermail/cplusplus-sig/2012-December/016858.html"}}, {"color": "FFFF0000", "data": {"message": "Update the credits for the backers"}}, {"color": "FFFF0000", "data": {"message": "Update version to 4.0.0-pre-alpha"}}, {"color": "FFFF0000", "data": {"message": "Fix Windows build\n\nSee http://stackoverflow.com/questions/10660524/error-building-boost-1-49-0-with-gcc-4-7-0/12124708#12124708"}}, {"color": "FFFF0000", "data": {"message": "Make FindSIP work on Windows"}}, {"color": "FFFF0000", "data": {"message": "BUG:378453 Set the filtername on the new filter mask\n\nThis is also finally uses the currentFilter field in the Private\nclass... It was never set anywhere."}}, {"color": "FFFF0000", "data": {"message": "BUG:378366 Don't show the startup window if there are file arguments\n\nIf Krita is started with filenames on the commandline, it's possible\nthat a dialog will popup just before the splash turns into a real\nwindow."}}, {"color": "FFFF0000", "data": {"message": "BUG:378282 Use the native color selector on OSX\n\nOn OSX, the only way to pick screen colors is to use the native\ncolor selector, applications cannot access other windows than\ntheir own."}}, {"color": "FFFF0000", "data": {"message": "Add definition for PyQt and fix version of sip"}}, {"color": "FFFF0000", "data": {"message": "Build sip on Windows with mingw\n\nNote: we need a separately, manually installed Python 3.6.1 in\nthe path for the build to succeed. This is separate from the\next_python project which installs the python we will run and\ndeploy with."}}, {"color": "FFFF0000", "data": {"message": "Download the right python on Windows and install it"}}, {"color": "FFFF0000", "data": {"message": "Configure sip for windows"}}, {"color": "FFFF0000", "data": {"message": "First attempt at downloading python for windows"}}, {"color": "FFFF0000", "data": {"message": "Reword this message slightly\n\nMaybe that'll help translators avoid\n\nhttps://twitter.com/Vl0z/status/849226247645343748\n\ntype of issues"}}, {"color": "FFFF0000", "data": {"message": "Add Python bindings to libkis\n\nThis consists of three parts:\n\n* the sip wrapper of libkis\n* the plugin that loads plugins created in python\n* and some sample python plugins, like the scripter ad-hoc scripting\nide-let created by Eliakin Costa"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Add a menu entry for scripts"}}, {"color": "FFFF0000", "data": {"message": "Update the outdated mainpage.dox"}}, {"color": "FFFF0000", "data": {"message": "Add python stuff to gitignore"}}, {"color": "FFFF0000", "data": {"message": "Add cmake modules for finding python, sip and pyqt"}}, {"color": "FFFF0000", "data": {"message": "Add libkis: the Krita scripting wrapper library\n\nlibkis offers a QObject-introspectalbe wrapper around Krita's messy\ninternals. Some notes:\n\n* Functions that return a pointer to a wrapper objectare factories:\nthe caller is responsible for deleting the wrapper object\n* In principle, the library is meant to be low-level. Not a set of\nmacro commands, but an programming API\n* Bindings in other languages are welcome\n* Extensions are welcome."}}, {"color": "FFFF0000", "data": {"message": "Expose parts of kritaui to the scripting engine"}}, {"color": "FFFF0000", "data": {"message": "Fix spello"}}, {"color": "FFFF0000", "data": {"message": "Use doc, not d -- d for document is confusing us with d-pointers"}}, {"color": "FFFF0000", "data": {"message": "Add a constructor that doesn't need a KoCanvasResourceManager\n\nSo we can use KisResourcesSnapshot if there is no view available"}}, {"color": "FFFF0000", "data": {"message": "Fix eigen includes"}}, {"color": "FFFF0000", "data": {"message": "Fix the width of the splash screen"}}, {"color": "FFFF0000", "data": {"message": "Make two functions public so libkis can access them"}}, {"color": "FFFF0000", "data": {"message": "Check whether there's a mainwindow\n\nA headless Krita doesn't need to have one."}}, {"color": "FFFF0000", "data": {"message": "Expose some more API in KisApplication\n\nThese methods are used by kritarunner so a headless Krita\napplication object can be created."}}, {"color": "FFFF0000", "data": {"message": "Remove unused function and fix whitespace"}}, {"color": "FFFF0000", "data": {"message": "Add method to rotate the canvas from the KisCanvasController"}}, {"color": "FFFF0000", "data": {"message": "Add const"}}, {"color": "FFFF0000", "data": {"message": "Fix eigen includes"}}, {"color": "FFFF0000", "data": {"message": "Check pointer for safety's sake\n\nThat's why we have shared pointers, so we can check them,\nand the image could have been deleted."}}, {"color": "FFFF0000", "data": {"message": "Add 3rdparty projects for python, sip and pyqt"}}, {"color": "FFFF0000", "data": {"message": "emove unused method"}}, {"color": "FFFF0000", "data": {"message": "Test copying a KisProperties object"}}, {"color": "FFFF0000", "data": {"message": "Tell the world the profile has changed when it has changed"}}, {"color": "FFFF0000", "data": {"message": "Add friend class for the scripting api"}}, {"color": "FFFF0000", "data": {"message": "Export KisChangeProfileVisitor so it can be used directly"}}, {"color": "FFFF0000", "data": {"message": "Fix spello in comment"}}, {"color": "FFFF0000", "data": {"message": "Use debug areas to debug kxmlguifactory"}}, {"color": "FFFF0000", "data": {"message": "Add Alpha colorspaces for 16i, 16f and 32f channel depths\n\nThis makes it possible to create selection and channel paint\ndevices that are not limited to 8 bits integer."}}, {"color": "FFFF0000", "data": {"message": "Fix apidox"}}, {"color": "FFFF0000", "data": {"message": "Remove unused load/saveOasis methods from KoDocumentInfo"}}, {"color": "FFFF0000", "data": {"message": "Set the default png compression to 3\n\nThis follows this comment in libpng:\n\n/* Set the library compression level.  Currently, valid values range from\n * 0 - 9, corresponding directly to the zlib compression levels 0 - 9\n * (0 - no compression, 9 - \"maximal\" compression).  Note that tests have\n * shown that zlib compression levels 3-6 usually perform as well as level 9\n * for PNG images, and do considerably fewer caclulations.  In the future,\n * these values may not correspond directly to the zlib compression levels.\n */\n\nThe time saved is considerable."}}, {"color": "FFFF0000", "data": {"message": "Remove stray reference to calligra"}}]}]}, {"angle": 0.021, "label": "Pino Toscano", "windows": [{"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "fixuifiles"}}, {"color": "FFFF0000", "data": {"message": "fixuifiles"}}]}, {"position": 12, "molecules": [{"color": "FFFF0000", "data": {"message": "fixuifiles"}}, {"color": "FFFF0000", "data": {"message": "fixuifiles"}}]}]}, {"angle": 0.021, "label": "Yuri Chornoivan", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix minor inconsistency"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix minor typo"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix minor typo"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix typo found by Freek de Kruijf"}}, {"color": "FFFF0000", "data": {"message": "Consistent usage of br tag"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix minor typos"}}]}, {"position": 12, "molecules": [{"color": "FFFF0000", "data": {"message": "Remove extra spaces"}}]}]}, {"angle": 0.021, "label": "Laurent Valentin Jospin", "windows": [{"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "[numerical boxes] add license information to test files."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Use the numerical boxes in all the imagesize extension."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] improve parser structure."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Implement a test for the parserSpinBoxes and correct what this test shown was wrong."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Add a test for simpleMathExpressionsParser."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Icons for warning in parseSpinBoxes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Allow to use floating point in int calculationsbefore flooring."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Correct style, add comments and do some small corrections to numerical boxes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Improve the behavior of parseSpinBoxes (tested with resize canva function)."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] first working version (only for the resize canva dialog for now)."}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Display the warning sign when a parsespinbox is in error state only if there's enough place."}}, {"color": "FFFF0000", "data": {"message": "Let a few last place of the code use the numercic parse spinboxes."}}, {"color": "FFFF0000", "data": {"message": "Fix an annoying bug whith the specific color selector and the parsespinBoxes.\n\nThe spinboxes was reset everytime the internal value change, meaning one can't write a formula with many operations or numbers with more than 1 digit.\nThe fix imply that as long as the spinbox has the focus and the value has not changed textFromValue return the formula instead of the number.\n\nSome changes were done in the color selector widget to avoid that the double spinboxes grow big when the formula get big then doesn't shrink back when the formula is evaluated.\nThe fix is simply to tell the spinboxes to stay at a prefered size."}}, {"color": "FFFF0000", "data": {"message": "Transform the spinboxes in parsespinboxes in the paintops plugin."}}, {"color": "FFFF0000", "data": {"message": "Let the karbon plugin use the math parsing abilities\n\nThis imply replacing the QT spinboxes by the parsing spinboxes, but also modify the matrix model so that one can enter a math expression in the matrices used by some filters."}}, {"color": "FFFF0000", "data": {"message": "Some little changes in kritaui regarding the use of KisIntParseSpinBox."}}, {"color": "FFFF0000", "data": {"message": "Let all the filters use the math parser spinboxes.\n\nEven the gmic plugin, that make use of KisDoubleSliderSpinBox now has math parsing abilities."}}, {"color": "FFFF0000", "data": {"message": "Let the widgets previously in kritawidgets use KisDoubleParseUnitSpinBox."}}, {"color": "FFFF0000", "data": {"message": "Move the classes that use KoUnitSpinBox from lib/widget in lib/ui/widget.\n\nThis is, to be able to use widgets defined in kritaui in thoses classes.\nThe goal is to use KisDoubleParseUnitSpinBox instead of KoUnitSpinBoxes in thoses classes."}}, {"color": "FFFF0000", "data": {"message": "Use the parsespinboxes on all the dockers."}}, {"color": "FFFF0000", "data": {"message": "Create a replacement for KoUnitSpinBox that is able to parse math expression.\n\nThis class is more or less a copy of the KoUnitSpinBox class, but that inherit KisDoubleParseSpinBox instead of QDoubleSpinBox.\n\nIt was impossible to use classes or functions from the ui library in the widget library du to dependance graph.\nSo the best solution was to recreate the class in the ui lib.\n\nThis class should be a base of work for the future conversions of units functions we want to add in the parser.\nFrom the discussion we had it will continue to be able to display the unit as a suffix,\nbut should also be able to link with a combobox with a list of units. (still alowing to change the current unit on the keyboard).\n\nTests where performed with the flake plugin."}}, {"color": "FFFF0000", "data": {"message": "Let the slider spinboxes use the math expression parser."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] assert that all the functions from the image and layer menu use numerical boxes.\n\nThe only exception is the color background selection box. (Qt native)\nThe singly problem that have been found is in some layer effect panels, the\nvalue of some spinboxes was reset by some QDial and the expression was\ntransformed in the actual value before it was possible to write the end of it.\n\nThe solution is to adapt a little the setValues slots in the parsespinboxes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] treat all the forms in the ui/form folder.\n\nNothing seem's to have gone wrong this time."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] make use of parsespinboxes in the forms of the tools option widgets.\n\nFor the moment the KoUnitSpinBoxes have not been replaced.\nSpinboxes instancied in the code but not in a form are not changed.\n\nThe main problem that have been spot is that the old way of making\nthe parsespinboxes red (using a stylesheet) cause style issue in the\ntools option widget. A new way of making the spinboxes red has been develloped\nthat used a Palette and the margins of the inner line edit.\n\nAnother thing that have been spot is that Qt Creator will simplifiy the\nforms file when edited. While doing so it can collapse a QWidget and a\nLayout in just a Layout. But it can be problematic if the widget is called\nexplicitly in the code. To fix those issue one can add a native=\"true\"\nagrument to the QWidget tag mannualy."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Manage prefix and suffix in error cases.\n\nWe need to ensure the clean text won't contain the prefix or suffix\nwhen the expression is rewritten in case of error (or we would end up with\nmultiple suffix written in the spinbox)."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] add parsespinbox to the offsetimage extension.\n\nThe spinbox in the offset image extension use a px suffix,\nso the code has been updated to manage prefix and suffix correctly.\n\nUnittest have been added to test the management of prefixes and suffixes."}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Let the user change the active unit on the fly for unitboxes."}}, {"color": "FFFF0000", "data": {"message": "Small corrections after merging master into dev branch."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Use an abstract interface to manage units for unitparsespinboxes.\n\nIt doesn't change a lot for end users, but it's a first step to manage units KoUnit don't manage like relative units, angle units or time units."}}, {"color": "FFFF0000", "data": {"message": "Fix the log10 function in the numeric parser and change the corresponding test to be sure exp, ln and log10 function are working."}}, {"color": "FFFF0000", "data": {"message": "Numerical input boxes for canvas resize\n\nSummary: First integration of numeric parser spinboxes, for the moment just for the canvas resize function.\n\nTest Plan: Open Krita, open an image and goto Image->Resize Canvas... You can then play around with the boxes, make them become red if you write a wrong expression (everytime the expression is valid you will see the size preview update, the corresponding offset and, if keep ratio is the to true, the other box and offset).\n\nReviewers: #krita, dkazakov\n\nReviewed By: #krita, dkazakov\n\nSubscribers: woltherav, rempt, dkazakov, jospin\n\nManiphest Tasks: T1621\n\nDifferential Revision: https://phabricator.kde.org/D1875"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'numericalboxes' of git://anongit.kde.org/krita into numericalboxes"}}, {"color": "FFFF0000", "data": {"message": "[numericalboxes] fixed a few error that appeared after rebasing prior to land. One may want to check plugins/tools/basictools/wdgmovetool.ui after rebase."}}, {"color": "FFFF0000", "data": {"message": "Remove single commented line."}}, {"color": "FFFF0000", "data": {"message": "Move the .ui files that where forgotten in last commit (letting them in the wrong lib folder did not broke build)."}}, {"color": "FFFF0000", "data": {"message": "Correct code and coding conventions prior merging numericalboxes."}}, {"color": "FFFF0000", "data": {"message": "Display the warning sign when a parsespinbox is in error state only if there's enough place."}}, {"color": "FFFF0000", "data": {"message": "Let a few last place of the code use the numercic parse spinboxes."}}, {"color": "FFFF0000", "data": {"message": "Fix an annoying bug whith the specific color selector and the parsespinBoxes.\n\nThe spinboxes was reset everytime the internal value change, meaning one can't write a formula with many operations or numbers with more than 1 digit.\nThe fix imply that as long as the spinbox has the focus and the value has not changed textFromValue return the formula instead of the number.\n\nSome changes were done in the color selector widget to avoid that the double spinboxes grow big when the formula get big then doesn't shrink back when the formula is evaluated.\nThe fix is simply to tell the spinboxes to stay at a prefered size."}}, {"color": "FFFF0000", "data": {"message": "Transform the spinboxes in parsespinboxes in the paintops plugin."}}, {"color": "FFFF0000", "data": {"message": "Let the karbon plugin use the math parsing abilities\n\nThis imply replacing the QT spinboxes by the parsing spinboxes, but also modify the matrix model so that one can enter a math expression in the matrices used by some filters."}}, {"color": "FFFF0000", "data": {"message": "Some little changes in kritaui regarding the use of KisIntParseSpinBox."}}, {"color": "FFFF0000", "data": {"message": "Let all the filters use the math parser spinboxes.\n\nEven the gmic plugin, that make use of KisDoubleSliderSpinBox now has math parsing abilities."}}, {"color": "FFFF0000", "data": {"message": "Let the widgets previously in kritawidgets use KisDoubleParseUnitSpinBox."}}, {"color": "FFFF0000", "data": {"message": "Move the classes that use KoUnitSpinBox from lib/widget in lib/ui/widget.\n\nThis is, to be able to use widgets defined in kritaui in thoses classes.\nThe goal is to use KisDoubleParseUnitSpinBox instead of KoUnitSpinBoxes in thoses classes."}}, {"color": "FFFF0000", "data": {"message": "Use the parsespinboxes on all the dockers."}}, {"color": "FFFF0000", "data": {"message": "Create a replacement for KoUnitSpinBox that is able to parse math expression.\n\nThis class is more or less a copy of the KoUnitSpinBox class, but that inherit KisDoubleParseSpinBox instead of QDoubleSpinBox.\n\nIt was impossible to use classes or functions from the ui library in the widget library du to dependance graph.\nSo the best solution was to recreate the class in the ui lib.\n\nThis class should be a base of work for the future conversions of units functions we want to add in the parser.\nFrom the discussion we had it will continue to be able to display the unit as a suffix,\nbut should also be able to link with a combobox with a list of units. (still alowing to change the current unit on the keyboard).\n\nTests where performed with the flake plugin."}}, {"color": "FFFF0000", "data": {"message": "Let the slider spinboxes use the math expression parser."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] assert that all the functions from the image and layer menu use numerical boxes.\n\nThe only exception is the color background selection box. (Qt native)\nThe singly problem that have been found is in some layer effect panels, the\nvalue of some spinboxes was reset by some QDial and the expression was\ntransformed in the actual value before it was possible to write the end of it.\n\nThe solution is to adapt a little the setValues slots in the parsespinboxes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] treat all the forms in the ui/form folder.\n\nNothing seem's to have gone wrong this time."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] make use of parsespinboxes in the forms of the tools option widgets.\n\nFor the moment the KoUnitSpinBoxes have not been replaced.\nSpinboxes instancied in the code but not in a form are not changed.\n\nThe main problem that have been spot is that the old way of making\nthe parsespinboxes red (using a stylesheet) cause style issue in the\ntools option widget. A new way of making the spinboxes red has been develloped\nthat used a Palette and the margins of the inner line edit.\n\nAnother thing that have been spot is that Qt Creator will simplifiy the\nforms file when edited. While doing so it can collapse a QWidget and a\nLayout in just a Layout. But it can be problematic if the widget is called\nexplicitly in the code. To fix those issue one can add a native=\"true\"\nagrument to the QWidget tag mannualy."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Manage prefix and suffix in error cases.\n\nWe need to ensure the clean text won't contain the prefix or suffix\nwhen the expression is rewritten in case of error (or we would end up with\nmultiple suffix written in the spinbox)."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] add parsespinbox to the offsetimage extension.\n\nThe spinbox in the offset image extension use a px suffix,\nso the code has been updated to manage prefix and suffix correctly.\n\nUnittest have been added to test the management of prefixes and suffixes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] add license information to test files."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Use the numerical boxes in all the imagesize extension."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] improve parser structure."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Implement a test for the parserSpinBoxes and correct what this test shown was wrong."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Add a test for simpleMathExpressionsParser."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Icons for warning in parseSpinBoxes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Allow to use floating point in int calculationsbefore flooring."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Correct style, add comments and do some small corrections to numerical boxes."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] Improve the behavior of parseSpinBoxes (tested with resize canva function)."}}, {"color": "FFFF0000", "data": {"message": "[numerical boxes] first working version (only for the resize canva dialog for now)."}}, {"color": "FFFF0000", "data": {"message": "Remove single commented line."}}, {"color": "FFFF0000", "data": {"message": "Move the .ui files that where forgotten in last commit (letting them in the wrong lib folder did not broke build)."}}, {"color": "FFFF0000", "data": {"message": "Correct code and coding conventions prior merging numericalboxes."}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'jospin/unit_spin_boxes' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Allow the user to change the active unit in the KisDoubleParseUnitSpinBoxes.\n\nI'm not sure it's worth merging now, but I want to get sure the design I choosed is not problematic.\n\nRef T1621\n\nSummary:\nThe main change, is the new class KisSpinBoxUnitManager. This is an abstract interface to let the spinboxes use different sorts of units from KoUnit, but also document relative lenght units (vw, vh), angle units and time units.\n\nThis force some little tricks in the design, since the spinboxes must stay in the widget library, but a lot of needed info for relative units can't be acessed from this library.\n\nSo the idea is to subclass the KisSpinBoxUnitManager where it can acess thoses datas, then send a pointer to the spinboxes. With polymorphism we can make all of this work.\n\nSo now it's possible to change the unit by writing the symbol of this unit at the end of a KisDoubleParseUnitSpinBox.\n\nThere's a few problem left, for example in some places the spinbox is destroyed and rebuilt everytime the user want to use it, so the active unit is not kept.\n\nThere's also a few refactoring needed in a lot of places that use simple parse spinboxes with a suffix rather than unit spinbox.\n\nTest Plan:\nActivate all Karbon tool in your kritarc (not needed, But I've checked it works with them too).\n\nLaunch krita\n\nCreate a new document\n\nCreate a new vector layer (the unit spinbox is used essentially for Karbon tools for the moment).\n\nYou can try the freehand path and draw path karbon tool, set a size in any unit you want and start to draw.\n\nThen you can use the default tool (moving, resizing objects, setting a shadow). In all thoses steps you can use units like mm, cm, pt, ... but also px, vw, vh).\n\nFinally open the add shape and shape propeties docker. Add a few shapes and try to change the properties. deselect the shape reselect if, you'll found that the unit is reset to px (the spin box has been destroyed, then recreated).\n(I had a lots of problem with this docker, it needs a few refactoring to work with the new spinboxes).\n\nClose krita and check there's not segfault caused by the patch (I had this problem a few time, and had to find way to prevent it).\n\nReviewers: #krita, dkazakov\n\nSubscribers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D2771"}}, {"color": "FFFF0000", "data": {"message": "Create a static class with a builder to Let The KisDoubleParseUnitSpinBox build it's own unit manager possibly with a class from a library not linked to widget.\n\nThis allow to have all UnitSpinBoxes uses the DocumentAware manager without traking and setting it everywhere in the code."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Suppress the use of KoStrokeConfig widget in a few krita tool.\n\nThis widget is useless when painting on a raster layer, and on a vector layer the stroke can be configured using the default tool.\n\nFor karbon tools it's harder. It seems hard to suppress the stroke config, or to set it with a DocumentAwareUnitManager.\n\nThere's maybe a solution at higher level, I should check."}}, {"color": "FFFF0000", "data": {"message": "Let the stroke config widget be configured with px from the start in base tool and connect tool."}}, {"color": "FFFF0000", "data": {"message": "Set a KisDocumentAwareUnitManager everywhere it's needed (for all unitspinboxes except the one to export in pdf, where pixels where disable anyway)."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Complete document awarness for unit management in default tool."}}, {"color": "FFFF0000", "data": {"message": "Let the KoStrokeConfigWidget be able to change it's units on the fly."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'jospin/unit_spin_boxes' of git.kde.org:krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Let the unitParseSpinBox use document relative units (px, vw, vh for the Lenght. s and % for the time).\n\nThe main problem that was faced in the process is that the function to reach the corrent view (thus current document and image) are in the ui lib, which is unreachable from widgets.\nThe solution is to transform the KisSpinBoxUnitManager to some kind of abstract interface. Then subclass it in ui instead of widget.\n\nThe only problem then, is that when you create you spinbox (in a place that can probably use kritaui), you need to attach the proper KisSpinBoxUnitManager to it, because it can't be done internally.\n\nThe advantage is that, by subclassing KisSpinBoxManager, one can create a lots of different behaviour for different usecases, and the UnitParseSpinBox can more easily be re-used outside of Krita."}}, {"color": "FFFF0000", "data": {"message": "Let the unitParseSpinBox use document relative units (px, vw, vh for the Lenght. s and % for the time).\n\nThe main problem that was faced in the process is that the function to reach the corrent view (thus current document and image) are in the ui lib, which is unreachable from widgets.\nThe solution is to transform the KisSpinBoxUnitManager to some kind of abstract interface. Then subclass it in ui instead of widget.\n\nThe only problem then, is that when you create you spinbox (in a place that can probably use kritaui), you need to attach the proper KisSpinBoxUnitManager to it, because it can't be done internally.\n\nThe advantage is that, by subclassing KisSpinBoxManager, one can create a lots of different behaviour for different usecases, and the UnitParseSpinBox can more easily be re-used outside of Krita."}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin' into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Let the math parser try to use QLocale() to parse the input number."}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into jospin/unit_spin_boxes"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Refactor the resize canva dialog to use unitparsespinboxes\n\nRef T1621\n\nThe new dialog looks more or less the same, except now it's possible to change the unit with the keyboard (and new units are present, like vh or vw).\n\nFor the moment, only the resize canva dialog have been refactored. If you want to test the new design and propose other approaches test with this dialog.\n\nMayba a good idea would be to have a dedicated widget with the spinbox and the combobox. Then the user can select via the configuration if he/she want the unit to be displayed in the spinbox (and the combobox is hidden) or in the combobox. What do you think ?"}}, {"color": "FFFF0000", "data": {"message": "Make the spinboxunitmanager a QAbstractListModel\n\nThis is, with the proper signals/slots connections it will be possible\nto still use the conveinient QComboBox to change the unit with the mice\nor pencil, but also with the keyboard."}}, {"color": "FFFF0000", "data": {"message": "Fix a few important build warnings\n\nSome virtual destructors were missing in classes used polymorphically."}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Fix small bug in aspect ratio management in the layersize dialog."}}, {"color": "FFFF0000", "data": {"message": "Refactor the layersize dialog."}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Correct the behavior of center offset in Offset Image/Layer dialog."}}, {"color": "FFFF0000", "data": {"message": "Uses unit aware spinboxes in some strategical places, especially imagesize and image offset plugins.\n\nSummary:\nChanges may seem's minor but it's a necessary step toward being able to do unit conversion on the fly in the math spinboxes.\nPlus it bring interessants like new units (vw, vh) and the ability to change active unit from the keyboard.\n\nRef T1621\n\nReviewers: #krita, dkazakov, rempt\n\nReviewed By: #krita, rempt\n\nSubscribers: rempt\n\nManiphest Tasks: T1621\n\nDifferential Revision: https://phabricator.kde.org/D5124"}}, {"color": "FFFF0000", "data": {"message": "Correct indentation"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'jospin/unit_spin_boxes' of git.kde.org:krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Include the corrections, based on rempt comments."}}, {"color": "FFFF0000", "data": {"message": "Uses unit aware spinboxes in some strategical places, especially imagesize and image offset plugins.\n\nSummary:\nChanges may seem's minor but it's a necessary step toward being able to do unit conversion on the fly in the math spinboxes.\nPlus it bring interessants like new units (vw, vh) and the ability to change active unit from the keyboard.\n\nRef T1621\n\nReviewers: #krita, dkazakov\n\nSubscribers: rempt\n\nManiphest Tasks: T1621\n\nDifferential Revision: https://phabricator.kde.org/D5124"}}, {"color": "FFFF0000", "data": {"message": "Fix some typos"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita into jospin/unit_spin_boxes"}}, {"color": "FFFF0000", "data": {"message": "Refactor the imagesize and imageoffset plugins to use the new\nunitparsespinboxes.\n\nNot so much has changed... apparently. But now you're able to change the\nunit with the keyboard (even if the old method, based on comboboxes, is\nstill present... which is usefull for thoses who use the mouse but also\nto know the list of possible units).\n\nSome new fancy units have been added, like view width (vw) and view\nheight (vh) that represent 1% of the width, respectivly the height of\nthe image."}}]}]}, {"angle": 0.021, "label": "Timoth\u00e9e Giet", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "really fix libification"}}, {"color": "FFFF0000", "data": {"message": "add shear cursors\n\nadd shear cursors for on-canvas shear transform actions"}}, {"color": "FFFF0000", "data": {"message": "add some links for missing icons\n\nadd some links for missing icons name"}}, {"color": "FFFF0000", "data": {"message": "fix toolbox icons scaling\n\nfix toolbox icons scaling\n\nBUG:362764"}}, {"color": "FFFF0000", "data": {"message": "new icons for pan and zoom tools\n\nnew themed icons for pan and zoom tools"}}, {"color": "FFFF0000", "data": {"message": "fix the ico file\n\nfix the ico file"}}, {"color": "FFFF0000", "data": {"message": "add ico version of the icon\n\nadd ico version of the icon"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "japanese animation template\n\nadd japanese animation template by Saisho Kazuki, english and japanese version"}}, {"color": "FFFF0000", "data": {"message": "fix krita icon svgz source\n\nfix the icon source, as it made inkscape crazy"}}, {"color": "FFFF0000", "data": {"message": "new icon for krita document mimetype\n\nnew icon for krita document mimetype"}}, {"color": "FFFF0000", "data": {"message": "add some breeze color themes\n\nadd some breezy color themes"}}, {"color": "FFFF0000", "data": {"message": "add some breeze color themes\n\nadd some breezy color themes"}}, {"color": "FFFF0000", "data": {"message": "new icon for krita document mimetype\n\nnew icon for krita document mimetype"}}, {"color": "FFFF0000", "data": {"message": "fix krita icon svgz source\n\nfix the icon source, as it made inkscape crazy"}}, {"color": "FFFF0000", "data": {"message": "japanese animation template\n\nadd japanese animation template by Saisho Kazuki, english and japanese version"}}, {"color": "FFFF0000", "data": {"message": "add document-properties icons\n\nadd document-properties icons"}}, {"color": "FFFF0000", "data": {"message": "add document-properties icons\n\nadd document-properties icons"}}, {"color": "FFFF0000", "data": {"message": "fix pixel1 preset\n\nfix pixel1 preset to make continuous lines"}}, {"color": "FFFF0000", "data": {"message": "fix pixel1 preset\n\nfix pixel1 preset to make continuous lines"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "update default workspace set\n\nupdate default workspace set, and improve the animation workspace"}}, {"color": "FFFF0000", "data": {"message": "replace duplicate icons by aliases\n\nreplace duplicate icons by aliases"}}, {"color": "FFFF0000", "data": {"message": "more icons for colorize mask\n\nmore icons for colorize mask"}}, {"color": "FFFF0000", "data": {"message": "new icons for colorize mask\n\nnew icons for colorize mask"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "small consistency edit\n\nsmall consistency edit"}}, {"color": "FFFF0000", "data": {"message": "add some default Quick Brush presets\n\nadd some default Quick Brush presets"}}, {"color": "FFFF0000", "data": {"message": "make animation docker smaller\n\nmake the animation docker smaller\nmake the onionskin docker a little smaller\nupdate Animation workspace\n\nnote: the animation docker keeps extending uselessly at each restart,\nvertically on this workspace and horizontally if it's on the bottom next to the timeline...\nit would be nice to find a way to fix it."}}, {"color": "FFFF0000", "data": {"message": "new icons for animation curve docker\n\nnew icons for animation curve docker\nalso update timeline docker to use zoom-horizontal icon"}}, {"color": "FFFF0000", "data": {"message": "new icon for lazybrush tool\n\nnew icon for lazybrush tool"}}, {"color": "FFFF0000", "data": {"message": "new Eraser Switch Opacity feature\n\nadd a new Eraser Switch Opacity feature, similar to the Eraser Switch Size one\nCompletes task 3546"}}, {"color": "FFFF0000", "data": {"message": "add missing include\n\nadd missing math.h include"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG:371592 fix import image sequence dialog\n\nBUG:371592 fix import image sequence dialog\n\nI noticed this bug came from mainWindow->showOpenFileDialog();\nI first replaced it with a standard QFileDialog::getOpenFileName();, which worked, but didn't have all the properties set.\nSo I copied showOpenFileDialog there, and issue is gone.\nIt's maybe not the cleanest fix, but it does work."}}, {"color": "FFFF0000", "data": {"message": "disable compression flag\n\ndisable the compression flag available in Qt 5.7.0"}}, {"color": "FFFF0000", "data": {"message": "add a demo tag set\n\nadd a demo tag set, to replace the default favorite presets"}}, {"color": "FFFF0000", "data": {"message": "restore LOD activated by default\n\nrestore LOD activated by default"}}, {"color": "FFFF0000", "data": {"message": "save some space by default\n\nsave some space by default by disabling Show colorspace selector on Specific color selector."}}, {"color": "FFFF0000", "data": {"message": "restore a few lines in kritarc\n\nrestore a few lines in kritarc\njust to be safe"}}, {"color": "FFFF0000", "data": {"message": "restore white as default BG color\n\nrestore white as default BG color"}}, {"color": "FFFF0000", "data": {"message": "update default kritarc\n\nupdate default kritarc"}}, {"color": "FFFF0000", "data": {"message": "new default tags for brush presets\n\nnew default tags for brush presets\n\nsince users can't delete default tags for now, I and to let them assign their own,\nit's better to have a few generic tags with a few brushes in each."}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "update zoom menu icons\n\nupdate zoom menu icons with latest version from breeze which works better\n\nBUG:369344"}}, {"color": "FFFF0000", "data": {"message": "unify colors on all svg icons\n\nuse the exact same color on all svg icons"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "icons for audio\n\nicons for audio\n3 states:\naudio-none for if no audio is loaded\naudio-volume-high if audio is loaded and not muted\naudio-volume-mute if audio is loaded and muted"}}, {"color": "FFFF0000", "data": {"message": "fix transform tool option size\n\nfix transform tool option panel that was too high because of wrong spacers\n\nThe layout can still be improved,\nas all modes have the same vertical size as the biggest one (free transform)."}}, {"color": "FFFF0000", "data": {"message": "update transform tool settings icons\n\nupdate all transform tool settings icons to fit with the other icons.\nI re-created most of the shapes to be more pixel-perfect,\nand saved them in new files to get clean svg we can use directly now."}}, {"color": "FFFF0000", "data": {"message": "new icon for transform from pivot\n\nnew icon for transform from pivot"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG:375622 icon for preset switcher shortcut\n\nicon for preset switcher shortcut\n\nThanks to deevad for the proposal and icon idea, I only made a few changes to improve them."}}, {"color": "FFFF0000", "data": {"message": "new icons for gmic split-layer and color-to-alpha\n\nnew icons for gmic split-layer and color-to-alpha\nclean filllayer icon files\nTODO: link color-to-alpha icon"}}, {"color": "FFFF0000", "data": {"message": "restore some rotate shortcuts\n\nrestore some rotate shortcuts"}}, {"color": "FFFF0000", "data": {"message": "remove icon if there is actually no icon in toolbar items\n\nremove icon if there is actually no icon in toolbar items"}}, {"color": "FFFF0000", "data": {"message": "new icons for rotate canvas actions\n\nnew icons for rotate canvas actions"}}, {"color": "FFFF0000", "data": {"message": "new icon for merge with layer below\n\nnew icon for merge with layer below"}}, {"color": "FFFF0000", "data": {"message": "link icon for reset zoom\n\nlink icon for reset zoom"}}, {"color": "FFFF0000", "data": {"message": "small change\n\nsmall change"}}, {"color": "FFFF0000", "data": {"message": "fix missing text for buttons without icons\n\nfix missing text for buttons without icons\nThere might be a better way to check if icons exist, but this on works for now."}}, {"color": "FFFF0000", "data": {"message": "add icons for smoothing modes\n\nadd icons for smoothing modes\n\nnote that when added in toolbar, those actions are not visible after restart\n(what I noted in previous comment actually doesn't depend on the button icon, but happens only for some actions..)"}}, {"color": "FFFF0000", "data": {"message": "hide text of toolbar buttons with icons without restart\n\nhide text of toolbar buttons with icons without restart\n\nNote: I noticed a new bug that buttons without icons (with text only)\nare visible only after adding them or applying any change from Configure Toolbars,\nand not visible anymore after restart. But this happens even without my changes to hide the text."}}, {"color": "FFFF0000", "data": {"message": "new icons for mirror view and rotation reset\n\nnew icons for mirror view and rotation reset\nthanks to Senlin for the icon ideas"}}, {"color": "FFFF0000", "data": {"message": "hide text for buttons with an icon in the toolbar\n\nhide text for buttons with an icon in the toolbar"}}, {"color": "FFFF0000", "data": {"message": "restore link to zoom icons\n\nrestore link to zoom icons"}}, {"color": "FFFF0000", "data": {"message": "increase tolerance for audio sync\n\nincrease tolerance for audio sync\nfixes the crackling when using jack"}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "new icon for shape geometry tab\n\nnew icon for shape geometry tab"}}, {"color": "FFFF0000", "data": {"message": "update icons for edit shape options\n\nupdate icons for edit shape options\nadapt the breeze icons from 22px to 16px,\nand make some parts more visible"}}, {"color": "FFFF0000", "data": {"message": "update vector node edit option icons\n\nupdate vector node edit option icons\nicons copied from breeze theme"}}, {"color": "FFFF0000", "data": {"message": "update design template icons\n\nupdate design template icons"}}, {"color": "FFFF0000", "data": {"message": "update dslr template icon\n\nupdate dslr template icon"}}, {"color": "FFFF0000", "data": {"message": "update texture template icon\n\nupdate texture template icon"}}, {"color": "FFFF0000", "data": {"message": "update animation template icon\n\nupdate animation template icon"}}, {"color": "FFFF0000", "data": {"message": "bigger size comics icon\n\nbigger size comics icon.\nI forgot we need 128px for the other list view.."}}, {"color": "FFFF0000", "data": {"message": "update comics template icon\n\nupdate comics template icon"}}, {"color": "FFFF0000", "data": {"message": "add .directory only where needed\n\nchange gitignore to not filter .directory only where needed for templates"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "fix spacing step\n\nfix spacing step"}}, {"color": "FFFF0000", "data": {"message": "make spacing sliders exponential\n\nmake spacing sliders exponential\npatch by radian <xenys25@gmail.com>"}}, {"color": "FFFF0000", "data": {"message": "add breeze icons for distribute actions\n\nadd breeze icons for distribute actions\njust changed the color and size as needed, and made a small change to center ones"}}, {"color": "FFFF0000", "data": {"message": "update calligraphy tool icon\n\nupdate calligraphy tool icon\n\nalso cleaned the freehand tool icon files"}}]}]}, {"angle": 0.021, "label": "Aniketh Girish", "windows": [{"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix: activate \"next/previous layer\" shortcut for layers or group which are invisible.\n\nSummary: use PgDn, PgUp as shortcuts to move through the invisible layers inside a group.\n\nTest Plan: Checked by building it.\n\nReviewers: rempt, dkazakov\n\nSubscribers: dkazakov, Bollebib, woltherav, #krita\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D4373"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Implement rotation for masks.\n\nSummary: When we do Rotate, Layer only gets rotated. But we need to select the node itself rather than Layer alone.\n\nReviewers: scottpetrovic, dkazakov, rempt\n\nReviewed By: rempt\n\nDifferential Revision: https://phabricator.kde.org/D4717"}}, {"color": "FFFF0000", "data": {"message": "Implement shear for masks\n\nSummary: User could not implement shear for masks as well.\n\nTest Plan: Tested by successfully building it and test by using the feature as well.\n\nReviewers: rempt, scottpetrovic, dkazakov\n\nReviewed By: dkazakov\n\nSubscribers: woltherav\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D5151"}}]}]}, {"angle": 0.021, "label": "Wolthera van H\u00f6vell tot Westerflier", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix updating of Fade, Distance, Time sensors.\n\nBasically, the curve option widget wasn't updating when changing the\nparameters of the distance, fade and time sensors, which were in a\ndifferent widget.\n\nThis meant that you would not see the new value in action until you switched\nthe active curve to a different one and then back again, which caused a lot\nof confusion with less computer savy users why the brush instructions didn't\nwork."}}, {"color": "FFFF0000", "data": {"message": "Fix Title and Author saving/loading in png.\n\nWell, loading author is still broken. But we now load title data, and\nwe can save author data and Nautilus at the very least can read it...\n\nNot gimp though. Might have to do with ztxt compression :/"}}, {"color": "FFFF0000", "data": {"message": "Fixes T1269: Reverse direction of Distance, Fade and Time sensors.\n\nThey now behave as according to the captions on the curve, but might\naffect brushes from 2.9 and below. Be sure to reverse the curves for those.\n\ndifferential revision:D1342\nCCMAIL:kimageshop@kde.org"}}, {"color": "FFFF0000", "data": {"message": "BUG:347777 Fix reading of random offset.\n\nSo, the offset was stored but not read... Of course, when I check the bug,\nturns out mohit had already made this patch, and I feel a little silly now.\nAh well, bug fixed, yay!"}}, {"color": "FFFF0000", "data": {"message": "Fix KoColorProfile::linearize/delinearize result vector resize\n\nSometimes it is convenient to pass the result vector with more than a 3\nelements, e.g. when passing QVector(4) with RGBA values. In this case\nold implementation resized vector to 3 values.\n\nThis patch fixes assertion failure in KoColorSpace::decreaseLuminosity:\nout-of-bounds access to channelValues vector\n\nIt occurs because we store the number of channels before\nlinearize/delinearize and then iterate over the channelValues assuming\nthat its size was not changed.\n\nWith this patch, Alpha channel is ignored during linearization and\nvector size does not change.\n\nPatch by Andrew Savonichev <andrew.savonichev@gmail.com>(asavonic) Thanks!"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge in softproofing and ocio looks.\n\nThese features allow for better workflow in for Print and VFX respectively.\nCheck https://docs.krita.org/Soft_Proofing on how to use softproofing.\n\nLooks will still need a little note added to Lut management page.\n\nCCMAIL:kimageshop@kde.org\nFixes T2395\n\nSquashed commit of the following:\n\ncommit 38c4fc32021af778b9446a05502c885087bc0ff2\nMerge: 5477611 e308ed0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 28 17:46:16 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 54776118b78a3f32b408de25f9c7b3532630b5df\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 28 17:43:20 2016 +0200\n\n    Add rant why per-shot looks won't work after wasting afternoon on it.\n\n    The tl;dr is that OCIO's documentation is extremely vague.\n\n    Ref T2337\n\ncommit a3b224b6958db0c31a2df4ba47d19d87bf9f9833\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Jun 24 13:16:01 2016 +0200\n\n    Fix loading of default gamut warning color.\n\n    Always set the color space of the kocolor, kids.\n\n    ref T2337\n\ncommit 652405d3acd67d4e87d788d0b77fb67768a5cc3b\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Jun 24 12:54:17 2016 +0200\n\n    Add adaptation state slider.\n\n    This allows you to set whether or not to adapt the white point, that is,\n    to set the white point to the screen white(full slider) or to convert all whiteson screen to the white point of the profile when using absolute colorimetric\n    as intent.\n\n    This is useful to simulate paper-colour.\n\n    Ref T2337\n\ncommit aea525ca6dc10b6867153da52fcf215a80adc0ba\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Jun 24 10:32:37 2016 +0200\n\n    Fix builds on gcc 6\n\ncommit 67f4e5a21f873f5a3d08d3bb90250cb5b5806e2b\nMerge: 519f9c1 159a612\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 22:00:22 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 519f9c1fbe43edd6922b0cc5ef4ed85f17fd6dfc\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 19:49:56 2016 +0200\n\n    Add option to set default Proofing Options.\n\n    These will work for images with no proofing options, so, old loaded images\n    and new images. With this it is feature complete, and people can start testing.\n\n    Ref T2337\n    Ref T1238\n\ncommit 062db74d24fb7e656e8a06cbddde560ab03166b6\nMerge: 2e057e7 7625539\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 15:16:54 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 2e057e7a5339c3e3657fef562bbe716c672805b4\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 15:15:24 2016 +0200\n\n    Clean up all the debug messages.\n\n    It's... quieter in the terminal now.\n\n    Ref T2337\n\ncommit 7ff7e60b5f423cdbeaa4089d8a6e7b2cd33129ca\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 15:01:02 2016 +0200\n\n    Cleanup: Make projection color a defined tag.\n\ncommit 604efc8ddb21d38ad8a040b19ac7fa33cfe2e8d9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:50:20 2016 +0200\n\n    Not sure if this isn't the correct code instead...\n\n    Ref T2337\n\ncommit 7c669703ff0c7fdf755d8070537c339bbcb02533\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:42:04 2016 +0200\n\n    Load embedded proofing profiles if they exist, and add them to the profile registery.\n\n    Needs testing for obvious reasons.\n\n    Ref T2337\n\ncommit 119906b23bf0e1a3b8acfaf5828cdfcbaa92e77d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:27:07 2016 +0200\n\n    Add embedding of the proofing profile.\n\n    This is so that we can later unembed them.\n\n    Ref T2337\n\ncommit 9ef1dad773605e32d7018ccf7a90c1817d430d89\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:15:47 2016 +0200\n\n    Load Warning Colors properly from file.\n\n    Now the out of gamut warning can be written into file as XML\n    and loaded from file as XML.\n\n    Ref T2337\n\ncommit 6a57cf08fb170e4d32341ede0f3733be3ab1f37e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 13:49:49 2016 +0200\n\n    Fix naming conventions.\n\n    I was using gamut warnings/alarms, and softproofing and soft proofing.\n\n    The standard is (Out of )Gamut Warnings and Soft Proofing.\n\n    Ref T2337\n\ncommit 4faa8b574da039d9dc86f099841bb901495e19a9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 13:37:49 2016 +0200\n\n    Disable softproofing in floating point spaces.\n\n    There's a bunch of little niggling bugs that crop up when soft proofing\n    in floating point spaces, amongst which the inability of the proofing\n    mechanism to see floating point values higher than 1.0 fall outside of\n    the gamut of the color space, let alone recognising whether it can go\n    inside the gamut of the proofing space.\n\n    See also http://ninedegreesbelow.com/bug-reports/soft-proofing-problems.html\n\n    For now, it's best to disable softproofing on floating point spaces.\n    Might need a more official check, though.\n\n    Ref 2337\n\ncommit 91d7da8c41c4200729e87f98269fdf011422bb07\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 16:26:52 2016 +0200\n\n    Make views smart enough to track softproof/gamutcheck-state.\n\n    Also add a floating message to say when the softproofing or gamutcheck\n    is turned on in the view. Wording may change.\n\n    Ref T2337\n\ncommit 5c48dd2c12e37ff0a75e098368449d260ff524bc\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 16:26:35 2016 +0200\n\n    Fix Build\n\ncommit 6bacfcda6005622669a3f4a47da59a759838797c\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 14:45:52 2016 +0200\n\n    Add attempt at saving color to xml.\n\n    This fails due to me not being able to load the xml, due object-bonanza.\n\n    ref T2337\n\ncommit 3bbf025b32ae53ff4601f188901541fcb80f63a7\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 12:49:06 2016 +0200\n\n    Intitial saving/loading of config.[unstable]\n\n    Works, but might change later.\n\ncommit 1f733e28cb7f87fb4bea5a14159e86c5a5dd852f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 21 20:21:15 2016 +0200\n\n    Refactor the proofing transform system for better caching.\n\n    This now makes the transform separately from the actual transforming,\n    which means it's easier to cache and to update. Softproofing is now\n    gone from usable to user-friendly.\n\n    Still needs saving/loading and little setting-bugs fixed.\n\n    ref T2337\n\ncommit 8371c4179b1a8025e727528c5b7ce09ee3562ec9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 21 18:20:48 2016 +0200\n\n    Enable Gamut color and proofing intent.\n\n    The image now stored proofing intent, and the monitor intent is the general\n    rendering intent.\n\n    This also allows us to set the gamut warning color, however, for updating\n    you currently need to switch profiles as well. I'll make a seperate\n    generateSoftProofingTransform function, to cache the transform better, so it's\n    easier to update.\n\n    Ref 2337\n\ncommit 9d9ce38079c60ed04a63a2985a9c5ecb08652626\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 21 14:18:05 2016 +0200\n\n    Add softproofing section to image properties menu.\n\n    Now, the proofing in the image can be changed.\n\n    Also fixes that ugly little square problem with the kocoloractionpopup button.\n\n    Ref T1238, T2337\n\ncommit 8d7b4418e798978ed5e4c9fbb28509e7b9e098d4\nMerge: e2ee9ff d58645e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 16 13:28:24 2016 +0200\n\n    Merge remote-tracking branch 'origin/master' into krita-testing-wolthera\n\ncommit e2ee9ff5774c80ebb72c02bc02d8ce7a79ace72f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 15:56:50 2016 +0200\n\n    Cache the transform unelegantly.\n\n    This does cause a significant speed-up, but it's a bit fiddly.\n    Regardless, the speed-up is enough to make this usable.\n\ncommit f643fc7bc2deb9317b6b7ef299f9d76a0c4e2160\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 14:49:16 2016 +0200\n\n    Fix softproofing\n\n    It's slow again :/\n\ncommit cbc91c076310188456980563e3c061ca1a47147f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 12:45:43 2016 +0200\n\n    Fix setting softproofing and gamutcheck flags.\n\ncommit 9ae336ed94207bab7885010720647814c9648e9d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 12:44:50 2016 +0200\n\n    Cache the color space engine to make it faster\n\n    It doesn't fix everything, but it fixes quite a bit.\n    Ref T210\n\ncommit d43589016b35ea85943c55ff244e83e6bc5cd15a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Jun 13 17:59:18 2016 +0200\n\n    Add base implementation softproofing with toggles.\n\n    It doesn't really work yet :/\n\n    Ref: T210\n    Ref: T2337\n\ncommit 7de0256960a6021591217ea3935dba1b39143b58\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sun Jun 12 16:10:31 2016 +0200\n\n    Create the proofing transform\n\n    This doesn't use the caching graph stuff, which is too complex\n    to refactor for now.\n\ncommit 00efd627af23f28555aa33a78a18fdd133934cf3\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sun Jun 12 16:10:05 2016 +0200\n\n    Add a per-image proofing settings class\n\ncommit d3bd5375b304dfea9282a9ad581130c7ddf8200a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Jun 12 14:44:50 2016 +0200\n\n    Push work-in-progress proofing\n\ncommit bb97947abc29f76913924de9f1d2cb4a2762cf80\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 9 16:42:18 2016 +0200\n\n    Fix copy-paste error\n\ncommit 9ed934a8206ea1e11077f9332252b465c0899d1f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 9 16:30:09 2016 +0200\n\n    Add OCIO Look support.\n\n    The code is based of that of Blender, as I couldn't figure out how else to\n    apply looks. The OCIO api wasn't clear about it, nor could I find much information,\n    but it somewhat works and doesn't crash.\n\n    Auditors: rempt, dkazakov\n    Ref: T210\n\ncommit 2819ad66554f33e229729f8d86eb11a01413f23f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 8 12:21:25 2016 +0200\n\n    Add softproofing to the lcms conversion tests\n\n    I am not fully sure if I understand the softproofing function, but the alarm works."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Add rant why per-shot looks won't work after wasting afternoon on it.\n\nThe tl;dr is that OCIO's documentation is extremely vague.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Fix loading of default gamut warning color.\n\nAlways set the color space of the kocolor, kids.\n\nref T2337"}}, {"color": "FFFF0000", "data": {"message": "Add adaptation state slider.\n\nThis allows you to set whether or not to adapt the white point, that is,\nto set the white point to the screen white(full slider) or to convert all whiteson screen to the white point of the profile when using absolute colorimetric\nas intent.\n\nThis is useful to simulate paper-colour.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Fix builds on gcc 6"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Add option to set default Proofing Options.\n\nThese will work for images with no proofing options, so, old loaded images\nand new images. With this it is feature complete, and people can start testing.\n\nRef T2337\nRef T1238"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Clean up all the debug messages.\n\nIt's... quieter in the terminal now.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Cleanup: Make projection color a defined tag."}}, {"color": "FFFF0000", "data": {"message": "Not sure if this isn't the correct code instead...\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Load embedded proofing profiles if they exist, and add them to the profile registery.\n\nNeeds testing for obvious reasons.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Add embedding of the proofing profile.\n\nThis is so that we can later unembed them.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Load Warning Colors properly from file.\n\nNow the out of gamut warning can be written into file as XML\nand loaded from file as XML.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Fix naming conventions.\n\nI was using gamut warnings/alarms, and softproofing and soft proofing.\n\nThe standard is (Out of )Gamut Warnings and Soft Proofing.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Disable softproofing in floating point spaces.\n\nThere's a bunch of little niggling bugs that crop up when soft proofing\nin floating point spaces, amongst which the inability of the proofing\nmechanism to see floating point values higher than 1.0 fall outside of\nthe gamut of the color space, let alone recognising whether it can go\ninside the gamut of the proofing space.\n\nSee also http://ninedegreesbelow.com/bug-reports/soft-proofing-problems.html\n\nFor now, it's best to disable softproofing on floating point spaces.\nMight need a more official check, though.\n\nRef 2337"}}, {"color": "FFFF0000", "data": {"message": "Make views smart enough to track softproof/gamutcheck-state.\n\nAlso add a floating message to say when the softproofing or gamutcheck\nis turned on in the view. Wording may change.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Fix Build"}}, {"color": "FFFF0000", "data": {"message": "Add attempt at saving color to xml.\n\nThis fails due to me not being able to load the xml, due object-bonanza.\n\nref T2337"}}, {"color": "FFFF0000", "data": {"message": "Intitial saving/loading of config.[unstable]\n\nWorks, but might change later."}}, {"color": "FFFF0000", "data": {"message": "Refactor the proofing transform system for better caching.\n\nThis now makes the transform separately from the actual transforming,\nwhich means it's easier to cache and to update. Softproofing is now\ngone from usable to user-friendly.\n\nStill needs saving/loading and little setting-bugs fixed.\n\nref T2337"}}, {"color": "FFFF0000", "data": {"message": "Enable Gamut color and proofing intent.\n\nThe image now stored proofing intent, and the monitor intent is the general\nrendering intent.\n\nThis also allows us to set the gamut warning color, however, for updating\nyou currently need to switch profiles as well. I'll make a seperate\ngenerateSoftProofingTransform function, to cache the transform better, so it's\neasier to update.\n\nRef 2337"}}, {"color": "FFFF0000", "data": {"message": "Add softproofing section to image properties menu.\n\nNow, the proofing in the image can be changed.\n\nAlso fixes that ugly little square problem with the kocoloractionpopup button.\n\nRef T1238, T2337"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Cache the transform unelegantly.\n\nThis does cause a significant speed-up, but it's a bit fiddly.\nRegardless, the speed-up is enough to make this usable."}}, {"color": "FFFF0000", "data": {"message": "Fix softproofing\n\nIt's slow again :/"}}, {"color": "FFFF0000", "data": {"message": "Fix setting softproofing and gamutcheck flags."}}, {"color": "FFFF0000", "data": {"message": "Cache the color space engine to make it faster\n\nIt doesn't fix everything, but it fixes quite a bit.\nRef T210"}}, {"color": "FFFF0000", "data": {"message": "Add base implementation softproofing with toggles.\n\nIt doesn't really work yet :/\n\nRef: T210\nRef: T2337"}}, {"color": "FFFF0000", "data": {"message": "Push work-in-progress proofing"}}, {"color": "FFFF0000", "data": {"message": "Fix copy-paste error"}}, {"color": "FFFF0000", "data": {"message": "Add OCIO Look support.\n\nThe code is based of that of Blender, as I couldn't figure out how else to\napply looks. The OCIO api wasn't clear about it, nor could I find much information,\nbut it somewhat works and doesn't crash.\n\nAuditors: rempt, dkazakov\nRef: T210"}}, {"color": "FFFF0000", "data": {"message": "Add softproofing to the lcms conversion tests\n\nI am not fully sure if I understand the softproofing function, but the alarm works."}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Add very simple 'colorselection' dialog with a widget containing spinboxes.\n\nRight now the spinbox widget is able to adapt itself to all colorspaces, and having it\nas a separate widget makes it into a nice building block for other uses too.\n\nI can't actually connect this to anything, because all our color buttons seem to be K and Ko,\nso that will be the big task tomorrow...\n\nRef: T2337, T2438\nAuditors: rempt"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Add the kiscolorbutton in more places"}}, {"color": "FFFF0000", "data": {"message": "Make the UI layout of the internal color selector a little nicer.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix issue with gamut alarm default space"}}, {"color": "FFFF0000", "data": {"message": "Use sRGB for the UI"}}, {"color": "FFFF0000", "data": {"message": "Replace kcolorbutton with new kiscolorbutton in several places.\n\nThe new dialog is accesible from all these places.\n\nThere's still several places where they still need to be replaced.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Use internal visual selector in the Pop-up palette.\n\nThis means you finally can have your shape of choice inside the pop-up palette!\n\nNeeds testing, obviously.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix updating in modal dialog.\n\nAlso add an extra check for 8bit so we can be a bit more precise in 16bit and higher.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix offset for circular shape."}}, {"color": "FFFF0000", "data": {"message": "Make the custom pattern widget take the selection into account.\n\nNow, if you have a selection, it'll use only that area to retreive the pattern from.\n\nI was thinking of whether it needed an extra toggle, but both Scott and Boud thought it was implicit that having a selection means you want to use it.\n\nThis is my first time playing with selection code, so a glance would be nice.\n\nAuditors: dkazakov"}}, {"color": "FFFF0000", "data": {"message": "Check for colorspaces with or not and, a cs can't be all at the same time.\n\nThis fixes floating point from the visual selector shape again. :)\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Fork KColorButton, make it use internal selector dialog.\n\nFor now only in the fill layers.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add config struct to kisinternalcolorselector\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add offset to circle and rectangle as well.\n\nAnd more cursor fixes... grrrr."}}, {"color": "FFFF0000", "data": {"message": "Fix errors in HSL formula.\n\nAlso fix hsx cursor wiggling position _again_..."}}, {"color": "FFFF0000", "data": {"message": "Fix loading on config change."}}, {"color": "FFFF0000", "data": {"message": "Fix HSX cursor position on 0 sat, AGAIN.\n\nThis is the best I can give it."}}, {"color": "FFFF0000", "data": {"message": "Use Advanced Color Selector Configuration to set visual's shape, p.2\n\nThe debugging.\n\nProbably not all bugs, but the obvious ones are gone now."}}, {"color": "FFFF0000", "data": {"message": "Use Advanced Color Selector Configuration to set visual's shape, P3\n\nP2 came before p2. Anyway, this implements resizing. Now left-over debugging."}}, {"color": "FFFF0000", "data": {"message": "Use Advanced Color Selector Configuration to set visual's shape, P1\n\nNow only need p2: the debugging, and p3: the resizening...\n\nBut happy this is out of the way.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add Hex code widget that only outputs and reads sRGB colors.\n\nNothing else understands having hexcode in other spaces anyway.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add colorspace locking to the internal selector.\n\nSo it doesn't flip between colorspaces all the time.\n\nAlso fixes a crash in KoDualColorButton\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Remove qstring compare in commonly called function.\n\nShould speed things up."}}, {"color": "FFFF0000", "data": {"message": "Make mouse press event select a color too.\n\nAlso speed up the timers a little bit."}}, {"color": "FFFF0000", "data": {"message": "Allow the modal dialog to have ok/cancel buttons as well.\n\nAccording to boud, some desktop enviroments have no close button on dialogs.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Make color selector faster.\n\nBy removing a mask check.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Turn on tagging for palettes.\n\nThis was a matter of toggling an option. Beware that tagging with palettes will have all the bugs associated with the other tagging options.\n\nWith the colorname hover-options, this means that this fixes\nBUG:360453"}}, {"color": "FFFF0000", "data": {"message": "Make the color names drop down update when you choose a color on the palette itself.\n\nSeemed like it should to me."}}, {"color": "FFFF0000", "data": {"message": "Add the ability to let the layer split use color names from a palette.\n\nThis also implements two 'closest match' functions in kocolorset. One for the name, the other only for the index.\n\nBUG:348837"}}, {"color": "FFFF0000", "data": {"message": "Add a little combobox that allows you to search the palette colornames\n\nIf I was better with regexp it might've been a bit smoother, but at the least you can now type in a colorname to select it quickly.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add some offset to the triangle selector.\n\nAlso fix some issues with setting hsv and fix and remove some debug."}}, {"color": "FFFF0000", "data": {"message": "Make column-count work with colorset widget.\n\nNow the palette swatches align :)\n\nRef 2438"}}, {"color": "FFFF0000", "data": {"message": "Add using the colornames in the approprite colorset widgets.\n\nThe palette docker doesn't have the ability to give tooltips due being a slightly different model, so hence the extra label.\n\nI also tried setting the kocolorsetwidget the size of the current column count, but this crashes on startup for reasons I cannot understand."}}, {"color": "FFFF0000", "data": {"message": "Make prettier and change previous color focus event.\n\nRef 2438"}}, {"color": "FFFF0000", "data": {"message": "change kodualcolorbutton about to simply code.\n\nThis doesn't prevent a crash when closing all available documents, sadly."}}, {"color": "FFFF0000", "data": {"message": "Fix channel-order, hue rortaton and the mirrored circle border"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Make drawing the image slightly faster.\n\nBut it's not fast enough yet. Also using QImage everywhere now, it's a bit more sensible...\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix a bunch of minor issues."}}, {"color": "FFFF0000", "data": {"message": "Add display color converters to the KoColorSetWidget/KoColorPatch\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix selector on single-dimension hue wheel, also rotate hue.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add cursor position to the triangle.\n\nI spent 9+ hours trying to figure out how to make one where the value length fully vertical, but failed, so gave up and copied the kis_color_selector_triangle solution.\n\nRef 2438"}}, {"color": "FFFF0000", "data": {"message": "Attempt to fix flickering... this doesn't fix it :/\n\nMakes the code simpler though..."}}, {"color": "FFFF0000", "data": {"message": "Add anti-aliasing to the shapes.\n\nThe jaggies were starting to annoy me.\n\nMight make the pixmap into a image later just so we can have proper transparency."}}, {"color": "FFFF0000", "data": {"message": "Fix clamping again.\n\nThe previous code made not much sense..."}}, {"color": "FFFF0000", "data": {"message": "Add triangle and elliptical visual selectors and set default to ring+triangle\n\nThis is a bit finicky still. Also weird bugs with Qt cause flickering when changing widgets, due to having to force them to show. :/ Might need to think a bit longer about this...\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add mirrored border.\n\nThis is useful for non-cyclic channels."}}, {"color": "FFFF0000", "data": {"message": "Implement rectangle border\n\nNot too useful and actually a little slow, but good practice."}}, {"color": "FFFF0000", "data": {"message": "Add KoColorSetWidget, and KoColorPatches for current/previous color\n\nAlso rearranged the widget a lot. The KoColorSetWidget is automatically filled with the first palette in the list(which is, as always, concept cookie), and the palette is saved... right now on leave and accept events, which might not be the most intuitive, but at the least it is saved and loaded correctly.\n\nNeither widget has the color management from the displayrenderer, as that would require me editing those directly.\n\nI would like an eye on said save/load code.\nAuditors: rempt"}}, {"color": "FFFF0000", "data": {"message": "Add anti-cursor resetting measures, and add docs.\n\nThe cursor won't flip about when desaturated, but saturation itself is\nstill very tricky. Either way, outside updates won't affect a thing."}}, {"color": "FFFF0000", "data": {"message": "Fix HSV mode\n\nTurns out there was an 'undefined' value...\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Do clamping in color space traits properly.\n\nPrevious version just didn't work. This fixes the HSL output.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Don't manage non-floating-point spaces"}}, {"color": "FFFF0000", "data": {"message": "Fix display configuration updating.\n\nThat's now fully working :)\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Fix non-painting space deformation\n\nBy disabling it... this looks a bit odd, might be changed.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Enable High range color picking for the visual selector.\n\nIt has huge issues when using a color space that isn't the displayrenderer's but I think that can be fixed.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Fix spinbox updating float.\n\nAgain, could be prettier.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Enable typing hdr values into spinbox.\n\nThis could probably be a little more elegant...\n\nRef 2337"}}, {"color": "FFFF0000", "data": {"message": "Make the display color converter of the dualcolor button get updated.\n\nThis enables the the display color converter on the internal color selector too.\nThere are still update and range bugs, the range bugs being tricky and the update bugs being probably due wrong signal being connect, but I am pretty pleased with this.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Add HSI and HSY support to the visual color selector.\n\nThis was mostly an experiment, which was succesful in proving to me that\nthe HSL and HSV functions have issues with non-chromatic values. HSY and HSI are more notably slow, so kept HSL as the RGB default.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Clamp normalised values before pouring into pixel.\n\nThis should prevent roll-overs, but it doesn't fix the bug I was initially trying to fix, which instead seems to be a bugged HSL function.\n\nRef 2337"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Attempt to further add displayconverter integration...\n\nI can't get much further here due the inability for kodualcolorbutton\nto have a display renderer, due MVC. Fun times...\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Initial implementation displayrenderer\n\nWill need to change it now..."}}, {"color": "FFFF0000", "data": {"message": "Fix rounding-error wiggles.\n\nBy not allowing the thing to update it self...\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Make moving the cursor around more pleasant\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Fix order of Hue, make single-dimension-cursors nicer.\n\nRef 2337"}}, {"color": "FFFF0000", "data": {"message": "Fix order-error.\n\nRef 2337"}}, {"color": "FFFF0000", "data": {"message": "Fix HSL and HSV\n\nOf course, using HSL and HSV brings back our friend the 'wigglyness', so I'll need to do something about that in time.\n\nRef T2337\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Add visual selector shapes.\n\nThese now work fully for the channels. They give nice squares.\nI made a base class that only deals with the events and the classes, and added a rectangular subclass. This way we can make our circles and wheels and whatever easily.\n\nRef T2337\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Add screen color picking widget.\n\nThis is a widget with a button that allows you to select anywhere on the screen. It's not smart enough yet to recognise Krita windows and canvases and to select the color managed value, but it is a nice self contained widget, which I find pretty impressive already.\n\nRef T2337, T2838"}}, {"color": "FFFF0000", "data": {"message": "Give spinboxes names, fix order spinboxes, do cleanup.\n\nRef T2337 T2438"}}, {"color": "FFFF0000", "data": {"message": "Change spinboxes to numerical spinboxes.\n\nRef T2337"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Make internal color selector dialog possible to do modal mode.\n\nSo right now, KoDualColorButton has Non-modal mode on the foreground color and modal mode on the background color.\n\nAlso contains a lot of cleanup, the UI files for example now working\nproperly.\n\nRef T2337 T2438"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Remove signal compressor, use block signals instead.\n\nThis makes the updating of the spinboxes much easier. Might\nbe using this method more commonly.\n\nRef T2337, T2438"}}, {"color": "FFFF0000", "data": {"message": "Move KoDualColorButton, attach internal color selector.\n\nIt doesn't crash, it updates, gets updated, can select colors, wide gamut colors, changes configuration based\non selected color's color space... It still needs to be cleaned up and have fluid updating. Also 90% of the rest of\nthe selector, but I first want to get this updating slot signal mess clean.\n\nCan I keep using QObject::sender()? It's making my life very easy.\n\nAuditors: rempt\nRef T2337, T2438"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Make fixes to composite ops as dmitry suggested.\n\nThis still doesn't fix there's a optimisation step here.."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into wolthera/ora-support"}}, {"color": "FFFF0000", "data": {"message": "Allow the user to select a directory for the autosaved image split to go into.\n\nWhile arguably the image split should also automatically pick the location, because autosave implies things are all very auto, this makes the dialog a bit cumbersome: Either you are forced to untick autosave and type a file name for each cell from the image split or tick autosave and stuck with everything being saved into your already messy (don't pretend your home directory isn't a mess, dear commit reader) home directory.\n\nThis change asks for a directory once and then saves all the cells into it using the dialog settings.\n\nAuditors: rempt"}}, {"color": "FFFF0000", "data": {"message": "Fix pop-up palette.\n\nAlso remove a slot mention.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Make the triangle color selector a bit more pleasant to work with.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Hide alpha spinbox completely.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix the next/previous colors and update them properly.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "The visual color selector should probably sent out color updates, regardless of modality.\n\nCCBUG:368551\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Update Ora support significantly.\n\nThe big problem is that destination in and destination out seem to be limited to the source layer."}}, {"color": "FFFF0000", "data": {"message": "Try changing include, for the second file..."}}, {"color": "FFFF0000", "data": {"message": "Change QtTest include, perhaps it is confusing jenkins"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'krita-testing-wolthera': Halftone filter added!\n\nThis adds a halftone filter to the artistic filters menu. Which means that you can take an image and have it approximated by half-tone dots: This typically gives a nice aesthetic effect, and with anti-aliasing turned off, it can be used for actual black and white print stuff.\n\nDifferential: https://phabricator.kde.org/D2733"}}, {"color": "FFFF0000", "data": {"message": "Disable adjustment layers."}}, {"color": "FFFF0000", "data": {"message": "Update halftone filter config stuff to match new shared pointers"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Add two more options and polish."}}, {"color": "FFFF0000", "data": {"message": "Add working config widget and fix trigionometry.\n\nI'll need to turn off adjustment layers too...\nAnd inverse intensity..."}}, {"color": "FFFF0000", "data": {"message": "Implement basic halftone filter. No config yet.\n\nIt's aaaaaalmost threadable. Just not yet, and not right now. Wanted to commit this though."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Disable rightclick on the visual color selector for now.\n\nThis prevents conflicts with the pop-up dialog.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "change abs to qabs"}}, {"color": "FFFF0000", "data": {"message": "Merge in new internal color picker dialog!\n\nTremble, dear commit reader, for a new era of color picking has arrived!\n\nThis is the second part of my Google Summer of Code 206 project. It is a internal color selector, that can handle wide-gamut colors, pick colors from the screen (which is smart enough to identify Krita canvases and pick the correct color managed color that way). It also changes properly using the lut manager exposure controls, and it\u2019s main element, the visual color selector can use the advanced color selector config.\n\nThis selector is also intergrated into a kis_color_button and used where ever I could port it reliably. It\u2019ll also show up in the pop-up palette.\n\nFurthermore, this merge contains little palette usability things, like being able to see the swatch name, search by swatch name and have the split->layer functionality use a palette to name the resultant layers. Also allows custom-pattern to be mindful of the active selection.\n\nAnyway, needs a lot of testing!\n\nCCMAIL:kimageshop@kde.org\nRef T2337\nRef T2438\n\nSquashed commit of the following:\n\ncommit 1cf8527877d316b0c3149494535740b7ff3e5c6f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Sep 6 16:16:24 2016 +0200\n\n    Fix build\n\ncommit d39cecc36ab9fa2f32de8fa3cefe7072c1824dcf\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Sep 6 15:32:08 2016 +0200\n\n    Rename the internal color selector dialog to reflect it being a dialog\n\ncommit afc8658b4114df00644061105b4ed56f08cc257b\nMerge: 27d4034 91bdcfe\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Sep 6 15:22:33 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 27d4034efe5d37cde00bb3dd33cab985f6deacd2\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Sep 3 16:35:23 2016 +0200\n\n    Fix screencolor picker label.\n\n    Ref T2438\n\ncommit 29d34d885455f1e5fbfd3ba0e1c5c92974d4f2bf\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Sep 3 16:20:07 2016 +0200\n\n    Fix color conversion issues with the selector.\n\n    Now the selector will show grayscale on a mask, and will update upon changing the image color space.\n\n    Ref T2438\n\ncommit 3dc397583dbb93b4a362abce1ad6df50ee2c7485\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Sep 2 17:47:53 2016 +0200\n\n    Simplify Gradient Map filter and make it usable as a filter layer.\n\n    There's some awkwardness with the first two generic gradients as the color isn't stored, but this is good for now.\n\n    Fixes T1837\n\ncommit 4a4f704e1700a24f214a844879df09128df64b95\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 17:34:00 2016 +0200\n\n    Fix drawing the gradient\n\ncommit 13f83919be65000fc1682940afe6c81fdcc8c1ae\nAuthor: Julian Thijssen <Nimthora@gmail.com>\nDate:   Fri Sep 2 17:30:51 2016 +0200\n\n    Nearest neighbour filtering applies on all zoom levels\n\ncommit 0a4a62bc9370878441d57f87ed50fbbc7d394ef7\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 16:36:02 2016 +0200\n\n    Refactor KisColorSource to use KoColor in a saner way\n\ncommit 58bf4b9ab601c6f5f0aa593c5e86c20ee994e545\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 16:21:40 2016 +0200\n\n    Make KoSegmentGradient::colorAt threadsafe\n\ncommit 54df09f834a5fa36db6b98742f7ac05ec9b90170\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 16:21:19 2016 +0200\n\n    Make this class safe\n\n    It means we don't cache the QImage, but there is no alternative\n\ncommit 362c78b89d997845e0fdd7764dd896d031ac632c\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 16:21:02 2016 +0200\n\n    Warn that this class is not threadsafe\n\ncommit cd02553f552f01cd73c2ec57874195f82d4110f3\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 16:06:51 2016 +0200\n\n    Make KoStopGradient::colorAt threadsave\n\n    Sneakily, the \"buffer\" variable was made a class variable. Marking\n    it mutable allows us to change it from a const function, which hides\n    the fact that this is global data (doubly hidden by there not being\n    an m_ prefix), which makes the const function thread unsafe.\n\ncommit 904cc82dbdc387e93a478a4a661b7122ce8b965e\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 15:56:24 2016 +0200\n\n    Also revert the patch\n\ncommit 349b5e776205e844268835f603f36bf89c8eb7b3\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 14:57:27 2016 +0200\n\n    Try harder to find the tag files on Windows and OSX\n\n    This is yet another KoResourcePaths problem...\n    BUG:366757\n\ncommit dbaa7bcdcdaf3ce139227988dca4ba2e6a85f191\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 13:56:14 2016 +0200\n\n    Fix logic error...\n\n    I shouldn't code during a sprint, only afterwards\n\ncommit 71692523af5cd589e3b5059b8960a00b446c8e20\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 12:09:42 2016 +0200\n\n    Fix typo\n\ncommit 88bf822c445752d10ea962e88b8e31c8ad8cf337\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 11:56:59 2016 +0200\n\n    Go back to ki18n 5.17 for now\n\n    To avoid the system-language bug until it's fixed.\n    CCBUG:368007\n\ncommit 6f057f4659283fb847f4a74f6781541e4cf91672\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 11:35:54 2016 +0200\n\n    Remove unused ui file\n\n    (Was forgotten in\n\n    commit 010c0f3066d872d0f91ec3a38057b4fcaedca4ad\n    Author: Boudewijn Rempt <boud@valdyas.org>\n    Date:   Sat Mar 30 12:22:40 2013 +0100\n\n        Remove unimplemented custom palette dialog\n    )\n\ncommit 4e053745797b9a70ef98555465f6dadb40eed117\nAuthor: Eugene Ingerman <geneing@gmail.com>\nDate:   Tue Aug 30 22:14:51 2016 -0700\n\n    Fixing https://bugs.kde.org/show_bug.cgi?id=367901. Removing wait which\n    causes possible race condition.\n\ncommit 99b11b2bfa6a5b3af93c83de5877e4b1edbe07ee\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Fri Sep 2 14:30:20 2016 +0200\n\n    Improve the view selection when color picking\n\n    We can easily grab a list of all existing views and check whether\n    they are under the cursor. Color picking from a krita image now\n    gets the color directly no matter the active window or view.\n\ncommit 16c8832c93424f208ad54735777bdf2756c92161\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Sep 2 12:18:36 2016 +0200\n\n    Port the last areas to use the KisColorButton as far as possible.\n\n    There's still the grid docker, which has a bit of a UI problem, and then rest is flake and friends.\n\n    Ref T2438\n\ncommit ef9aeb29492afed382ee8e153c6290867e42b6d3\nMerge: ceaafb0 58364da\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Sep 1 22:04:37 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit ceaafb000d1ee9da7078bb589f418b59218f6948\nMerge: f70701d 853e42f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Sep 1 13:30:58 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit f70701dced469bdcd82aaadcc868d3bb06507465\nMerge: ed64943 fe21cb5\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 31 22:37:24 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit ed649432567924e02ddb7c0ac45f259f0eab4b3a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 31 22:32:02 2016 +0200\n\n    Add the kiscolorbutton in more places\n\ncommit d635b53e2586af1e811d00c2f4b7110694ec21a6\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 29 11:52:25 2016 +0200\n\n    Make the UI layout of the internal color selector a little nicer.\n\n    Ref T2438\n\ncommit cf7c567a9194d999fa1c2dd90a20d9353ba61ee3\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 28 15:08:03 2016 +0200\n\n    Fix issue with gamut alarm default space\n\ncommit 364d1b3cc873cc3fa5662299405de10f390fb12e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 28 15:02:21 2016 +0200\n\n    Use sRGB for the UI\n\ncommit 23dcf5d9d0f3ff2b25b7e86d826d48be37b322e2\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 28 14:54:46 2016 +0200\n\n    Replace kcolorbutton with new kiscolorbutton in several places.\n\n    The new dialog is accesible from all these places.\n\n    There's still several places where they still need to be replaced.\n\n    Ref T2438\n\ncommit c5621355279c211721a74e2d4affa0d322e3de9f\nAuthor: Sven Langkamp <sven.langkamp@gmail.com>\nDate:   Sat Aug 27 10:50:40 2016 +0200\n\n    Pick color from canvas directly if the cursor is over the canvas\n\ncommit 1afa4384e84fa5af6f8681545787f81cdd4f183e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 26 18:29:19 2016 +0200\n\n    Use internal visual selector in the Pop-up palette.\n\n    This means you finally can have your shape of choice inside the pop-up palette!\n\n    Needs testing, obviously.\n\n    Ref T2438\n\ncommit 9a07179d79d8ed3333cd772c002a98e27df03138\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 26 16:10:31 2016 +0200\n\n    Fix updating in modal dialog.\n\n    Also add an extra check for 8bit so we can be a bit more precise in 16bit and higher.\n\n    Ref T2438\n\ncommit cdd0cd6a54876dbba5c102160e4bf523fec64b39\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 26 15:15:24 2016 +0200\n\n    Fix offset for circular shape.\n\ncommit 97372d6eef81bd2623e5575013045f73d5f95ed0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Aug 25 11:43:14 2016 +0200\n\n    Make the custom pattern widget take the selection into account.\n\n    Now, if you have a selection, it'll use only that area to retreive the pattern from.\n\n    I was thinking of whether it needed an extra toggle, but both Scott and Boud thought it was implicit that having a selection means you want to use it.\n\n    This is my first time playing with selection code, so a glance would be nice.\n\n    Auditors: dkazakov\n\ncommit de26f01fcd4544bffc11947b64e08418666135f2\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 19:20:13 2016 +0200\n\n    Check for colorspaces with or not and, a cs can't be all at the same time.\n\n    This fixes floating point from the visual selector shape again. :)\n\n    Ref T2438\n\ncommit 80a8d54ed249a6c65a46db5181a17606a579b693\nMerge: 389c2bd da04c19\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 16:22:56 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 389c2bd5123af74918bc26949823dcb75867bafb\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 16:21:23 2016 +0200\n\n    Fork KColorButton, make it use internal selector dialog.\n\n    For now only in the fill layers.\n\n    Ref T2438\n\ncommit c71c0b696915258aae3adad4345005fadb3e561a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 14:37:50 2016 +0200\n\n    Add config struct to kisinternalcolorselector\n\n    Ref T2438\n\ncommit 439cc77b25571338dfc0c23cf3f09023cdd9d344\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 13:54:36 2016 +0200\n\n    Add offset to circle and rectangle as well.\n\n    And more cursor fixes... grrrr.\n\ncommit fcdc7cd1d153942dde834c5532dfd5816132cd75\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 12:43:06 2016 +0200\n\n    Fix errors in HSL formula.\n\n    Also fix hsx cursor wiggling position _again_...\n\ncommit ba6dd494ee239ad65d5306aca8c46abee7f04bea\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 11:18:01 2016 +0200\n\n    Fix loading on config change.\n\ncommit 28505a7455211f9448abb880af83b078b3e8fd2c\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 10:33:52 2016 +0200\n\n    Fix HSX cursor position on 0 sat, AGAIN.\n\n    This is the best I can give it.\n\ncommit 68739e5dc010f830667b3a949963a91656651dd3\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 08:57:09 2016 +0200\n\n    Use Advanced Color Selector Configuration to set visual's shape, p.2\n\n    The debugging.\n\n    Probably not all bugs, but the obvious ones are gone now.\n\ncommit e7d52d68b75edfd09200926567536fec25e9a4e8\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 08:05:58 2016 +0200\n\n    Use Advanced Color Selector Configuration to set visual's shape, P3\n\n    P2 came before p2. Anyway, this implements resizing. Now left-over debugging.\n\ncommit 6995071af937c32fcb92d8b0c20e42135d427a51\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 24 00:12:25 2016 +0200\n\n    Use Advanced Color Selector Configuration to set visual's shape, P1\n\n    Now only need p2: the debugging, and p3: the resizening...\n\n    But happy this is out of the way.\n\n    Ref T2438\n\ncommit 763a373b26cc1d2a3ab57e8982ede68ca727bb32\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 22:15:09 2016 +0200\n\n    Add Hex code widget that only outputs and reads sRGB colors.\n\n    Nothing else understands having hexcode in other spaces anyway.\n\n    Ref T2438\n\ncommit 04707daf21d4201684dc8860151678a276331d76\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Tue Aug 23 18:55:04 2016 +0200\n\n    Move KisColorInput to libs/ui/widgets\n\ncommit fbc74f15121590b10144da71a777709f1c75fab5\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 16:11:21 2016 +0200\n\n    Add colorspace locking to the internal selector.\n\n    So it doesn't flip between colorspaces all the time.\n\n    Also fixes a crash in KoDualColorButton\n\n    Ref T2438\n\ncommit c33f2ae2939130d8a05b5e6596d07eba95bf87b7\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 15:02:47 2016 +0200\n\n    Remove qstring compare in commonly called function.\n\n    Should speed things up.\n\ncommit 12799acad033e3825399af81341dcc78f531907e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 14:44:46 2016 +0200\n\n    Make mouse press event select a color too.\n\n    Also speed up the timers a little bit.\n\ncommit b97cef85d33eb71fc8ef4057d4c04bdf95edb986\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 13:58:11 2016 +0200\n\n    Allow the modal dialog to have ok/cancel buttons as well.\n\n    According to boud, some desktop enviroments have no close button on dialogs.\n\n    Ref T2438\n\ncommit 960bde483a5f66918bfb5507b7e15559d5d9cb6e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 13:56:55 2016 +0200\n\n    Make color selector faster.\n\n    By removing a mask check.\n\n    Ref T2438\n\ncommit e06052e2509701fbe31a1e80fa89dd6237ec8ad0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 10:52:40 2016 +0200\n\n    Turn on tagging for palettes.\n\n    This was a matter of toggling an option. Beware that tagging with palettes will have all the bugs associated with the other tagging options.\n\n    With the colorname hover-options, this means that this fixes\n    BUG:360453\n\ncommit 82d1a1b795f9897e6fb9e86dd21a26eac1cf9814\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 10:40:41 2016 +0200\n\n    Make the color names drop down update when you choose a color on the palette itself.\n\n    Seemed like it should to me.\n\ncommit e0ed2fd7586e068121e22cbea31a4b7d82379c99\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 23 10:29:40 2016 +0200\n\n    Add the ability to let the layer split use color names from a palette.\n\n    This also implements two 'closest match' functions in kocolorset. One for the name, the other only for the index.\n\n    BUG:348837\n\ncommit 73eb12ee2571759c86c8a55c135ec4ecd769e396\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 22 16:52:10 2016 +0200\n\n    Add a little combobox that allows you to search the palette colornames\n\n    If I was better with regexp it might've been a bit smoother, but at the least you can now type in a colorname to select it quickly.\n\n    Ref T2438\n\ncommit 68c2c8ed8ca8c6c1d820ed4a6888206a43b58fc1\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 21 14:29:24 2016 +0200\n\n    Add some offset to the triangle selector.\n\n    Also fix some issues with setting hsv and fix and remove some debug.\n\ncommit 6d3b11f6746652844616b0a52a7e86b5441181b2\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 21 11:46:46 2016 +0200\n\n    Make column-count work with colorset widget.\n\n    Now the palette swatches align :)\n\n    Ref 2438\n\ncommit bc1ad37b974507b203ec64e9e98d30385e2e6d29\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 23:30:51 2016 +0200\n\n    Add using the colornames in the approprite colorset widgets.\n\n    The palette docker doesn't have the ability to give tooltips due being a slightly different model, so hence the extra label.\n\n    I also tried setting the kocolorsetwidget the size of the current column count, but this crashes on startup for reasons I cannot understand.\n\ncommit 22ccd6620964769274e13ea5778b9e7dfe29e1fc\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 21:42:32 2016 +0200\n\n    Make prettier and change previous color focus event.\n\n    Ref 2438\n\ncommit 8c2914254e053f314b803b4f064c5534a7aeb4ba\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 19:24:35 2016 +0200\n\n    change kodualcolorbutton about to simply code.\n\n    This doesn't prevent a crash when closing all available documents, sadly.\n\ncommit eb1232be68bae9d71130d4c3a56f4f139b89c4ba\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 18:22:49 2016 +0200\n\n    Fix channel-order, hue rortaton and the mirrored circle border\n\ncommit 0718fb65ab9fb4d9168e2ca76bb2600a754ebb1e\nMerge: 541b596 bba9f1c\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 16:49:09 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 541b596e74547fcbd8e14857e08685e88e9450cd\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 16:47:42 2016 +0200\n\n    Make drawing the image slightly faster.\n\n    But it's not fast enough yet. Also using QImage everywhere now, it's a bit more sensible...\n\n    Ref T2438\n\ncommit b440e55a6094128fb6f3a1da0f41045ee4a4edc9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 14:42:56 2016 +0200\n\n    Fix a bunch of minor issues.\n\ncommit 6655f984354de967f9217787e8e6a3eda3b5bb74\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 14:28:44 2016 +0200\n\n    Add display color converters to the KoColorSetWidget/KoColorPatch\n\n    Ref T2438\n\ncommit b5a0d6c36c15f0e9d1d5ba821f623df151122a8a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 13:30:35 2016 +0200\n\n    Fix selector on single-dimension hue wheel, also rotate hue.\n\n    Ref T2438\n\ncommit f8fb2e088596ff430db5d4a74fd18f4fbbd58f82\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 20 12:34:19 2016 +0200\n\n    Add cursor position to the triangle.\n\n    I spent 9+ hours trying to figure out how to make one where the value length fully vertical, but failed, so gave up and copied the kis_color_selector_triangle solution.\n\n    Ref 2438\n\ncommit 36e4b72ceca1f6d7c72372b218decb463cdfd4df\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 19 12:18:40 2016 +0200\n\n    Attempt to fix flickering... this doesn't fix it :/\n\n    Makes the code simpler though...\n\ncommit 0442f67e2c9435705ccc5a994af6a9984a0a496d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 19 12:05:55 2016 +0200\n\n    Add anti-aliasing to the shapes.\n\n    The jaggies were starting to annoy me.\n\n    Might make the pixmap into a image later just so we can have proper transparency.\n\ncommit 8aef9fe603f284572b1c67ca0b5153bf92067023\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 19 11:23:55 2016 +0200\n\n    Fix clamping again.\n\n    The previous code made not much sense...\n\ncommit 8737642881dc971e9b1469cae7dd5f9f283787fe\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Aug 19 00:00:28 2016 +0200\n\n    Add triangle and elliptical visual selectors and set default to ring+triangle\n\n    This is a bit finicky still. Also weird bugs with Qt cause flickering when changing widgets, due to having to force them to show. :/ Might need to think a bit longer about this...\n\n    Ref T2438\n\ncommit fd5f3a2d716b43a4940868f24ea549224391a172\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Aug 18 12:38:08 2016 +0200\n\n    Add mirrored border.\n\n    This is useful for non-cyclic channels.\n\ncommit d7a4e7e9175c18de53d89d834ca544f26500517d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Aug 18 02:19:10 2016 +0200\n\n    Implement rectangle border\n\n    Not too useful and actually a little slow, but good practice.\n\ncommit 20febd119bea269cca7c58efa6c05f592eee4fcd\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 17 21:54:38 2016 +0200\n\n    Add KoColorSetWidget, and KoColorPatches for current/previous color\n\n    Also rearranged the widget a lot. The KoColorSetWidget is automatically filled with the first palette in the list(which is, as always, concept cookie), and the palette is saved... right now on leave and accept events, which might not be the most intuitive, but at the least it is saved and loaded correctly.\n\n    Neither widget has the color management from the displayrenderer, as that would require me editing those directly.\n\n    I would like an eye on said save/load code.\n    Auditors: rempt\n\ncommit d9fc35c32ce0886fbeb43c85249af40b4c254b98\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 17 17:35:32 2016 +0200\n\n    Add anti-cursor resetting measures, and add docs.\n\n    The cursor won't flip about when desaturated, but saturation itself is\n    still very tricky. Either way, outside updates won't affect a thing.\n\ncommit d09605cbaefe1d65b92ba843ae75eefc7f76daa0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 17 16:07:17 2016 +0200\n\n    Fix HSV mode\n\n    Turns out there was an 'undefined' value...\n\n    Ref T2438\n\ncommit 5282f861e57ed94d9224b993b5a81c1913f5fdc1\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 17 15:39:40 2016 +0200\n\n    Do clamping in color space traits properly.\n\n    Previous version just didn't work. This fixes the HSL output.\n\n    Ref T2438\n\ncommit c6119f6d061b61afb0d8ff240e86bcc21ce5cf4d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 17 15:30:50 2016 +0200\n\n    Don't manage non-floating-point spaces\n\ncommit 589b5c645eb276104d2cf804a4ce6a82741be2b0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 17 12:59:27 2016 +0200\n\n    Fix display configuration updating.\n\n    That's now fully working :)\n\n    Ref T2438\n\ncommit 553efe20ac7ea8eb2f8865cc00779b9b2b736439\nMerge: e4b42d2 ffc4d9c\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 20:52:03 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit e4b42d286eea279a22a26494de059ca8ab474ba1\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 20:48:32 2016 +0200\n\n    Fix non-painting space deformation\n\n    By disabling it... this looks a bit odd, might be changed.\n\n    Ref T2337\n\ncommit 0246b4ba3d7d1948e5de80426ca707c2da583350\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 18:58:22 2016 +0200\n\n    Enable High range color picking for the visual selector.\n\n    It has huge issues when using a color space that isn't the displayrenderer's but I think that can be fixed.\n\n    Ref T2337\n\ncommit 62a4f7c6aea23277d40acd5700ac28b3dada1174\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 18:57:35 2016 +0200\n\n    Fix spinbox updating float.\n\n    Again, could be prettier.\n\n    Ref T2337\n\ncommit ae0fd531f89f9c2bd000de318de9d3bf05c0f3af\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 18:25:25 2016 +0200\n\n    Enable typing hdr values into spinbox.\n\n    This could probably be a little more elegant...\n\n    Ref 2337\n\ncommit a5c0408ae52c26afcca6298ebf6188a04b2aafe9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 17:30:01 2016 +0200\n\n    Make the display color converter of the dualcolor button get updated.\n\n    This enables the the display color converter on the internal color selector too.\n    There are still update and range bugs, the range bugs being tricky and the update bugs being probably due wrong signal being connect, but I am pretty pleased with this.\n\n    Ref T2337\n\ncommit ca0a03338f47890197c65d3f47d46c0b28327505\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 15:09:59 2016 +0200\n\n    Add HSI and HSY support to the visual color selector.\n\n    This was mostly an experiment, which was succesful in proving to me that\n    the HSL and HSV functions have issues with non-chromatic values. HSY and HSI are more notably slow, so kept HSL as the RGB default.\n\n    Ref T2337\n\ncommit b7a45b003986014da93a05d7f0b88fade41183ce\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 15:08:45 2016 +0200\n\n    Clamp normalised values before pouring into pixel.\n\n    This should prevent roll-overs, but it doesn't fix the bug I was initially trying to fix, which instead seems to be a bugged HSL function.\n\n    Ref 2337\n\ncommit db436ad7efffe95790be93a182254331df03b197\nMerge: 00b8d54 a819895\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Aug 16 12:22:54 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 00b8d54f9fafcb07b2571faff9b1bf0d533006ae\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 15 21:33:40 2016 +0200\n\n    Attempt to further add displayconverter integration...\n\n    I can't get much further here due the inability for kodualcolorbutton\n    to have a display renderer, due MVC. Fun times...\n\n    Ref T2337\n\ncommit 0eee33995a4c1535d5388007dc51d4586ccbe15f\nMerge: 0c201bc d07cdb6\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 15 17:05:50 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 0c201bc0b79c2e328f79c26ac1b624990cfbc7a5\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 15 17:04:54 2016 +0200\n\n    Initial implementation displayrenderer\n\n    Will need to change it now...\n\ncommit 9c39f81cc1f21a23d33b5714fecd57f1c90f846e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 15 15:25:22 2016 +0200\n\n    Fix rounding-error wiggles.\n\n    By not allowing the thing to update it self...\n\n    Ref T2337\n\ncommit c52ca3f46c8bfd5d53385f84a17d1869e3ae403f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 15 14:42:22 2016 +0200\n\n    Make moving the cursor around more pleasant\n\n    Ref T2337\n\ncommit 5f1619768e77354adfd60d54d63def27fce280da\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Aug 15 13:23:00 2016 +0200\n\n    Fix order of Hue, make single-dimension-cursors nicer.\n\n    Ref 2337\n\ncommit 692d4d261de781aaf6901b984639eeedcc1ad967\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 14 19:28:34 2016 +0200\n\n    Fix order-error.\n\n    Ref 2337\n\ncommit 9acd7f1558a323957cb336061e747da73c1a809c\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 14 18:19:32 2016 +0200\n\n    Fix HSL and HSV\n\n    Of course, using HSL and HSV brings back our friend the 'wigglyness', so I'll need to do something about that in time.\n\n    Ref T2337\n    Ref T2438\n\ncommit 31931e3a522e4f58735b17b4547c4719b2cfe6d6\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Aug 14 17:38:32 2016 +0200\n\n    Add visual selector shapes.\n\n    These now work fully for the channels. They give nice squares.\n    I made a base class that only deals with the events and the classes, and added a rectangular subclass. This way we can make our circles and wheels and whatever easily.\n\n    Ref T2337\n    Ref T2438\n\ncommit e3f78b79cd77c7e1b1fdaf0b59f1780cc9380628\nMerge: 273dd04 ebc8a43\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 13 15:01:25 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 273dd04a1cd989c10642294d26b8a776df665bf0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 13 14:57:12 2016 +0200\n\n    Add screen color picking widget.\n\n    This is a widget with a button that allows you to select anywhere on the screen. It's not smart enough yet to recognise Krita windows and canvases and to select the color managed value, but it is a nice self contained widget, which I find pretty impressive already.\n\n    Ref T2337, T2838\n\ncommit ea086782934840da5fea9f58eb0cbd1572f3a327\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 10 23:41:49 2016 +0200\n\n    Give spinboxes names, fix order spinboxes, do cleanup.\n\n    Ref T2337 T2438\n\ncommit 37d1a1cc9f201213c77b896401ce022281c5d02e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 10 16:46:57 2016 +0200\n\n    Change spinboxes to numerical spinboxes.\n\n    Ref T2337\n\ncommit 99feb3b812322c2d926d33a7437e6aab66723d93\nMerge: 6f18c4c 92c253a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 10 16:09:58 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 6f18c4c3272a8b5a7eb85febee6b304a18a99553\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Aug 10 16:05:58 2016 +0200\n\n    Make internal color selector dialog possible to do modal mode.\n\n    So right now, KoDualColorButton has Non-modal mode on the foreground color and modal mode on the background color.\n\n    Also contains a lot of cleanup, the UI files for example now working\n    properly.\n\n    Ref T2337 T2438\n\ncommit fbdce997fd703106a33ea4918a39e0db42f9f983\nMerge: 3839839 6530b6d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 6 12:47:42 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 38398393973fb993ae0644ba777c5214ba63a2a0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 6 12:42:37 2016 +0200\n\n    Remove signal compressor, use block signals instead.\n\n    This makes the updating of the spinboxes much easier. Might\n    be using this method more commonly.\n\n    Ref T2337, T2438\n\ncommit 55350f021cb559ffe823fa5a1d8d170684a494ba\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sat Aug 6 01:16:17 2016 +0200\n\n    Move KoDualColorButton, attach internal color selector.\n\n    It doesn't crash, it updates, gets updated, can select colors, wide gamut colors, changes configuration based\n    on selected color's color space... It still needs to be cleaned up and have fluid updating. Also 90% of the rest of\n    the selector, but I first want to get this updating slot signal mess clean.\n\n    Can I keep using QObject::sender()? It's making my life very easy.\n\n    Auditors: rempt\n    Ref T2337, T2438\n\ncommit 6d336838602b0ad25ebb35ed17d118b6ed38f588\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jul 28 18:04:40 2016 +0200\n\n    Add very simple 'colorselection' dialog with a widget containing spinboxes.\n\n    Right now the spinbox widget is able to adapt itself to all colorspaces, and having it\n    as a separate widget makes it into a nice building block for other uses too.\n\n    I can't actually connect this to anything, because all our color buttons seem to be K and Ko,\n    so that will be the big task tomorrow...\n\n    Ref: T2337, T2438\n    Auditors: rempt\n\ncommit 7ce94758d0e459a86fd2eb9f75066322a78e98aa\nMerge: 38c4fc3 9ed50d1\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jul 27 22:21:40 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 38c4fc32021af778b9446a05502c885087bc0ff2\nMerge: 5477611 e308ed0\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 28 17:46:16 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 54776118b78a3f32b408de25f9c7b3532630b5df\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 28 17:43:20 2016 +0200\n\n    Add rant why per-shot looks won't work after wasting afternoon on it.\n\n    The tl;dr is that OCIO's documentation is extremely vague.\n\n    Ref T2337\n\ncommit a3b224b6958db0c31a2df4ba47d19d87bf9f9833\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Jun 24 13:16:01 2016 +0200\n\n    Fix loading of default gamut warning color.\n\n    Always set the color space of the kocolor, kids.\n\n    ref T2337\n\ncommit 652405d3acd67d4e87d788d0b77fb67768a5cc3b\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Jun 24 12:54:17 2016 +0200\n\n    Add adaptation state slider.\n\n    This allows you to set whether or not to adapt the white point, that is,\n    to set the white point to the screen white(full slider) or to convert all whiteson screen to the white point of the profile when using absolute colorimetric\n    as intent.\n\n    This is useful to simulate paper-colour.\n\n    Ref T2337\n\ncommit aea525ca6dc10b6867153da52fcf215a80adc0ba\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Fri Jun 24 10:32:37 2016 +0200\n\n    Fix builds on gcc 6\n\ncommit 67f4e5a21f873f5a3d08d3bb90250cb5b5806e2b\nMerge: 519f9c1 159a612\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 22:00:22 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 519f9c1fbe43edd6922b0cc5ef4ed85f17fd6dfc\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 19:49:56 2016 +0200\n\n    Add option to set default Proofing Options.\n\n    These will work for images with no proofing options, so, old loaded images\n    and new images. With this it is feature complete, and people can start testing.\n\n    Ref T2337\n    Ref T1238\n\ncommit 062db74d24fb7e656e8a06cbddde560ab03166b6\nMerge: 2e057e7 7625539\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 15:16:54 2016 +0200\n\n    Merge branch 'master' into krita-testing-wolthera\n\ncommit 2e057e7a5339c3e3657fef562bbe716c672805b4\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 15:15:24 2016 +0200\n\n    Clean up all the debug messages.\n\n    It's... quieter in the terminal now.\n\n    Ref T2337\n\ncommit 7ff7e60b5f423cdbeaa4089d8a6e7b2cd33129ca\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 15:01:02 2016 +0200\n\n    Cleanup: Make projection color a defined tag.\n\ncommit 604efc8ddb21d38ad8a040b19ac7fa33cfe2e8d9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:50:20 2016 +0200\n\n    Not sure if this isn't the correct code instead...\n\n    Ref T2337\n\ncommit 7c669703ff0c7fdf755d8070537c339bbcb02533\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:42:04 2016 +0200\n\n    Load embedded proofing profiles if they exist, and add them to the profile registery.\n\n    Needs testing for obvious reasons.\n\n    Ref T2337\n\ncommit 119906b23bf0e1a3b8acfaf5828cdfcbaa92e77d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:27:07 2016 +0200\n\n    Add embedding of the proofing profile.\n\n    This is so that we can later unembed them.\n\n    Ref T2337\n\ncommit 9ef1dad773605e32d7018ccf7a90c1817d430d89\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 14:15:47 2016 +0200\n\n    Load Warning Colors properly from file.\n\n    Now the out of gamut warning can be written into file as XML\n    and loaded from file as XML.\n\n    Ref T2337\n\ncommit 6a57cf08fb170e4d32341ede0f3733be3ab1f37e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 13:49:49 2016 +0200\n\n    Fix naming conventions.\n\n    I was using gamut warnings/alarms, and softproofing and soft proofing.\n\n    The standard is (Out of )Gamut Warnings and Soft Proofing.\n\n    Ref T2337\n\ncommit 4faa8b574da039d9dc86f099841bb901495e19a9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 23 13:37:49 2016 +0200\n\n    Disable softproofing in floating point spaces.\n\n    There's a bunch of little niggling bugs that crop up when soft proofing\n    in floating point spaces, amongst which the inability of the proofing\n    mechanism to see floating point values higher than 1.0 fall outside of\n    the gamut of the color space, let alone recognising whether it can go\n    inside the gamut of the proofing space.\n\n    See also http://ninedegreesbelow.com/bug-reports/soft-proofing-problems.html\n\n    For now, it's best to disable softproofing on floating point spaces.\n    Might need a more official check, though.\n\n    Ref 2337\n\ncommit 91d7da8c41c4200729e87f98269fdf011422bb07\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 16:26:52 2016 +0200\n\n    Make views smart enough to track softproof/gamutcheck-state.\n\n    Also add a floating message to say when the softproofing or gamutcheck\n    is turned on in the view. Wording may change.\n\n    Ref T2337\n\ncommit 5c48dd2c12e37ff0a75e098368449d260ff524bc\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 16:26:35 2016 +0200\n\n    Fix Build\n\ncommit 6bacfcda6005622669a3f4a47da59a759838797c\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 14:45:52 2016 +0200\n\n    Add attempt at saving color to xml.\n\n    This fails due to me not being able to load the xml, due object-bonanza.\n\n    ref T2337\n\ncommit 3bbf025b32ae53ff4601f188901541fcb80f63a7\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 22 12:49:06 2016 +0200\n\n    Intitial saving/loading of config.[unstable]\n\n    Works, but might change later.\n\ncommit 1f733e28cb7f87fb4bea5a14159e86c5a5dd852f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 21 20:21:15 2016 +0200\n\n    Refactor the proofing transform system for better caching.\n\n    This now makes the transform separately from the actual transforming,\n    which means it's easier to cache and to update. Softproofing is now\n    gone from usable to user-friendly.\n\n    Still needs saving/loading and little setting-bugs fixed.\n\n    ref T2337\n\ncommit 8371c4179b1a8025e727528c5b7ce09ee3562ec9\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 21 18:20:48 2016 +0200\n\n    Enable Gamut color and proofing intent.\n\n    The image now stored proofing intent, and the monitor intent is the general\n    rendering intent.\n\n    This also allows us to set the gamut warning color, however, for updating\n    you currently need to switch profiles as well. I'll make a seperate\n    generateSoftProofingTransform function, to cache the transform better, so it's\n    easier to update.\n\n    Ref 2337\n\ncommit 9d9ce38079c60ed04a63a2985a9c5ecb08652626\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 21 14:18:05 2016 +0200\n\n    Add softproofing section to image properties menu.\n\n    Now, the proofing in the image can be changed.\n\n    Also fixes that ugly little square problem with the kocoloractionpopup button.\n\n    Ref T1238, T2337\n\ncommit 8d7b4418e798978ed5e4c9fbb28509e7b9e098d4\nMerge: e2ee9ff d58645e\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 16 13:28:24 2016 +0200\n\n    Merge remote-tracking branch 'origin/master' into krita-testing-wolthera\n\ncommit e2ee9ff5774c80ebb72c02bc02d8ce7a79ace72f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 15:56:50 2016 +0200\n\n    Cache the transform unelegantly.\n\n    This does cause a significant speed-up, but it's a bit fiddly.\n    Regardless, the speed-up is enough to make this usable.\n\ncommit f643fc7bc2deb9317b6b7ef299f9d76a0c4e2160\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 14:49:16 2016 +0200\n\n    Fix softproofing\n\n    It's slow again :/\n\ncommit cbc91c076310188456980563e3c061ca1a47147f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 12:45:43 2016 +0200\n\n    Fix setting softproofing and gamutcheck flags.\n\ncommit 9ae336ed94207bab7885010720647814c9648e9d\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Tue Jun 14 12:44:50 2016 +0200\n\n    Cache the color space engine to make it faster\n\n    It doesn't fix everything, but it fixes quite a bit.\n    Ref T210\n\ncommit d43589016b35ea85943c55ff244e83e6bc5cd15a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Mon Jun 13 17:59:18 2016 +0200\n\n    Add base implementation softproofing with toggles.\n\n    It doesn't really work yet :/\n\n    Ref: T210\n    Ref: T2337\n\ncommit 7de0256960a6021591217ea3935dba1b39143b58\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sun Jun 12 16:10:31 2016 +0200\n\n    Create the proofing transform\n\n    This doesn't use the caching graph stuff, which is too complex\n    to refactor for now.\n\ncommit 00efd627af23f28555aa33a78a18fdd133934cf3\nAuthor: Boudewijn Rempt <boud@valdyas.org>\nDate:   Sun Jun 12 16:10:05 2016 +0200\n\n    Add a per-image proofing settings class\n\ncommit d3bd5375b304dfea9282a9ad581130c7ddf8200a\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Sun Jun 12 14:44:50 2016 +0200\n\n    Push work-in-progress proofing\n\ncommit bb97947abc29f76913924de9f1d2cb4a2762cf80\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 9 16:42:18 2016 +0200\n\n    Fix copy-paste error\n\ncommit 9ed934a8206ea1e11077f9332252b465c0899d1f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Thu Jun 9 16:30:09 2016 +0200\n\n    Add OCIO Look support.\n\n    The code is based of that of Blender, as I couldn't figure out how else to\n    apply looks. The OCIO api wasn't clear about it, nor could I find much information,\n    but it somewhat works and doesn't crash.\n\n    Auditors: rempt, dkazakov\n    Ref: T210\n\ncommit 2819ad66554f33e229729f8d86eb11a01413f23f\nAuthor: Wolthera van Hovell tot Westerflier <griffinvalley@gmail.com>\nDate:   Wed Jun 8 12:21:25 2016 +0200\n\n    Add softproofing to the lcms conversion tests\n\n    I am not fully sure if I understand the softproofing function, but the alarm works."}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Rename the internal color selector dialog to reflect it being a dialog"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Fix screencolor picker label.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Fix color conversion issues with the selector.\n\nNow the selector will show grayscale on a mask, and will update upon changing the image color space.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Simplify Gradient Map filter and make it usable as a filter layer.\n\nThere's some awkwardness with the first two generic gradients as the color isn't stored, but this is good for now.\n\nFixes T1837"}}, {"color": "FFFF0000", "data": {"message": "Simplify Gradient Map filter and make it usable as a filter layer.\n\nThere's some awkwardness with the first two generic gradients as the color isn't stored, but this is good for now.\n\nFixes T1837"}}, {"color": "FFFF0000", "data": {"message": "Port the last areas to use the KisColorButton as far as possible.\n\nThere's still the grid docker, which has a bit of a UI problem, and then rest is flake and friends.\n\nRef T2438"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Uncheck by default, not disable.\n\nWe don't want to remove the whole ability to embed profiles. Whoops :)\n\nCCBUG:367832"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into krita-testing-wolthera"}}, {"color": "FFFF0000", "data": {"message": "Uncheck 'embed profile' by default.\n\nIt seems we cannot rely on Firefox and ColorD to manage sRGB images as sRGB images with a regular bog-standard sRGB profile. This is shown previously by an experiment with a PNG that has an sRGB chunk, and a png that has a sRGB profile looking exactly as distorted in Firefox. It is a pity that we have to encourage our users not to embed sRGB profile, but as long as something as simple as showing an sRGB image as an sRGB image(which yes, dear commit message reader, is the same as doing exactly nothing with it) is too complicated for other programs, it cannot be helped.\n\nCCBUG:367832"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix loading the swatch names in aco files.\n\nSomehow, aco files are written twice into the file, once for v1, once for v2.\nSo we need to try and skip v1 to start loading the v2, and with that, the palette filenames.\n\nDifferential Revision: https://phabricator.kde.org/D3144"}}, {"color": "FFFF0000", "data": {"message": "Polish the comments in the new blending modes."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring' into wolthera/ora-support"}}, {"color": "FFFF0000", "data": {"message": "Also save the new blending modes to ora correctly."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into wolthera/ora-support"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into wolthera/ora-support"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into wolthera/ora-support"}}, {"color": "FFFF0000", "data": {"message": "Make transparency in the gradient map filter work a little better.\n\nThis way we keep the transparency from the gradient as well."}}, {"color": "FFFF0000", "data": {"message": "Prevent half-painted dots where they don't belong."}}, {"color": "FFFF0000", "data": {"message": "Make haltone filter respect transparency as well"}}, {"color": "FFFF0000", "data": {"message": "Be mindful of the transparency when doing the halftone filter.\n\nRef T3718"}}, {"color": "FFFF0000", "data": {"message": "Save the current color to the config and make the pop-up palette use the color from the resource provider.\n\nThis means that the fore and background color will be remembered between Krita sessions, and solves a usability issue with the pop-up palette reverting to a linear color.\n\nAuditors: rempt"}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring' into rempt/T4121-improve-palette-format"}}, {"color": "FFFF0000", "data": {"message": "Add swatchbooker format parsing.\n\npatch by L. E. Segovia. Thanks!\nDifferential Revision: https://phabricator.kde.org/D3267"}}, {"color": "FFFF0000", "data": {"message": "Make KoColorSetWidget seperate the groups visually.\n\nMaybe this needs a bit better design than QGroup. Not sure.\n\nRef T112"}}, {"color": "FFFF0000", "data": {"message": "Load the bitdepth tag from the proper element.\n\nThis fixes half of the issue of the floating point spaces. The other half will probably need to be solved with a wrapper function for normalised channels.\n\nRef T4488"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring' into rempt/T4121-improve-palette-format"}}, {"color": "FFFF0000", "data": {"message": "BUG372053 Force color-to-alpha selector to work normally.\n\nPushed in 3.1 first because impex got broken."}}, {"color": "FFFF0000", "data": {"message": "Add group support to KoColorSet and KPL.\n\nThis allows users to make groups for their colors, useful when dealing with multiple characters, or just specialised color palettes.\nRight now, these groups cannot be made from the UI yet, but they can be loaded and the palette docker will prepend the group name to the swatch name.\n\nDifferential Revision:https://phabricator.kde.org/D3254\nRef: T112, T4121"}}, {"color": "FFFF0000", "data": {"message": "Remove private name, use koresource name instead."}}, {"color": "FFFF0000", "data": {"message": "Fix two compare typoes and make aco load rgb in srgb."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring' into rempt/T4121-improve-palette-format"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/T4121-improve-palette-format"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/T4121-improve-palette-format"}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/T4121-improve-palette-format"}}, {"color": "FFFF0000", "data": {"message": "Fix warning"}}, {"color": "FFFF0000", "data": {"message": "Cleanup, make sure KoColorSets copy proper."}}, {"color": "FFFF0000", "data": {"message": "remove 'remove' fuction... nothing uses it anymore."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/T4121-improve-palette-format"}}, {"color": "FFFF0000", "data": {"message": "Fix a bug where a forced reload caused doubles."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into rempt/T4121-improve-palette-format"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "[FEATURE]: new palette format! (Merge of palette-branch)\n\nThis commit merges the changes we did to the palette resource object in the improved palette format branch. It includes...\n- A new zip-based file format.\n - This file format can hold high-bit depth colors, and supports all the colors that Krita can process.\n - It also has support for palette groups, though the groups can not be edited inside Krita yet.\n - Support for metadata like ID, name, and whether it is a spotcolor.\n- Support for loading sbz, the swatchbooker format(courtesy of L. E. Segovia/Amyspark)\n\nWith this, we can start on a nice docker for palette mangling with all sorts of new goodies :)\n\nCCMAIL:kimageshop@kde.org\nFixes T4121\nDifferential Revision: https://phabricator.kde.org/D4719\nDifferential Revision: https://phabricator.kde.org/D3254"}}]}]}, {"angle": 0.021, "label": "Luigi Toscano", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "Fix syntax error in Messages.sh"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix appdata: add missing <name/> tag\n\nWithout the <name/> tag, the validation fails even in relaxed\nmode."}}]}]}, {"angle": 0.021, "label": "Thorsten Zachmann", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix compile"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' of ssh://git.kde.org/krita"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'zachmann-vc1-port'"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Add Layer thumbnail on the timeline on hover\n\nIt also fixes the tooltip used for e.g. the brush to show the brush in\nthe tooltip.\nAdditionally it is possible to show the tooltip by pressing the middle\nbutton.\n\nCloses T3499 Layer thumbnail on the timeline on hover"}}]}]}, {"angle": 0.021, "label": "Jouni Pentik\u00e4inen", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Refactor node parameter out of KisKeyframeChannel constructor"}}, {"color": "FFFF0000", "data": {"message": "Fix keyframe unit tests (mostly)"}}, {"color": "FFFF0000", "data": {"message": "Make keyframe channels aware of current animation time (through KisDefaultBounds)"}}, {"color": "FFFF0000", "data": {"message": "Move keyframing related functions from KisNode to KisBaseNode"}}, {"color": "FFFF0000", "data": {"message": "Implement animation for filter and adjustment layer selections"}}, {"color": "FFFF0000", "data": {"message": "Implement animation for mask pixel selection"}}, {"color": "FFFF0000", "data": {"message": "Refactor loading of keyframes\n\nThe loading order is now slightly different. Instead of loading all keyframe data \nin one pass before loading the binary data, both are done in the same pass.\nThe change is needed for implementing keyframing for masks, where the\nselection paint devices (and thus the keyframe channels) are not created \nuntil the binary data loading pass."}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Add option to convert a group into an animated layer\n\nCCBUG: 360052"}}, {"color": "FFFF0000", "data": {"message": "Gray out sliders for disabled onion skins"}}, {"color": "FFFF0000", "data": {"message": "Implement selection for animation curve view"}}, {"color": "FFFF0000", "data": {"message": "Refactor common code of timeline and animation curve models to KisTimeBasedItemModel"}}, {"color": "FFFF0000", "data": {"message": "Add animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Add option to convert a group into an animated layer\n\nCCBUG: 360052"}}, {"color": "FFFF0000", "data": {"message": "Update timeline to show keyframes from all channels"}}, {"color": "FFFF0000", "data": {"message": "Save and load animated transforms"}}, {"color": "FFFF0000", "data": {"message": "Add keyframing for transform masks (experimental, wip)"}}, {"color": "FFFF0000", "data": {"message": "Refactoring in preparation for keyframing transform masks"}}, {"color": "FFFF0000", "data": {"message": "Refactor KisKeyframeChannel for clarity and extensibility"}}, {"color": "FFFF0000", "data": {"message": "Refactor keyframe information to be stored in KisKeyframe subclasses"}}, {"color": "FFFF0000", "data": {"message": "Fix caching of interpolated frames"}}, {"color": "FFFF0000", "data": {"message": "Save and load keyframe interpolation parameters"}}, {"color": "FFFF0000", "data": {"message": "Use interpolation for opacity keyframes"}}, {"color": "FFFF0000", "data": {"message": "Implement interpolation for KisScalarKeyframeChannel"}}, {"color": "FFFF0000", "data": {"message": "Gray out sliders for disabled onion skins"}}, {"color": "FFFF0000", "data": {"message": "Reduce unnecessary frame caching\n\n- Do not invalidate frame cache when making a selection\n- Ignore hidden layers when calculating the time range of a cached frame"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into animation-pentikainen"}}, {"color": "FFFF0000", "data": {"message": "Fix canvas not updating when opacity keyframes change"}}, {"color": "FFFF0000", "data": {"message": "Fix onion skin buildup"}}, {"color": "FFFF0000", "data": {"message": "Provide sane defaults to global onion skin settings"}}, {"color": "FFFF0000", "data": {"message": "Fix onion skin buildup"}}, {"color": "FFFF0000", "data": {"message": "Provide sane defaults to global onion skin settings"}}, {"color": "FFFF0000", "data": {"message": "Update animation docker to support opacity keyframes"}}, {"color": "FFFF0000", "data": {"message": "Implement keyframing for layer opacity"}}, {"color": "FFFF0000", "data": {"message": "Refactor keyframe channel creation\n\nThe method getKeyframeChannel now also optionally creates the requested\nchannel. The \"content\" channel is no longer created by enableAnimation(), but\nneeds to be requested separately. This is to allow different channels to be \ncreated independently."}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Implement scrolling for animation curves"}}, {"color": "FFFF0000", "data": {"message": "Fix crash after closing and reopening an image"}}, {"color": "FFFF0000", "data": {"message": "Implement interpolation modes on animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Separate keyframe interpolation mode from tangent mode"}}, {"color": "FFFF0000", "data": {"message": "Fix missing UI updates in animation curve docker"}}, {"color": "FFFF0000", "data": {"message": "Fix keyframe value adjustment on animation curve docker"}}, {"color": "FFFF0000", "data": {"message": "Add channel list to the animation curve docker"}}, {"color": "FFFF0000", "data": {"message": "Implement adjusting animation curve tangents"}}, {"color": "FFFF0000", "data": {"message": "Implement moving keyframes on the animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Implement preview for moving keyframes on the animation curves view"}}, {"color": "FFFF0000", "data": {"message": "Refactor animation curve rendering"}}, {"color": "FFFF0000", "data": {"message": "Fix incorrect offset when loading first frame\n\nWhen loading the first frame, the keyframe channel and paint device are in an\ninconsistent state for a brief moment between removing and re-inserting the\nonly key. Applying the offset using paintDevice::move(QPoint) would affect\nthe wrong object (m_data).\n\nBUG: 364942"}}, {"color": "FFFF0000", "data": {"message": "Fix incorrect offset when loading first frame\n\nWhen loading the first frame, the keyframe channel and paint device are in an\ninconsistent state for a brief moment between removing and re-inserting the \nonly key. Applying the offset using paintDevice::move(QPoint) would affect\nthe wrong object (m_data).\n\nBUG: 364942"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Implement panning by drag in animation curve editor"}}, {"color": "FFFF0000", "data": {"message": "Implement add and remove keyframe buttons on animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Display numbers on vertical axis in animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Implement zooming for animation curves"}}, {"color": "FFFF0000", "data": {"message": "Refactor timeline zooming code for reusability"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix crash when copying a frame to time 0\n\nBUG: 369335"}}, {"color": "FFFF0000", "data": {"message": "Fix number misalignment in animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Extensions to animation features (GSoC)\n\nSummary:\nNew features:\n- Keyframing support for layer opacity, content in filter layer, fill layer, transparency mask and filter mask\n- Interpolation for opacity keyframes\n- Animation curves docker\n- Color labels for keyframes\n- Filtering by keyframe color for onion skins\n- Initial code for animating and interpolating transformation masks (disabled for now)\n\nRef T1101\nRef T146\n\nReviewers: #krita, timotheegiet\n\nReviewed By: #krita, timotheegiet\n\nSubscribers: timotheegiet, woltherav\n\nManiphest Tasks: T146, T1101\n\nDifferential Revision: https://phabricator.kde.org/D2801"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into animation-pentikainen\n\nConflicts:\n\tkrita/pics/svg/svg-icons.qrc\n\tlibs/image/kis_base_node.h\n\tlibs/image/kis_image_config.cpp\n\tlibs/image/kis_image_config.h\n\tlibs/ui/KisDocument.cpp\n\tplugins/dockers/animation/onion_skins_docker.ui"}}, {"color": "FFFF0000", "data": {"message": "Disable keyframe creation for local selections"}}, {"color": "FFFF0000", "data": {"message": "Fix filter button location in onion skin docker"}}, {"color": "FFFF0000", "data": {"message": "Fix layer opacity slider not updating with animated opacity"}}, {"color": "FFFF0000", "data": {"message": "Disable keyframe creation for transform masks"}}, {"color": "FFFF0000", "data": {"message": "Add zoom-to-fit button on animation curves docker"}}, {"color": "FFFF0000", "data": {"message": "Only show relevant tangents for in animation curve editor\n\nTangents are now hidden on segments which are not in Bezier curve mode.\nAlso, tangents are restricted to the appropriate side of their keyframe."}}, {"color": "FFFF0000", "data": {"message": "Fix crash when adding first opacity keyframe"}}, {"color": "FFFF0000", "data": {"message": "Fix crash on playback\n\nBUG: 368165"}}, {"color": "FFFF0000", "data": {"message": "Fix build"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into animation-pentikainen\n\nConflicts:\n\tkrita/krita.xmlgui\n\tlibs/image/kis_image_config.cpp\n\tlibs/image/kis_image_config.h\n\tlibs/ui/kis_layer_manager.cc\n\tplugins/dockers/animation/wdg_animation.ui"}}, {"color": "FFFF0000", "data": {"message": "Implement color label filtering for onion skins"}}, {"color": "FFFF0000", "data": {"message": "Use last selected color label for new frames"}}, {"color": "FFFF0000", "data": {"message": "Add color labels to keyframes"}}, {"color": "FFFF0000", "data": {"message": "Refactor transform mask keyframing"}}, {"color": "FFFF0000", "data": {"message": "Use shared pointers for keyframes in signals"}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix sharing keyframe data when duplicating animated layers\n\nBUG: 372695"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix removing color label from multiple frames\n\nBUG: 374746"}}, {"color": "FFFF0000", "data": {"message": "Remove failing, unnecessary assert"}}, {"color": "FFFF0000", "data": {"message": "Fix rendering a sequence of one animation frame"}}, {"color": "FFFF0000", "data": {"message": "Fix saving animations\n\nCast into KisRasterKeyframeChannel in KisRasterKeyframe::cloneFor\nfailed as it is called from KisKeyframeChannel constructor.\n(Even though the channel will be a raster channel)"}}, {"color": "FFFF0000", "data": {"message": "Use copy constructors when duplicating keyframes\n\nThis helps to ensure that all related data (such as color label)\nwill be copied.\n\nBUG:376553"}}]}]}, {"angle": 0.021, "label": "Nicholas LaPointe", "windows": [{"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix PgUp/PgDn on layer stack\n\nSwitch the activation flags for activateNextLayer and activatePreviousLayer from KisAction::ACTIVE_LAYER to KisAction::ACTIVE_NODE.\nACTIVE_LAYER makes these actions only activate on nodes that inherit from KisLayer, which results in incorrect behavior when the active node is a mask.\n\nBUG: 369443\nDifferential Revision: https://phabricator.kde.org/D3010"}}, {"color": "FFFF0000", "data": {"message": "Fix bug 369882 (\"Brush property Color: Mix doesnt work right with the default colorspace in 16 Bits\")\n\nm_cachedBackGroundColor, which is used for mixing, is only set to the actual background color when m_color.colorSpace() != m_foreGroundColor.colorSpace(). In the case of the bug, the colorspaces are equal.\n\nBUG: 369882\nDifferential Revision: https://phabricator.kde.org/D2947"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Add hotkey to toggle between the two most recently selected layers\n\nAlthough this generally seems to work fine, I have noticed two minor problems that I'm not sure how to solve:\n* Using the hotkey after reordering layers will cause the wrong layer to be selected. This is because activateNodeImpl() gets called when a layer is moved around in the stack.\n* Bug 373741 (\"Drawing while switching between layers with PgUp/PgDown results in a layer acting like it's in a locked group\") applies and is easier to reproduce (at step 2, hold the hotkey instead of alternating page-up and page-down).\n\nDifferential Revision: https://phabricator.kde.org/D3750\nRef T1734"}}, {"color": "FFFF0000", "data": {"message": "Fix displayed color space name for 16-bit float XYZ\n\n16-bit float XYZ was reporting \"XYZ (32-bit float/channel)\""}}, {"color": "FFFF0000", "data": {"message": "Fix crash when attempting to use a document that has a 16-bit float XYZ color space\n\nXyzF16ColorSpace::colorDepthId() would return Float32BitsColorDepthID. This caused Krita to segfault when you created a document using the XYZ color model with 16-bit float depth.\nIt was possible to convert a layer to use the same properties, but an assertion would fail when trying to reopen it.\n\nDifferential Revision: https://phabricator.kde.org/D3752"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Remove remnants of PACKAGERS_BUILD option\n\nAfter the option was removed in a46bc0f05f8b2ee10878ea1a1e88e312c93b3ca8, Krita would segfault at startup for me. This patch fixes that and removes other references to PACKAGERS_BUILD.\n\nDifferential Revision: https://phabricator.kde.org/D4327"}}, {"color": "FFFF0000", "data": {"message": "Include alpha channel in user-visible color space names"}}, {"color": "FFFF0000", "data": {"message": "Get user-visible color space names from KoColorModelStandardIds"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix build"}}]}]}, {"angle": 0.021, "label": "L\u00e1szl\u00f3 Fazekas", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "clear existing keyframe with the Blank Frame button of the Animation Docker\n\nD1480 Diff 3614"}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Switch off \"canvas only\" mode before closing the main window\n\nD2237 Diff 5364 (corrected by dkazakov)"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "bug 367774: csv format doesn't export\n\nthe name of the png directory now comes from the doc->localFilePath() instead of the passed\nfilename. The filename is a tmp file in the newer versions and it caused a wrong directory placement."}}, {"color": "FFFF0000", "data": {"message": "Support for TVPaint's new CSV 1.1 format\n\nonly for reading. The format has a new #Folder row which sets absolute paths for the pictures of each layers.\nI think this solution is weaker than the old one, so I added only read support."}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "patch D2822: mouse wheel support for the animation timeline"}}]}, {"position": 11, "molecules": [{"color": "FFFF0000", "data": {"message": "bug 375878 - Eraser will not switch back to brush after turning Wacom pen back around\nAdditional correction to solve this bug"}}]}]}, {"angle": 0.021, "label": "Scott Petrovic", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "fix the hue range when using colorize option on the HSV filter. it was getting set ok originally, but then later was set incorrectly in another function."}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "make paste to simple source dialog more clear and have an option to remember the selection. reference T3001"}}, {"color": "FFFF0000", "data": {"message": "give mirrors tools a better name"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'petrovic-mirrorToolUpdates'\n\nBUG:323264 - hide mirror line\nBUG:363327 - move line to center of image\nBUG:363335 - lock the mirror tool"}}, {"color": "FFFF0000", "data": {"message": "remove unneeded pointer initializer"}}, {"color": "FFFF0000", "data": {"message": "clean up extra function that I do not think we need. Also add a little extra space for the icons and re-arrange the menu items to what I think is the most important"}}, {"color": "FFFF0000", "data": {"message": "make the move to center canvas work on the mirror tool options"}}, {"color": "FFFF0000", "data": {"message": "debug line--"}}, {"color": "FFFF0000", "data": {"message": "BUG323264 add option to hide the symmetry line"}}, {"color": "FFFF0000", "data": {"message": "Optimize the patterns and a brush PNG files. This reduces their total file size by about 7MB."}}, {"color": "FFFF0000", "data": {"message": "hook up lock option so it removes the grab tool"}}, {"color": "FFFF0000", "data": {"message": "add UI elements for the X and Y mirror tool options"}}, {"color": "FFFF0000", "data": {"message": "Optimize the patterns and a brush PNG files. This reduces their total file size by about 7MB."}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG: 361653 Prevent the preview assistant signal from firing twice"}}, {"color": "FFFF0000", "data": {"message": "make paste to simple source dialog more clear and have an option to remember the selection. reference T3001"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "add the decoration back for the horizontal and mirror tools"}}, {"color": "FFFF0000", "data": {"message": "update the boost version numbers in windows instructions"}}, {"color": "FFFF0000", "data": {"message": "BUG:367537 fix 3_texture PNG file so it shows transparency. It was set to sRGB and I changed it to RGB"}}, {"color": "FFFF0000", "data": {"message": "order the bit depths correctly for color spaces"}}, {"color": "FFFF0000", "data": {"message": "condense and group together layer context menu a bit better"}}, {"color": "FFFF0000", "data": {"message": "condense layers main menu"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "add a direction indicator so we know where the presets start, and what direction they populate in. also draw another circle path on the outside so it is more clear what the canvas rotation handle does"}}, {"color": "FFFF0000", "data": {"message": "make sure we refresh the canvas when rotating"}}, {"color": "FFFF0000", "data": {"message": "add a rotation reset button to easily get back to zero degrees"}}, {"color": "FFFF0000", "data": {"message": "hook up zoom slider to popup palette and make sure it is synced"}}, {"color": "FFFF0000", "data": {"message": "add connection for zooming. also add a fix for a rotation variable that was giving a seg fault"}}, {"color": "FFFF0000", "data": {"message": "convert buttons on the bottom to icons and start adding a slider for zooming"}}, {"color": "FFFF0000", "data": {"message": "add a dial on the outside of the popup palette that controls the canvas rotation"}}, {"color": "FFFF0000", "data": {"message": "remove references to the popupcolortriangle class as it is not used any more"}}, {"color": "FFFF0000", "data": {"message": "swap out the math declration variables for regular member variables. Also make the variable names a bit more descriptive on what they reference"}}, {"color": "FFFF0000", "data": {"message": "clean up defines as they are rarely used. Changed the name of widgetSize since it only controls a portion of what is displayed on the pop up palette widget"}}, {"color": "FFFF0000", "data": {"message": "add more comments explaning what is going on to the popup palette. Also do a bit of cleanup and give variables more descriptive names since this area is a bit complex"}}, {"color": "FFFF0000", "data": {"message": "use the widgetSize variable to set all of the dimensions for the pop-up palette. mixing the widgetSize variable and the height and width of the widget makes it difficult to work with. Added a layout to the pop-palette and added hooked up a few buttons."}}, {"color": "FFFF0000", "data": {"message": "BUG:369308 show the links on the about us"}}, {"color": "FFFF0000", "data": {"message": "BUG:369308 show the links on the about us"}}, {"color": "FFFF0000", "data": {"message": "always show the version number on the splash page"}}, {"color": "FFFF0000", "data": {"message": "always show the version number on the splash page"}}, {"color": "FFFF0000", "data": {"message": "start to add action managers to pop-up palette class and attach mirror canvas button"}}, {"color": "FFFF0000", "data": {"message": "fix order of variables to prevent the wreorder warnings"}}, {"color": "FFFF0000", "data": {"message": "disable snapping when on isometric grid mode for now"}}, {"color": "FFFF0000", "data": {"message": "fixed the spacing so it is calculated perpendicular to the angle. Updated the angle ranges so you can create oblique perspective"}}, {"color": "FFFF0000", "data": {"message": "BUG:369308 hide the links and recent files until we are done loading the main window. also add a bit of margin to the close button so it does not collide with the bottom right of the window"}}, {"color": "FFFF0000", "data": {"message": "fix up the UI so it flows better and changes states better. Also get offset working show style lines for isometric"}}, {"color": "FFFF0000", "data": {"message": "updated and hooked up the rest of the GUI. Added the ability to change grid modes"}}, {"color": "FFFF0000", "data": {"message": "add another angle decoration to make it isometric. add a couple more properties to the config and gui. need to style up the GUI better now and do some clean up"}}, {"color": "FFFF0000", "data": {"message": "added basic logic for how angled grids will work along with an option on the tool options. Need to develop it a bit more, but the idea is basically working"}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/rempt/impex-refactoring' into petrovic/impex-brush-editor-ui"}}, {"color": "FFFF0000", "data": {"message": "add an All option that clears the engine filter to show all presets"}}, {"color": "FFFF0000", "data": {"message": "make brush engine drop-down sortable"}}, {"color": "FFFF0000", "data": {"message": "move all of the brush editor buttons to the left side. keep the current brush name on the left."}}, {"color": "FFFF0000", "data": {"message": "add a label for the currently selected brush at top"}}, {"color": "FFFF0000", "data": {"message": "fix up the alignmen a bit on the predefined presets widget. also update the auto-spacing widget so the checkbox aligns better with the left edge"}}, {"color": "FFFF0000", "data": {"message": "add asterisk to preset names if they are in a tweaked state. This should help in a details view if the icon is smaller"}}, {"color": "FFFF0000", "data": {"message": "tell the toolbar to change the icon to the active brush engine"}}, {"color": "FFFF0000", "data": {"message": "add connection back that got lost in the merge. this hooks up changing the brush engine icon to the toolbar"}}, {"color": "FFFF0000", "data": {"message": "brush editor needs to be attached by default"}}, {"color": "FFFF0000", "data": {"message": "merge rempt/impex-refactoring branch"}}, {"color": "FFFF0000", "data": {"message": "make settings list have a minimum width to prevent cutting off the names"}}, {"color": "FFFF0000", "data": {"message": "remove a couple signal I forgot"}}, {"color": "FFFF0000", "data": {"message": "give the name field in the brush editor more space"}}, {"color": "FFFF0000", "data": {"message": "remove the detach window references as it seems to be creating issues"}}, {"color": "FFFF0000", "data": {"message": "remove references for pinning window in the brush editor. It seems to be creating too many issues with setting window types and focusing."}}, {"color": "FFFF0000", "data": {"message": "remove old setting that was hiding the presets strip area"}}, {"color": "FFFF0000", "data": {"message": "prevent rulers from flashing on and off when a new document is created"}}, {"color": "FFFF0000", "data": {"message": "prevent rulers from flashing on and off when a new document is created"}}, {"color": "FFFF0000", "data": {"message": "move the toggle buttons to the top of the brush editor and add one to show or hide the presets list"}}, {"color": "FFFF0000", "data": {"message": "make the length option on the fade sensor have more sensible values. also let people know the units are in pixels"}}, {"color": "FFFF0000", "data": {"message": "update duration setting on time sensor to make the range more usable"}}, {"color": "FFFF0000", "data": {"message": "remove ability to hide the preset chooser in the brush editor. This might need a bit of discussion"}}, {"color": "FFFF0000", "data": {"message": "hide the brush editor if the application loses focus. also give the brush editor window a title to make its purpose a little more clear"}}, {"color": "FFFF0000", "data": {"message": "tweak the layout a bit with extra padding and condensed the show buttons a bit"}}, {"color": "FFFF0000", "data": {"message": "add label for softness for autobrush and add an icon for theme changing"}}, {"color": "FFFF0000", "data": {"message": "clean up the predefined brush tip area a bit and get it more organized"}}, {"color": "FFFF0000", "data": {"message": "display what type of brush tip is loaded"}}, {"color": "FFFF0000", "data": {"message": "first pass at moving all of the predefined brush editor settings to the UI file"}}, {"color": "FFFF0000", "data": {"message": "add a Ui form file for the predefined brush presets. need to port everything over still"}}, {"color": "FFFF0000", "data": {"message": "add horizontal icon slider to brush engine view options"}}, {"color": "FFFF0000", "data": {"message": "save the brush icon siz to the config"}}, {"color": "FFFF0000", "data": {"message": "fix selection area when changing preset to details view"}}, {"color": "FFFF0000", "data": {"message": "add slider to view options to control the icon size"}}, {"color": "FFFF0000", "data": {"message": "remove my custom filter thing since the presets selector already has it built-in. Turned it on"}}, {"color": "FFFF0000", "data": {"message": "BUG:357796 use the depth to make the brush editor appear/hide more consistently"}}, {"color": "FFFF0000", "data": {"message": "BUG:357796 fix having to double click to bring up brush editor when it is detached"}}, {"color": "FFFF0000", "data": {"message": "update m_brushChooser reference that was not updated"}}, {"color": "FFFF0000", "data": {"message": "update KisBrushChooser class to be a bit more descriptive of what it is for"}}, {"color": "FFFF0000", "data": {"message": "added comment about Qt bug with detaching"}}, {"color": "FFFF0000", "data": {"message": "change show buttons to highlight buttons so it is easier to see their state"}}, {"color": "FFFF0000", "data": {"message": "add ability to pin the brush editor window so it stays on top when detached. Also load visible states from config for scratchpad and detached state"}}, {"color": "FFFF0000", "data": {"message": "added back buttons for showing scratchpad and detaching brush editor. Also added a new button for hiding the brush editor settings"}}, {"color": "FFFF0000", "data": {"message": "starting to hook up a filter text box for the presets. Refactored a bit of code so it is easier to access the paintOpId."}}, {"color": "FFFF0000", "data": {"message": "add view switcher to change between detail and thumbnail view"}}, {"color": "FFFF0000", "data": {"message": "update UI a bit so it closer to normal looking"}}, {"color": "FFFF0000", "data": {"message": "remove remaining references to old paintop selector and remove from UI"}}, {"color": "FFFF0000", "data": {"message": "first pass with some updates. moved the brush engines to a drop-down list. Modified the preset selector strip to show a details view. Update some of the connections so changing brushes work with the drop-down. still needs a lot of work"}}, {"color": "FFFF0000", "data": {"message": "hide snap to assistants options if it is disabled"}}, {"color": "FFFF0000", "data": {"message": "update brush smoothing UI a bit to make it more clear"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring' into petrovic/popup-palette-ui"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into petrovic/popup-palette-ui"}}, {"color": "FFFF0000", "data": {"message": "hide the preset direction indicator on the popup palette"}}, {"color": "FFFF0000", "data": {"message": "hook up multihand tool options to UI file widget"}}, {"color": "FFFF0000", "data": {"message": "create UI file for multihand tool options and hook up skeleton"}}, {"color": "FFFF0000", "data": {"message": "make preset start appearing at the top and populate clockwise. move indicator"}}, {"color": "FFFF0000", "data": {"message": "polish the splash screen layout a bit"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'rempt/impex-refactoring' into petrovic/grid-angle"}}, {"color": "FFFF0000", "data": {"message": "fix variable name in splash image path"}}, {"color": "FFFF0000", "data": {"message": "update splash image to new logo and larger artwork"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "make the performance logging data more clear"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/rempt/impex-refactoring' into petrovic/impex-brush-editor-ui"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "remove a couple broken signals and slots. not sure why I added them."}}, {"color": "FFFF0000", "data": {"message": "update a couple of signals so the resource selecting works better"}}, {"color": "FFFF0000", "data": {"message": "separate selecting presets in the brush editor with the engine filter"}}, {"color": "FFFF0000", "data": {"message": "update progress dialog for rendering image sequences to show what frames are being worked on"}}, {"color": "FFFF0000", "data": {"message": "update verbiage for naming prefix to explain better what it is changing"}}, {"color": "FFFF0000", "data": {"message": "swap out the lock icon for the one we use on layers"}}, {"color": "FFFF0000", "data": {"message": "make the lock icon more transparent if a setting is not locked"}}, {"color": "FFFF0000", "data": {"message": "remove unused animation export function"}}, {"color": "FFFF0000", "data": {"message": "remove zindex properties for UI file that were causing compiler warnings"}}, {"color": "FFFF0000", "data": {"message": "updated the UI on Render Animation so the options change by export type"}}]}, {"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "fix typo with slot name"}}, {"color": "FFFF0000", "data": {"message": "make the color as mask enabled by default for the stamp and clipboard. this is used 90 percent of the time"}}, {"color": "FFFF0000", "data": {"message": "debug--"}}, {"color": "FFFF0000", "data": {"message": "update a few template icons"}}, {"color": "FFFF0000", "data": {"message": "template icons now have dark and light versions that switch depending on the theme like other icons"}}, {"color": "FFFF0000", "data": {"message": "reduce the size of the icons on the left part of the new dialog. they are not that important"}}, {"color": "FFFF0000", "data": {"message": "make the create new and create from clipboard icons use a more monochromatic icon like everything else"}}, {"color": "FFFF0000", "data": {"message": "add display name for animation templates"}}, {"color": "FFFF0000", "data": {"message": "we need the .directory files for naming the templates. let us add these to source control"}}, {"color": "FFFF0000", "data": {"message": "fix grabbing the image when creating a stamp brush"}}, {"color": "FFFF0000", "data": {"message": "make the pattern docker able to be a bit smaller height wise"}}, {"color": "FFFF0000", "data": {"message": "remove zorder property that qtcreator added"}}, {"color": "FFFF0000", "data": {"message": "make all the image properties areas tabs so it is not so tall"}}, {"color": "FFFF0000", "data": {"message": "add a bit more spacing to the resource manager so the fields do not run together"}}, {"color": "FFFF0000", "data": {"message": "make sure slider is in the right position when the 100 percent zoom button is pressed"}}, {"color": "FFFF0000", "data": {"message": "show what brush engine our currently selected preset is part of"}}, {"color": "FFFF0000", "data": {"message": "fix build with typo fix"}}, {"color": "FFFF0000", "data": {"message": "move the favoriteCompositeOps setting to the top. It was previously under the Theme grouping"}}, {"color": "FFFF0000", "data": {"message": "make setting up the environmental variables a step before running cmake. The order was causing a bit of confusion."}}, {"color": "FFFF0000", "data": {"message": "make default anchor size slightly bigger so it is easier to grab onto"}}]}]}, {"angle": 0.021, "label": "Dimitar Dimitrov", "windows": [{"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Proper change of color space and profile for image through \"Image properties\" dialog\n\nBUGS: 322444\nDifferential Revision: https://phabricator.kde.org/D4328"}}]}]}, {"angle": 0.021, "label": "L. E. Segovia", "windows": [{"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix CMYK colorspace palette loading\n\nThis patch is for the remainder of T4488\n\nDifferential Revision: https://phabricator.kde.org/D3629"}}]}]}, {"angle": 0.021, "label": "Joseph-Eugene Winzer", "windows": [{"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix glLogicOp by using QOpenGLFunctions_3_0 instead of GLES2 + WGL\n\nSummary:\nI did some tests and it seems Linux is not affected by this bug.\nFor Nvidia it seems to break with driver 375.63+. (tested 368.81 - 378.49)\nFor AMD I couldn't find a driver it would run correctly. (tested 13.251, 15.200)\nFor Intel, this is my main computer running linux and I would rather not mess with its configurations too much..\nUnfortunately I don't have a mac so I couldn't do any testing for it.\n\nI suspect the bug to be driver related and tried to debug wglgetProcAddress or rather the ICD implementation DrvGetProcAddress (nvoglv64.dll) once I ruled out invalid context, the possibility of wglMakeCurrent grabbing the wrong context, init failure, ... It is rather strange that only glLogicOp and none of the sync functions seem to be affected.\nFirst I came to a different conclusion so some material I gathered as proof become worthless but for some trivia, here some disassembly (https://gist.github.com/Joefish/c300ebac0cb579334838927d8cad26ba)\n\nThe patch uses QOpenGLFunctions_3_0 to obtain an object pointer to supported GL functions instead of GLES2 compatible QOpenGLFunction + extension loading.\nAccording to Steam, Krita needs \"Modern (since 2009) graphics / Intel HD\" so GL3.2 sounds like a reasonable target, even for macs (in my opinion). It would also give a clear support target (instead of GLES2 + extensions), make many checks obsolete and in this case also circumvent a bug by just getting an offset table to the desired function subset. I think to remember than QPainter depends on deprecated GL functions and that's why 3.2core can't be set by default but Nimmy's opengl branch he already uses GL3.2Core (Core probably for compatiblity with OSX) like commit dd32d5e421a4a357e268bd2dbb8b679b6ddd2699\nSo, according to KisOpenGL::setDefaultFormat 3.0 is fine and once the way is free for 3.2 we can bump it up.\n\nTest Plan:\n* Krita built with patch applied on Linux/Windows\n* Open an image and see if the brush outline is XOR'd accordingly\n\nReviewers: Nim, dkazakov\n\nReviewed By: Nim, dkazakov\n\nSubscribers: dkazakov\n\nDifferential Revision: https://phabricator.kde.org/D4506"}}]}]}, {"angle": 0.021, "label": "Raphael Cojocaru", "windows": [{"position": 10, "molecules": [{"color": "FFFF0000", "data": {"message": "Solved the \"Title of document tab/subwindow is not updated after changing document title\" bug\n\nSummary: The issue was that when the current document title\nwas changed (by using Document Information dialog for example),\nits name shown in the files tab remained the same, without\nbeing updated. I searched for the method which should update\nthe document name and called it.\n\nBUG:374389\n\nReviewers: #krita, dkazakov\nDifferential Revision: https://phabricator.kde.org/D4462"}}]}]}, {"angle": 0.021, "label": "Nikita Vertikov", "windows": [{"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Show layer color labels in the timeline\n\nFixes: T3500\nDifferential Revision: https://phabricator.kde.org/D4022"}}]}]}, {"angle": 0.021, "label": "Kevin Funk", "windows": [{"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Make compile with -fno-operator-names"}}]}]}, {"angle": 0.021, "label": "Alvin Wong", "windows": [{"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Enable DEP and HEASLR for mingw-w64 build\n\nEnable DEP (NX) and high-entropy ASLR by default for the mingw-w64 build.\nThese flags increases the security of the executables.\n\nThis doesn't affect the 3rdparty dependencies therefore they won't have\nHEASLR enabled automatically.\n\nReferences: T3917, D3207"}}, {"color": "FFFF0000", "data": {"message": "Add notes in 3rdparty readme on DrMingw"}}, {"color": "FFFF0000", "data": {"message": "BUG:369547 Fix stabilizer jumping bug"}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix bent stabilizer finishing line segment\n\nCCBUG: 369349\nManiphest Tasks: T4182"}}, {"color": "FFFF0000", "data": {"message": "Work around low framerate of stabilizer\n\nWork around low framerate of stabilizer by delaying and painting the\nstroke progressively.\n\nThe `KisStabilizerDelayedPaintHelper` class collects the sampled events\nand distributes them evenly with a timestamp attached, then a timer firing\nat a closer interval would paint the line bit by bit in order to give a\nsmoother user feedback.\n\nThe config option `stabilizerDelayedPaintInterval` with default value `20`\ncontrols the paint interval. The delayed painting is disabled if this\nvalue is higher than `stabilizerSampleSize`, which means it is disabled by\ndefault on non-Windows system.\n\nBUG: 369349\nManiphest Tasks: T4182\nDifferential Revision: https://phabricator.kde.org/D3321"}}, {"color": "FFFF0000", "data": {"message": "Remove unused stuff in KisStabilizedEventsSampler\n\nDifferential Revision: https://phabricator.kde.org/D3346"}}, {"color": "FFFF0000", "data": {"message": "Fix bent stabilizer finishing line segment\n\nCCBUG: 369349\nManiphest Tasks: T4182"}}, {"color": "FFFF0000", "data": {"message": "Work around low framerate of stabilizer\n\nWork around low framerate of stabilizer by delaying and painting the\nstroke progressively.\n\nThe `KisStabilizerDelayedPaintHelper` class collects the sampled events\nand distributes them evenly with a timestamp attached, then a timer firing\nat a closer interval would paint the line bit by bit in order to give a\nsmoother user feedback.\n\nThe config option `stabilizerDelayedPaintInterval` with default value `20`\ncontrols the paint interval. The delayed painting is disabled if this\nvalue is higher than `stabilizerSampleSize`, which means it is disabled by\ndefault on non-Windows system.\n\nBUG: 369349\nManiphest Tasks: T4182\nDifferential Revision: https://phabricator.kde.org/D3321"}}, {"color": "FFFF0000", "data": {"message": "Remove unused stuff in KisStabilizedEventsSampler\n\nDifferential Revision: https://phabricator.kde.org/D3346"}}, {"color": "FFFF0000", "data": {"message": "Enable DEP and HEASLR for mingw-w64 build\n\nEnable DEP (NX) and high-entropy ASLR by default for the mingw-w64 build.\nThese flags increases the security of the executables.\n\nThis doesn't affect the 3rdparty dependencies therefore they won't have\nHEASLR enabled automatically.\n\nReferences: T3917, D3207"}}]}, {"position": 9, "molecules": [{"color": "FFFF0000", "data": {"message": "Update Windows compiler in 3rdparty/README.md\n\nManiphest Tasks: T5042"}}, {"color": "FFFF0000", "data": {"message": "Remove `ALWAYS 0` \"option\" to ExternalProject_Add\n\nIt is actually not an available option; and thanks to how ExternalProject\nis parsing the options, the `UPDATE_COMMAND \"\"` option that is often\nconveniently placed immediately before that would cause CMake to always\nrebuild the external project.\n\nRemoving them should stop most unnecessary rebuilds."}}, {"color": "FFFF0000", "data": {"message": "Allow setting EP_PREFIX in 3rdparty\n\nSome 3rdparty external projects (Qt specificly is troublesome) might\nencounter errors related to paths being too long. This commit allows a\nshorter prefix to be used by external projects to work around the issue."}}]}]}, {"angle": 0.021, "label": "Sven Langkamp", "windows": [{"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Directly connect toolmanager to mainwindow for the tool options widgets\nFixes the initialisation of the option widget docker/popup\n\nBUG:364022"}}, {"color": "FFFF0000", "data": {"message": "Fix preset layout after tag change and hide the scrollbar in the preset strip"}}, {"color": "FFFF0000", "data": {"message": "Directly connect toolmanager to mainwindow for the tool options widgets\nFixes the initialisation of the option widget docker/popup\n\nBUG:364022"}}, {"color": "FFFF0000", "data": {"message": "Fix preset layout after tag change and hide the scrollbar in the preset strip"}}, {"color": "FFFF0000", "data": {"message": "Save visibility status of the statusbar\nBUG:338931"}}, {"color": "FFFF0000", "data": {"message": "Save visibility status of the statusbar\nBUG:338931"}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix converting single layer to paint layers. It was doing a flatten, but flatten abourts if there is only one layer.\nBUG:365660"}}, {"color": "FFFF0000", "data": {"message": "Set default save format to .kra instead of random .exr\n\nBUG:366102"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Don't remove the automatically generated gradients\nBUG:366741"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when the Iconwidget tries to display an already deleted resource\nBased on patch by Bruno P. Kinoshita\n\nCCBUG:366741"}}, {"color": "FFFF0000", "data": {"message": "Pick color from canvas directly if the cursor is over the canvas"}}, {"color": "FFFF0000", "data": {"message": "Also use flatten if the layer has childs when doing convert to paint layer"}}, {"color": "FFFF0000", "data": {"message": "Fix convert layer to Paint layer logic. If it's a group layer or a layer with layer styles, flatten is used"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'langkamp/stopgradienteditor'"}}, {"color": "FFFF0000", "data": {"message": "Port stop based gradient editor to KisColorButton"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into langkamp/stopgradienteditor"}}, {"color": "FFFF0000", "data": {"message": "Intial implementation of the stop based gradient editor\nRef T120"}}]}, {"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Pass also the real filename to the filters, Fixes QML export which uses it for it's image folder"}}]}]}, {"angle": 0.021, "label": "Alexander Potashev", "windows": [{"position": 8, "molecules": [{"color": "FFFF0000", "data": {"message": "Import kundo2_aware_xgettext.sh from calligra.git repo\n\nReviewers: dkazakov, rempt\n\nReviewed By: rempt\n\nDifferential Revision: https://phabricator.kde.org/D3645"}}]}]}, {"angle": 0.021, "label": "Frederik Gladhorn", "windows": [{"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix crashes in krita-paintop-EmbeddedPatternManagerTest\n\nKisSharedPtr proudly points out that it doesn't have an explicit\nconstructor. Maybe that's not so great though: the implicit conversion\nto smart pointers means that suddenly objects on the stack get\nimplicitly passed to a shared pointer and are definitively double\ndeleted.\n\nThe test still fails, only the double delete has been fixed."}}, {"color": "FFFF0000", "data": {"message": "Add option to enable broken tests\n\nMaking it easy to run all tests hopefully leads to more people fixing\nthem."}}, {"color": "FFFF0000", "data": {"message": "Print list of broken tests in one go\n\nThese used to be randomly in the middle of the configure output, now\nthey are moved together to be printed in the beginning."}}, {"color": "FFFF0000", "data": {"message": "cmake: do not explicitly specify LINK_INTERFACE_LIBRARIES\n\nSummary:\ncmake finds out about dependencies. Don't second guess it, there's no\nreason to do so. The LINK_INTERFACE_LIBRARIES property is deprecated.\n\nIf anyone can explain why this is there, then it should stay, but if nobody knows,\nthen I'd strongly suspect it's just there for no good reason.\n\nReviewers: #krita\n\nDifferential Revision: https://phabricator.kde.org/D3199"}}, {"color": "FFFF0000", "data": {"message": "cmake: Add enable_testing\n\nThis creates the test target so that make test can be run."}}, {"color": "FFFF0000", "data": {"message": "Remove outdated comment"}}, {"color": "FFFF0000", "data": {"message": "KisDoubleParseSpinBox: lastExprParsed can be a value type\n\nUsing it as pointer is more dangerous than helpful. QString is implicitly shared."}}, {"color": "FFFF0000", "data": {"message": "Minor cmake cleanup"}}, {"color": "FFFF0000", "data": {"message": "Remove attempt to add -Wno-switch\n\nThis is dead code and luckily there is no case 1001 any more."}}, {"color": "FFFF0000", "data": {"message": "Remove dead cmake code: GenerateTestExportHeader"}}, {"color": "FFFF0000", "data": {"message": "Make sure not to add empty mime types when importing/exporting\n\nWhen building with assertions this crashes since empty strings are not\naccepted. The native kra import/export plugins only have one of the\ntypes set though, so they would add an empty mime for the opposite\ndirection (import vs export)."}}, {"color": "FFFF0000", "data": {"message": "Clean up KisTIFFOptionsWidget"}}, {"color": "FFFF0000", "data": {"message": "Do not add superfluous include directories globally"}}, {"color": "FFFF0000", "data": {"message": "Do not crash after showing KisTIFFOptionsWidget\n\nNeither of the two private variables was used or initiated, thus the\ndelete was always going to be a segfault.\n\nBUG: 371788"}}, {"color": "FFFF0000", "data": {"message": "Remove install command for file that doesn't exist\n\nBefore the calligra product removal, this was protected by an ifdef\nwhich would never be true."}}, {"color": "FFFF0000", "data": {"message": "Remove complex Calligra product system\n\nSummary:\nThis made sense for the office suite, currently it's just added\ncomplexity without benefit.\n\nAfter this change, all parts of Krita will be built, is there a neccessity\nto disable for example the vectorimage support?\n\nReviewers: #krita\n\nDifferential Revision: https://phabricator.kde.org/D3182"}}, {"color": "FFFF0000", "data": {"message": "Fix ecm_mark_as_test - it takes a target not sources"}}, {"color": "FFFF0000", "data": {"message": "Add feature info: display cmake feature status during configure step"}}, {"color": "FFFF0000", "data": {"message": "cmake: Clean X11 and QtX11Extras detection\n\nQt5X11Extras is already required a few lines above.\nXinput would fail the build if it's not found below. That in turn means\nwe need X11 as well. When getting rid of X11 dependencies for Wayland\nand friends it will be easier to start with this simple set of rules."}}, {"color": "FFFF0000", "data": {"message": "cmake: Simplify HAVE_XCB"}}, {"color": "FFFF0000", "data": {"message": "cmake: remove unused variable being set"}}, {"color": "FFFF0000", "data": {"message": "cmake: remove MacroLibrary"}}, {"color": "FFFF0000", "data": {"message": "cmake: remove MacroAdditionalCleanFiles"}}, {"color": "FFFF0000", "data": {"message": "cmake: move Find files to cmake/modules"}}, {"color": "FFFF0000", "data": {"message": "cmake: Remove MacroEnsureVersion"}}, {"color": "FFFF0000", "data": {"message": "cmake: Remove MacroLogFeature"}}, {"color": "FFFF0000", "data": {"message": "cmake: Remove unused MacroOptionalAddSubdirectory\n\nIf needed, there is ecm_optional_add_subdirectory."}}, {"color": "FFFF0000", "data": {"message": "cmake: remove MacroOptionalFindPackage\n\nThis macro is no longer needed:\nStarting with CMake 2.8.6, every find_package() call which is not\nREQUIRED can be disabled by setting the variable\nCMAKE_DISABLE_FIND_PACKAGE_<PackageName> to TRUE\n\nSee also:\nhttps://techbase.kde.org/ECM5/IncompatibleChangesKDELibs4ToECM#MacroOptionalFindPackage.cmake"}}, {"color": "FFFF0000", "data": {"message": "cmake: use cmake-extra-modules for Unit Tests\n\nSummary:\nThis actually makes it less boiler plate heavy.\nIt also fixes a few small issues with the tests, three tests were\npreviously forgotten and have been re-added.\n\nWith the custom krita_add_broken_unit_test the same functionallty is\npreserved that was there before in the fork of the kde4 macro.\nThis is a step towards reducing the amount of custom cmake code that\nKrita drags around and will make the build system easier.\n\nThanks to the new macros, the total amount of redundant macro code is\nreduced and we lose a bit over 1000 lines of useless boilerplate.\n\nThe total test count goes up by three.\n\nThe flake tests had their data in the source path, which is unlike any\nother tests and were relying on some old defines. They have been adapted\nto behave like any other test.\n\nReviewers: #krita\n\nSubscribers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D3167"}}, {"color": "FFFF0000", "data": {"message": "cmake: Remove noise"}}, {"color": "FFFF0000", "data": {"message": "Port macro_log_feature to modern cmake\n\nSince cmake 2.8.6 there is a built in macro to collect feature\ninformation and display a summary.\nIt's actually more readable with the keywords in set_package_properties.\nLet's slowly move away from the kde4 stuff."}}, {"color": "FFFF0000", "data": {"message": "CMake: Be consistent about set and append"}}, {"color": "FFFF0000", "data": {"message": "Install mime type icons correctly\n\nSummary:\nMime type icons were not installed before and cmake was complaining.\nNow it's consistent with the application icons and the new way\naccordingn to the ecm documentation.\nThis is the right way for Linux, and it should at least not make it worse\nfor the other platforms.\n\nReviewers: #krita\n\nDifferential Revision: https://phabricator.kde.org/D3173"}}, {"color": "FFFF0000", "data": {"message": "Move mime icon installation to sensible place in CMakeLists.txt\n\nThis would now install the icons if they were actually in the right\nplace. For now it will just not work since the app icons and the mime\ntype ones are organized differently."}}, {"color": "FFFF0000", "data": {"message": "Find Vc in /usr/lib\n\nThis makes it possible to find the library at least on debian."}}, {"color": "FFFF0000", "data": {"message": "Make ComboEventFilter a proper class\n\nEven if this is just a small helper, it's better to be consitent and\nkeep the encapsulation."}}, {"color": "FFFF0000", "data": {"message": "Use qobject_cast instead of dynamic_cast\n\nIt's faster and doesn't force rtti."}}, {"color": "FFFF0000", "data": {"message": "Prefer qEnvironmentVariableIsEmpty over qgetenv"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Make sure all enum values are covered in switch statements"}}, {"color": "FFFF0000", "data": {"message": "Protect from accessing uninitialized variable"}}, {"color": "FFFF0000", "data": {"message": "Clean up some lackluster spacing"}}, {"color": "FFFF0000", "data": {"message": "Small clarification"}}, {"color": "FFFF0000", "data": {"message": "Remove strange list check\n\nMy best guess is that the check was meant to be for !children().empty(),\nin which case it would try to optimize calling qDeleteAll away.\n\nThe check for at(0) would actually crash if the list was ever empty, so\nthe qDeleteAll must have been executed unconditionally before.\nHave less code and less potential for crashing."}}, {"color": "FFFF0000", "data": {"message": "Fix mentioning of KAuth -> KConfig"}}, {"color": "FFFF0000", "data": {"message": "Disable gcc warnings for xcf: suggest-attribute=format and sign-compare"}}, {"color": "FFFF0000", "data": {"message": "Disable gcc warning for gmic: misleading-indentation"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "KAuthorized::authorizeKAction -> authorizeAction\n\nSummary: Fix the deprecation warning.\n\nReviewers: #krita, rempt\n\nReviewed By: #krita, rempt\n\nDifferential Revision: https://phabricator.kde.org/D3153"}}, {"color": "FFFF0000", "data": {"message": "Fix sign-compare warning"}}, {"color": "FFFF0000", "data": {"message": "Add Q_UNUSED"}}, {"color": "FFFF0000", "data": {"message": "Implement Data copy ctor for KisStrokeJob::createLodClone for QPAINTER_PATH\n\nSummary:\nData::QPAINTER_PATH and Data::QPAINTER_PATH_FILL were not handled\nand would result in an invalid copy of Data.\n\nReviewers: #krita, rempt\n\nReviewed By: #krita, rempt\n\nDifferential Revision: https://phabricator.kde.org/D3147"}}, {"color": "FFFF0000", "data": {"message": "Improve readability"}}, {"color": "FFFF0000", "data": {"message": "Add Q_UNUSED to reduce warnings"}}, {"color": "FFFF0000", "data": {"message": "Fix typo"}}, {"color": "FFFF0000", "data": {"message": "Minor cleanup\n\nSome weird spacing, more importantly put an if statement on a new line."}}, {"color": "FFFF0000", "data": {"message": "Be consistent in switch statement: break also for the last case"}}, {"color": "FFFF0000", "data": {"message": "Add Q_UNUSED to reduce warnings"}}, {"color": "FFFF0000", "data": {"message": "Fix Vc deprecation warnings - use tie\n\nVc 1.0.0 deprecated the magic comma operator syntax. The minimum Vc\nversion according to the cmake is 1.1.0, so simply use the new version."}}, {"color": "FFFF0000", "data": {"message": "Add default to switch that doesn't handle all enum values\n\nWe only care about a few events, silence the warning that ~90 enum\nvalues are not handled by adding a default case."}}, {"color": "FFFF0000", "data": {"message": "Remove register keyword\n\nhttp://www.drdobbs.com/keywords-that-arent-or-comments-by-anoth/184403859\nSummary:\nThey keyword is deprecated, doesn't do anything in C++ and is\nincompatible with C++1z. When should I use it? Never."}}, {"color": "FFFF0000", "data": {"message": "Avoid detaching: use QByteArray::constData instead of data\n\nCalling data() is expensive since it detaches, creating a copy of the\ndata it points to."}}, {"color": "FFFF0000", "data": {"message": "Fix unused function warning: KoWmfFunc"}}, {"color": "FFFF0000", "data": {"message": "Fix constructor interpreted as function warning"}}, {"color": "FFFF0000", "data": {"message": "Fix unused parameter warning"}}, {"color": "FFFF0000", "data": {"message": "Add override keyboard to virtuals"}}, {"color": "FFFF0000", "data": {"message": "Remove deprecated unused function KoTriangleColorSelector::setQColor"}}, {"color": "FFFF0000", "data": {"message": "Fix dubious nullptr check\n\nSummary:\nThe check for listStyle indicates that the pointer can be null. In that\ncase the code below would access a nullptr.\nInstead of crashing skip the current element.\n\nReviewers: #krita, rempt\n\nReviewed By: #krita, rempt\n\nSubscribers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D3135"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variables"}}, {"color": "FFFF0000", "data": {"message": "Remove unused member variable"}}, {"color": "FFFF0000", "data": {"message": "Remove redundant parenthesis"}}, {"color": "FFFF0000", "data": {"message": "QString: prefer single .arg call and QStringLiteral"}}, {"color": "FFFF0000", "data": {"message": "QString::number instead of QString(%1).arg(i)"}}, {"color": "FFFF0000", "data": {"message": "Remove unused function"}}, {"color": "FFFF0000", "data": {"message": "Add missing override keyword"}}, {"color": "FFFF0000", "data": {"message": "struct/class mismatch"}}, {"color": "FFFF0000", "data": {"message": "Cleanup usage of empty strings\n\nThere is no need to explicitly initialize QString in constructurs.\nUsing \"\" for an empty string is actually less type safe and more costly\nthan using QString() which returns an empty shared null string, so it's\nalways preferable to signify empty QStrings that way."}}, {"color": "FFFF0000", "data": {"message": "Remove nonsensical QObject name"}}, {"color": "FFFF0000", "data": {"message": "Remove unused variables"}}, {"color": "FFFF0000", "data": {"message": "Remove repeated variable assignment"}}, {"color": "FFFF0000", "data": {"message": "Fix include guard (typo in ifdef/define)"}}, {"color": "FFFF0000", "data": {"message": "Use int as counter in for loops\n\nUsing float is dangerous due to potential rounding errors.\nLet the cast happen in the QPointF constructor which is safe."}}, {"color": "FFFF0000", "data": {"message": "Protect from out of bounds access\n\nCurrently some tests fail to find resources. Protect from accessing\nrServer->resources().first() in release builds in case there is no\nresource found (should not happen, since the actual release binary seems\nto find its resources) and assert for debug builds."}}, {"color": "FFFF0000", "data": {"message": "Fix warningn: #if __i386__ should use defined()"}}, {"color": "FFFF0000", "data": {"message": "Remove question about deleting scoped pointer\n\nThe purpose of the scoped pointer object is that it delets the pointer\nit's holding when it goes out of scope."}}, {"color": "FFFF0000", "data": {"message": "Remove unused variable"}}, {"color": "FFFF0000", "data": {"message": "Mark virtual with override\n\nThis is still weird, the same function is in the base class, but I guess\nit's OK to override the pure abstract function with the same."}}, {"color": "FFFF0000", "data": {"message": "Fix adding enum to string\n\nThe intent was to show the invalid number.\n\nwarning: adding 'Compression::CompressionType' to a string does not\nappend to the string [-Wstring-plus-int]"}}, {"color": "FFFF0000", "data": {"message": "Switch cmake CMP0002 NEW: no duplicate targets\n\nDuplicate target names are confusing, stay clear of them. Enabling this\nlead to discovery of a duplicate unit test."}}, {"color": "FFFF0000", "data": {"message": "Rename one TestKoColorSpaceRegistry to TestKoColorSpaceRegistryLcms\n\nMakes it easier to distinguish the two tests in tools and removes the\nlast duplicate target name."}}, {"color": "FFFF0000", "data": {"message": "Remove duplicate unit test\n\nThe test was listed twice."}}, {"color": "FFFF0000", "data": {"message": "Fix up previous merge commit"}}, {"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/master' into HEAD"}}, {"color": "FFFF0000", "data": {"message": "Add Q_UNUSED for unused parameters"}}, {"color": "FFFF0000", "data": {"message": "Fix macro define check"}}, {"color": "FFFF0000", "data": {"message": "Fix struct/class mismatch"}}, {"color": "FFFF0000", "data": {"message": "Remove unused member: WmfParser::mWinding"}}, {"color": "FFFF0000", "data": {"message": "Add override keyword to virtuals\n\nThis makes refactoring easier since the compiler detects renames."}}, {"color": "FFFF0000", "data": {"message": "Make KoDerivedResourceConverter::writeToSource safe for nullptr value as changed param\n\nOnly the first if was checking if changed is non-null, the code below dereferenced it unconditionally.\nThis wasn't a problem since the function was only called from one place,\nbut rather make it safe."}}, {"color": "FFFF0000", "data": {"message": "Remove unused member: KoRgbU8InvertColorTransformation::m_colorSpace"}}, {"color": "FFFF0000", "data": {"message": "Use QVariant::toInt() to set int member variable"}}, {"color": "FFFF0000", "data": {"message": "Minor cleanup of KisHSVAdjustment::transform\n\nSlight whitespace change: remove random empty lines a bit.\nMake sure that rgb are initialized in all branches (this his mostly\nhypothetical since type must be 0 to 4) and protect from calling the\nfunction with invalid conversion type."}}, {"color": "FFFF0000", "data": {"message": "Fix invalid zorder entries in .ui file\n\nFixes warnings:\n  Z-order assignment: '' is not a valid widget.\n  Z-order assignment: 'verticalSpacer_5' is not a valid widget."}}, {"color": "FFFF0000", "data": {"message": "Fix uic warning: duplicate name 'label'"}}, {"color": "FFFF0000", "data": {"message": "Remove dead code\n\nLocal variable was assigned to and never read from."}}, {"color": "FFFF0000", "data": {"message": "Be more consistent in usage of override keyword\n\nWhen a member function in a class uses override, all other functions\nthat override virtuals should follow. This makes refactoring easier\n(renaming the base class function for example will result in an error in\nthe derrived class).\nMost compilers have a warning for the use of override in only some\nfunctions. In order to reduce compiler warnings, add missing overrides.\n\nThe warnings look like:\nwarning: 'icon' overrides a member function but is not marked 'override'\n[-Winconsistent-missing-override]\n\nThis patch does not touch KisLayer::original() since that is actually\nweird:\nin KisBaseNode original is a virtual function (not pure) while in the\nderrived class it's declared as pure."}}, {"color": "FFFF0000", "data": {"message": "Fix initialization order (-Wreorder)\n\nReviewers: #krita, rempt\n\nReviewed By: #krita, rempt\n\nDifferential Revision: https://phabricator.kde.org/D3069"}}, {"color": "FFFF0000", "data": {"message": "Fix crash when Qt is built with assertions\n\nQt checks that applications return a consistent model index for\nindex(0,0). This has to work even for empty models. Krita would crash\nwith an out of bounds access for items.at in\nKisAnimationCurveChannelListModel::Private::itemForRow."}}, {"color": "FFFF0000", "data": {"message": "Fix deprecation warnings: QStyleOption*VX\n\nSummary: In Qt 5 these are typedefs for the real class.\n\nDifferential Revision: https://phabricator.kde.org/D3067"}}, {"color": "FFFF0000", "data": {"message": "Fix struct/class mis-match"}}, {"color": "FFFF0000", "data": {"message": "Remove unused private member: m_changeId\n\nLeft over from change tracking removal."}}]}, {"position": 7, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix unused variable warnings"}}, {"color": "FFFF0000", "data": {"message": "Fix race condition in KisMergeWalker::startTripWithMask\n\nSummary:\nThe parent pointer could become null right after the check.\nMaking it safe is easy, just hold on to the pointer for the duration\nof the function.\n\nReviewers: #krita\n\nDifferential Revision: https://phabricator.kde.org/D3388"}}, {"color": "FFFF0000", "data": {"message": "Prepare qobject_cast over dynamic_cast\n\nThis is a simple search and replace for KisLayer which is a QObject.\nqobject_cast doesn't require RTTI and is faster."}}, {"color": "FFFF0000", "data": {"message": "Fix unused variable warnings"}}, {"color": "FFFF0000", "data": {"message": "Fix race condition in KisMergeWalker::startTripWithMask\n\nSummary:\nThe parent pointer could become null right after the check.\nMaking it safe is easy, just hold on to the pointer for the duration\nof the function.\n\nReviewers: #krita\n\nDifferential Revision: https://phabricator.kde.org/D3388"}}, {"color": "FFFF0000", "data": {"message": "Prepare qobject_cast over dynamic_cast\n\nThis is a simple search and replace for KisLayer which is a QObject.\nqobject_cast doesn't require RTTI and is faster."}}, {"color": "FFFF0000", "data": {"message": "Manage private members of KisImage more in the pimpl class"}}, {"color": "FFFF0000", "data": {"message": "Use QScopedPointer for undoStore in KisImage\n\nThere is a clear ownership, but since the pointer can be changed, it\ncannot be stored on the stack."}}, {"color": "FFFF0000", "data": {"message": "KisBaseNode::Private - clean up ctor\n\nArranging the layout of the private class according to storage size\n(bools next to each other allows the compiler to potentially pack them\ntighter) and use initializers as much as possible."}}, {"color": "FFFF0000", "data": {"message": "Remove shared pointer to class that doesn't exist"}}, {"color": "FFFF0000", "data": {"message": "Partially revert \"Fix bad weak pointer usage\"\n\nThese changes are impacting the creation of images and show how fragile\nthe construction is. Inside the image constructor, weak pointers to the\nimage are created, without a single strong reference. When one of the\nweak pointers is converted to a strong ref, it will be the only\nreference, once that goes out of scope, the image is deleted, inside the\nconstructor. This means more thinking has to go into the whole ownership\nmodel, but for now get rid of the crash.\n\nThis partially reverts commit ac2868ad23b50b5e3196eb0d5d1302f5bb02c741."}}, {"color": "FFFF0000", "data": {"message": "Fix more bad weak pointer usage"}}, {"color": "FFFF0000", "data": {"message": "Remove unused local variable"}}, {"color": "FFFF0000", "data": {"message": "Fix bad weak pointer usage\n\nThe assumption is that weak pointers can become null at any point in\ntime. Only dereference after converting to a strong pointer."}}, {"color": "FFFF0000", "data": {"message": "Add toStrongRef to KisWeakPtr\n\nWeak pointers don't hold a strong reference, they may\nbecome nullptr at any time. To use them safely, they always have bo be\nconverted to a strong reference. Further commits can then slowly move\nover to users of weak pointers to first convert them to strong pointers\nand introduce a check for nullptr at the same time."}}, {"color": "FFFF0000", "data": {"message": "Prepare a bit for shared pointers with explicit constructors\n\nWhile the implicit conversion may be convenient, it is also quite\ndangerous. Let's try to move to explicit constructors."}}, {"color": "FFFF0000", "data": {"message": "Add missing reference to parameter"}}, {"color": "FFFF0000", "data": {"message": "Remove stray semicolon"}}, {"color": "FFFF0000", "data": {"message": "Fix a bunch of memory leaks in KisPopupPalette (+cleanup)\n\nSummary:\n- Reduce duplicate initializations (initializer lists are always\npreferable).\n\n- Initialize a few variables that were not initialized before\n(m_hovered_Preset, ...)\n\nAllocate QRect on the stack, heap allocations are expensive and were\nmostly leaked.\n\nReviewers: #krita, scottpetrovic\n\nSubscribers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D3266"}}, {"color": "FFFF0000", "data": {"message": "Use QScopedArrayPointer to make sure array gets deleted"}}, {"color": "FFFF0000", "data": {"message": "Unused variables, handle one, mark one as unused"}}, {"color": "FFFF0000", "data": {"message": "Fix potential crash in ShapeResizeStrategy::ShapeResizeStrategy\n\nThere is a check for shape being a nullptr. Just below it is code that\naccesses shape. Either the nullptr check is not needed or the code below would\ndereference it. Play it safe."}}, {"color": "FFFF0000", "data": {"message": "Rename variable for readability: shp->shape"}}, {"color": "FFFF0000", "data": {"message": "Make sure variables are initialized\n\nfindExtremes does not unconditionally set the variables,\nwhich may also be questionable. At least set them to 0 before, to make sure\nnot to end up with complete garbage."}}, {"color": "FFFF0000", "data": {"message": "Remove superfluous ifs\n\nThe input is created unconditionally, let's not try to deal with new\nfailing. Especially in the light that the pointer is dereferenced just\nthree lines above."}}, {"color": "FFFF0000", "data": {"message": "Return early instead of crashing in KisCanvasWidgetBase::drawDecorations\n\nThere was already an attempt to handle a bad state. It would crash\nunconditionally if that condition would ever be true. Return after the\nwarning instead."}}, {"color": "FFFF0000", "data": {"message": "Fix minor memory leak (in test)"}}, {"color": "FFFF0000", "data": {"message": "Do not use float as counter in for loops"}}, {"color": "FFFF0000", "data": {"message": "Fixup warning fix (clang detection was off)"}}, {"color": "FFFF0000", "data": {"message": "Fix initialization order (-Wreorder)"}}, {"color": "FFFF0000", "data": {"message": "Mark intentionally unused variable with Q_UNUSED"}}, {"color": "FFFF0000", "data": {"message": "Silence clang cast-align warning for gmic\n\nThere are so many of these warnings, that it's impossible to see other,\nmore important warnings. The alignment warning is troubling, but let's\nhope gmic knows what it's doing."}}, {"color": "FFFF0000", "data": {"message": "Forward declare KisView only once"}}, {"color": "FFFF0000", "data": {"message": "Remove empty protected section"}}, {"color": "FFFF0000", "data": {"message": "No return statement for void function needed\n\nWhile it doesn't hurt, it makes reading the code harder because it's\nunexpected."}}, {"color": "FFFF0000", "data": {"message": "Fix a few typos"}}]}]}, {"angle": 0.021, "label": "Julian Thijssen", "windows": [{"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Added documentation to kis_ruler_assistant_tool.cc"}}, {"color": "FFFF0000", "data": {"message": "Warning the user if checkerShader can't be bound"}}, {"color": "FFFF0000", "data": {"message": "Removed native painting, only using QPainter for the assistants"}}, {"color": "FFFF0000", "data": {"message": "Cleaned up painting assistant code"}}, {"color": "FFFF0000", "data": {"message": "Added vertex buffer objects to draw on the OpenGLCanvas"}}, {"color": "FFFF0000", "data": {"message": "Removed trace OpenGL format setting"}}, {"color": "FFFF0000", "data": {"message": "Set OpenGL3.2 Core Profile as the format on all platforms"}}, {"color": "FFFF0000", "data": {"message": "Rename supportsGLSL13 to hasOpenGL3 to reflect what it does"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Switch between GLSL versions 150 core and 130 for MacOS and others"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' of git://anongit.kde.org/krita"}}, {"color": "FFFF0000", "data": {"message": "Allow Level of Detail to function with OpenGL 3.0\n\nThis commit should be reverted once we move to 5.7"}}, {"color": "FFFF0000", "data": {"message": "Added legacy cursor shaders to resource file"}}, {"color": "FFFF0000", "data": {"message": "Patch Qt on OSX for fixing the opengl qpainter engine\n\nSummary:\nQT Changes:\nhttps://codereview.qt-project.org/#/c/166202\nhttps://bugreports.qt.io/browse/QTBUG-33535\n\nThis change allows a user to paint on a QOpenGLWidget with a QPainter,\nwhenever an OpenGL3+ Core Profile format is used or enforced (such as\non macOS).\n\n- Core Profile shaders add that use modern keywords (in, out, etc.).\n- Paint engine binds a single VAO and two VBOs.\n- Vertex and texture data is uploaded to VBO instead\n  of directly to the GPU.\n\nKrita Changes:\n- Request OpenGL 3.2 Core Profile\n- Draw our canvas using VAO's if possible\n- Homogenised shaders with appropriate versions\n- Shader loading happens outside of canvas\n- Duplicate shader loading code removed\n- Rename supportsGLSL13\n- Added Qt patch for ext_qt, see above\n\nReviewers: Krita Releases (Release works 3.0.2), dkazakov, rempt\n\nReviewed By: rempt\n\nDifferential Revision: https://phabricator.kde.org/D2755"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'nimmy/opengl-patch' of git://anongit.kde.org/krita into nimmy/opengl-patch"}}, {"color": "FFFF0000", "data": {"message": "Patch Qt on OSX for fixing the opengl qpainter engine\n\nSummary:\nQT Changes:\nhttps://codereview.qt-project.org/#/c/166202\nhttps://bugreports.qt.io/browse/QTBUG-33535\n\nThis change allows a user to paint on a QOpenGLWidget with a QPainter,\nwhenever an OpenGL3+ Core Profile format is used or enforced (such as\non macOS).\n\n- Core Profile shaders add that use modern keywords (in, out, etc.).\n- Paint engine binds a single VAO and two VBOs.\n- Vertex and texture data is uploaded to VBO instead\n  of directly to the GPU.\n\nKrita Changes:\n- Request OpenGL 3.2 Core Profile\n- Draw our canvas using VAO's if possible\n- Homogenised shaders with appropriate versions\n- Shader loading happens outside of canvas\n- Duplicate shader loading code removed\n- Rename supportsGLSL13\n- Added Qt patch for ext_qt, see above\n\nDifferential Revision: https://phabricator.kde.org/D2755"}}, {"color": "FFFF0000", "data": {"message": "Added legacy cursor shaders"}}, {"color": "FFFF0000", "data": {"message": "Added exception handling to loading display shader"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'master' into nimmy/opengl-patch"}}, {"color": "FFFF0000", "data": {"message": "Added documentation for KisOpenGLCanvas2"}}, {"color": "FFFF0000", "data": {"message": "Added documentation to KisOpenGLShaderLoader"}}, {"color": "FFFF0000", "data": {"message": "Replaced shader uniform access by enums instead of strings\n\nThis prevents misspelling the uniform name and having\nto do string comparisons on each uniform access."}}, {"color": "FFFF0000", "data": {"message": "Added exception handling for when shader compilation fails\n\nWe need some sort of exceptions here, because we can only\nshow a QMessageBox from a QWidget class, which the shader loader isn't."}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'nimmy/opengl-patch' of git://anongit.kde.org/krita into nimmy/opengl-patch"}}, {"color": "FFFF0000", "data": {"message": "Refactored shader system"}}, {"color": "FFFF0000", "data": {"message": "Gave function buildFragmentShader a more appropriate name"}}, {"color": "FFFF0000", "data": {"message": "Changed hasOpenGL3 check to also check for minor version\n\nWhen requesting a 2.1 profile and getting a 3.0 one, it should be\nconsidered legacy, not modern. It only becomes modern after 3.2."}}, {"color": "FFFF0000", "data": {"message": "Added both OpenGL 2.1 and 3.2 code paths in KisOpenGLCanvas2"}}, {"color": "FFFF0000", "data": {"message": "Added shader versions to all shaders"}}, {"color": "FFFF0000", "data": {"message": "Updated texture2D calls in highq_downscale shader"}}, {"color": "FFFF0000", "data": {"message": "Updated texture2D call in simple_texture shader"}}, {"color": "FFFF0000", "data": {"message": "Changed shader versions to match OpenGL3 profile"}}, {"color": "FFFF0000", "data": {"message": "Nearest neighbour filtering applies on all zoom levels"}}, {"color": "FFFF0000", "data": {"message": "Nearest neighbour filtering applies on all zoom levels"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Print shader error log on non-debug builds as well"}}, {"color": "FFFF0000", "data": {"message": "Load different QOpenGLFunctions if we are on OpenGL 3.0"}}]}]}, {"angle": 0.021, "label": "Frederik Gladhorn", "windows": [{"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Remove setting of QT_XCB_NO_EVENT_COMPRESSION env var\n\nSummary:\nSee https://bugreports.qt.io/browse/QTBUG-44964:\nThe patch that went into Qt 5.6.1 is:\nhttps://codereview.qt-project.org/#/c/157348/\nwhich simply disables compression.\n\nhttps://codereview.qt-project.org/#/c/156755/ was abandoned, so this\nvariable never had any effect.\n\nReviewers: #krita, rempt\n\nReviewed By: #krita, rempt\n\nSubscribers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D3066"}}]}]}, {"angle": 0.021, "label": "Patrice Kouame", "windows": [{"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' into autosave-recovery\n\n* master:\n  patch D2822: mouse wheel support for the animation timeline"}}, {"color": "FFFF0000", "data": {"message": "Fix autosave recovery bug (on macOS?)\nKDE BUG #367610"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "macOS only - Qt5.7+Xcode 8 support"}}]}]}, {"angle": 0.021, "label": "Grigory Tantsevov", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Added showing coordinates when using Move Tool.\n\nCoordinates showing in floating message in format: X: x px, Y: y px.\nX, Y means position of Left Top pixel of the moved area.\nAlso there are two spin bars, which you can use for setting image\nposition by keyboard (not only arrows).\n\nReviewers: #krita, dkazakov\nSubscribers: dkazakov, scottpetrovic, timotheegiet, Deevad\nDifferential Revision: https://phabricator.kde.org/D2238\nBUG:143306\nAuditors: #krita_manual"}}, {"color": "FFFF0000", "data": {"message": "Added ability to enter groups with PgUp/PgDown shortcuts\n\nBug fix https://bugs.kde.org/show_bug.cgi?id=336899\n\nSummary: Added ability to move to a layer group, if the group is not locked. When entering to the group from above, the top layer is activated. When entering to the group from bellow, the bottom layer is activated.\n\nReviewers: #krita, dkazakov\n\nReviewed By: #krita, dkazakov\n\nSubscribers: dkazakov, woltherav\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D2210"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Trying to fix my bad Move Tool patch.\n\nSummary: Revised method implementation MoveDiskrete. It turned out that the ending is lost when trying repetition. Added blocking signals from the spinners.\n\nReviewers: #krita, woltherav\n\nReviewed By: #krita, woltherav\n\nSubscribers: woltherav, rempt, dkazakov\n\nTags: #krita\n\nDifferential Revision: https://phabricator.kde.org/D2362"}}, {"color": "FFFF0000", "data": {"message": "Add a toggle on/off switch for pen pressure\n\nSummary:\nFeature for https://phabricator.kde.org/T3279. Button is located in the Tool Bar but not visible by defult. User can add it in Tool bar options. Has a customizable shortcut.\nBased on @dkazakov branch krita-hud-kazakov.\n\nTest Plan:\nDoes anyone have better name for button?\nUnfortunately, I haven't tablet with pen, so I can't test it, but by @dkazakov, this option seems to work.\n\nReviewers: dkazakov, #krita\n\nSubscribers: Deevad, timotheegiet, scottpetrovic, rempt, dkazakov\n\nDifferential Revision: https://phabricator.kde.org/D2308"}}]}, {"position": 6, "molecules": [{"color": "FFFF0000", "data": {"message": "Move Tool fix.\n\nFix wrong Move Tool work in Instant Preview Mode.\n\nDifferential Revision: https://phabricator.kde.org/D2890"}}]}]}, {"angle": 0.021, "label": "Nishant Rodrigues", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'nishant/ratio-option'\n\nAuditors:#krita_manual,#krita_website_and_translations\nFixes T2826"}}, {"color": "FFFF0000", "data": {"message": "KisSpacingInformation: Remove redundant isIsotropic member."}}, {"color": "FFFF0000", "data": {"message": "KisMaskGenerator::effectiveSrcHeight: Use scaleY instead of scaleX\n\nThis gets the ratio option working for \"default\" and \"soft\" brushes."}}, {"color": "FFFF0000", "data": {"message": "KisAutoBrush: override maskHeight so we get a more appropriate value when ratio < 1.0"}}, {"color": "FFFF0000", "data": {"message": "KisGaussCircleMaskGenerator: update ycoef when scale changes"}}, {"color": "FFFF0000", "data": {"message": "QImagePyramid: Correctly take into account ratio"}}, {"color": "FFFF0000", "data": {"message": "AutoBrushTest: Extract function dabSizeHelper to peform repeated test logic."}}, {"color": "FFFF0000", "data": {"message": "KisBrushOp: Add ratioOption to KisBrush and pass ratio to DabCache"}}, {"color": "FFFF0000", "data": {"message": "KisDabShape: convenience class for grouping scale, ratio and rotation."}}, {"color": "FFFF0000", "data": {"message": "Add Q_DECL_OVERRIDE to appropriate members of KisBrush"}}, {"color": "FFFF0000", "data": {"message": "Fix transformation being applied twice in DeformBrush"}}, {"color": "FFFF0000", "data": {"message": "Paintops::brushOutline(): Extract function makeTiltIndicator\n\nThe code was duplicated 8 times -- I've carefully verified the code, but cannot\ncheck if it works correctly since my tablet doesn't have a tilt sensor."}}, {"color": "FFFF0000", "data": {"message": "Make member function static. It wasn't using any class members."}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'nishant/ratio-option-skewing/366030'"}}, {"color": "FFFF0000", "data": {"message": "KisQImagePyramid: Peform scale before transform to prevent skewing of DABs\n\nReviewers: dkazakov, rempt\n\nDifferential Revision: https://phabricator.kde.org/D2463"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Undo rename of KisGrbBrush\n\nI hadn't realised that there were multiple types of Gimp brushes, until\nBoudewijn pointed it out. (I had actually indended to push this branch\nto master but messed up the git push command. Sorry about that.)\n\nRevert \"Rename KisGbrBrus to KisGimpBrush for clarity\"\nThis reverts commit 3f76127340745039414069032752cb546183699f."}}, {"color": "FFFF0000", "data": {"message": "Q_DECL_OVERRIDE -> override for consistency"}}, {"color": "FFFF0000", "data": {"message": "Rename KisGbrBrus to KisGimpBrush for clarity\n\nWe were careful not to change the id and type strings used for importing\nand exporting."}}, {"color": "FFFF0000", "data": {"message": "KisBrush: Remove unneeded friend declarations"}}, {"color": "FFFF0000", "data": {"message": "Remove commented KisGbrBrush::outline"}}, {"color": "FFFF0000", "data": {"message": "Rename KisBrushTest -> KisGrbBrushTest\n\nIt only tested the KisGrbBrushTest, and KisBrush is abstract and so not\ntestable directly."}}, {"color": "FFFF0000", "data": {"message": "Rename *Autobrush* -> AutoBrush for consistency"}}, {"color": "FFFF0000", "data": {"message": "KisBrush::characteristicSize: Fix use of shape.scaleY instead of ratio"}}, {"color": "FFFF0000", "data": {"message": "Merge branch 'nishant/autobrush-ratio-option-clipping'\n\nBesides fixing the issue with the brush rotation, this also fixes clang\nwarnings."}}, {"color": "FFFF0000", "data": {"message": "KisAutoBrush: override maskWidth and characteristicSize too\n\nThis fixes the autobrush from getting clipped when there are more than 2 spikes.\nIdeally, we'd move KisQImagePyramid::imageSize to KisBrush and make it virtual.\nmaskHeight, maskWidth, and characteristicSize would be implemented using that\n(and not vritual any more) ensuring that they are mutually consistent."}}, {"color": "FFFF0000", "data": {"message": "KisBrush: characteristicSize: take ratio into account\n\nThis fixes the value of hotspot, and fixes clipping in KisAutoBrush.\n(This only works when the number of 'spikes' is 2)\n\nFixes 367804"}}, {"color": "FFFF0000", "data": {"message": "KoToolBase, KoShape, KoPatternBackground: Remove unused Q_Ds\n\nlibs/flake/KoShape.cpp:1496:28: error: unused variable 'd' [-Werror,-Wunused-variable]\nlibs/flake/KoToolBase.cpp:60:37: error: unused variable 'd' [-Werror,-Wunused-variable]\nlibs/flake/KoPatternBackground.cpp:144:40: error: unused variable 'd' [-Werror,-Wunused-variable]"}}, {"color": "FFFF0000", "data": {"message": "kis_memory_pool_test: TestingClass make dummy member public to workaround complaints from clang\n\nlibs/image/tiles3/tests/kis_memory_pool_test.cpp:35:12: error: private field 'm_data' is not used [-Werror,-Wunused-private-field]"}}, {"color": "FFFF0000", "data": {"message": "KoStreamedMath: clearPixel, copyPixel: Fail at link time instead of runtime when unimplmemented specialization is used.\n\nThis makes it easier to catch errors.\n\nlibs/pigment/compositeops/KoStreamedMath.h:389:67: error: unused parameter 'dst' [-Werror,-Wunused-parameter]"}}, {"color": "FFFF0000", "data": {"message": "KMainWindow: Remove deprecated register keyword\n\nlibs/widgetutils/xmlgui/kmainwindow.cpp:234:5: error: register storage class specifier is deprecated and incompatible with C++1z [-Werror,-Wdeprecated-register]"}}, {"color": "FFFF0000", "data": {"message": "libs/store/KoXmlReader.cpp:140:20: error: unused function qHash [-Werror,-Wunused-function]"}}]}]}, {"angle": 0.021, "label": "Alexey Kapustin", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Show previous color in color selector\n\nWhen picking a color in color selector, the colour previously used displayed next to the box showing the current color being chosen.\nDifferential Revision: https://phabricator.kde.org/D2259\nBUG:358673"}}, {"color": "FFFF0000", "data": {"message": "FEATURE: Don't exit Isolate Layer mode when switching layer\n\nIsolation mode is now saved when you move between layers.\nWhen moving to a higher layer level , all the sub-layers are visible.\n\nNow to exit Isolate Layer you can either toggle the checkbox in\na context menu or just Alt+click on the currently selected layer.\n\nReviewers: #krita, dkazakov\nSubscribers: dkazakov, woltherav\nTags: #krita\nDifferential Revision: https://phabricator.kde.org/D2213\nCC:kimageshop@kde.org\nBUG:325052"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Add Stroke Selection Edge function\n\nTest Plan:\nBug: https://bugs.kde.org/show_bug.cgi?id=306182\nPlan of work: https://phabricator.kde.org/T3281\nAt now work:\n  - Gui-prototype\n  - Line stroke\n  - Choose size of line selection\n  - Choose color of line selection and brush selection\n  - Brush selection\n\nReviewers: dkazakov\n\nSubscribers: scottpetrovic\n\nDifferential Revision: https://phabricator.kde.org/D2302"}}]}, {"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'master' and   akapustin/stroke_selection"}}]}]}, {"angle": 0.021, "label": "Miroslav Talasek", "windows": [{"position": 5, "molecules": [{"color": "FFFF0000", "data": {"message": "New Layer from visible\n\nSummary:\nits a common function under Layer->New menu which is in gimp and ps.\nIt create /insert layer on top from visible pixels\n\nTest Plan: u can create several layers with some painting and then test this function which create new layer with all paintings together\n\nReviewers: rempt, dkazakov\n\nReviewed By: dkazakov\n\nDifferential Revision: https://phabricator.kde.org/D2428"}}]}]}, {"angle": 0.021, "label": "Timo Paulssen", "windows": [{"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "use IntPixelCoord instead of rounding for fill tool clicks\n\nfixes having to click pixels off-by-a-half-pixel to the top left\nFixes #355805"}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "make brush composite action have a name in toolbar config\n\nuntil now it just showed up as an empty line\nBUG:364080"}}, {"color": "FFFF0000", "data": {"message": "make brush composite action have a name in toolbar config\n\nuntil now it just showed up as an empty line\nBUG:364080"}}, {"color": "FFFF0000", "data": {"message": "use IntPixelCoord instead of rounding for fill tool clicks\n\nfixes having to click pixels off-by-a-half-pixel to the top left\nFixes #355805"}}]}, {"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge remote-tracking branch 'origin/grid_guide_docker_layout_fix'\n\nfixes up the grids portion of the grids & guides docker a fair bit."}}]}]}, {"angle": 0.021, "label": "Timo Paulssen", "windows": [{"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "fix layout of grid&guide docker (grid portion)\n\nmoves the aspect ratio button for offsets to the right of\nthe spin boxes\n\nputs almost all widgets into a single GridLayout\n\nreorganizes the items in the code to correspond to their order\nin the grid"}}]}]}, {"angle": 0.021, "label": "Andrew Savonichev", "windows": [{"position": 4, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG:360677 KisUpdaterContext should not kill threads in waitForDone()\n\nSummary:\nKisUpdaterContext::waitForDone() method must lock context and wait\nuntill all threads finish their current tasks.\nWe cannot call QThreadPool.waitForDone() to do this, because after\nwaiting it removes all threads from the pool.\n\nTest Plan:\nVerified that no extra threads created: 8 for global thread pool and 8 for\nKisUpdaterContext\n\n(gdb) info threads\n  Id   Target Id         Frame\n  22   Thread 0x7fff8cff9700 (LWP 18481) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  21   Thread 0x7fff8d7fa700 (LWP 18480) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  20   Thread 0x7fff8dffb700 (LWP 18479) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  19   Thread 0x7fff8e7fc700 (LWP 18478) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  18   Thread 0x7fff8effd700 (LWP 18477) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  17   Thread 0x7fff8f7fe700 (LWP 18476) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  16   Thread 0x7fff8ffff700 (LWP 18475) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  15   Thread 0x7fff9bfff700 (LWP 18474) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  13   Thread 0x7fffb8ff9700 (LWP 18471) \"QFileInfoGather\" 0x00007fffef6e291f in pthread_cond_wait () from /lib64/libpthread.so.0\n  12   Thread 0x7fffb97fa700 (LWP 18470) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  11   Thread 0x7fffb9ffb700 (LWP 18469) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  10   Thread 0x7fffba7fc700 (LWP 18468) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  9    Thread 0x7fffbaffd700 (LWP 18467) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  8    Thread 0x7fffbb7fe700 (LWP 18466) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  7    Thread 0x7fffbbfff700 (LWP 18465) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  6    Thread 0x7fffc8f8a700 (LWP 18464) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  5    Thread 0x7fffc978b700 (LWP 18463) \"Thread (pooled)\" 0x00007fffef6e2cc8 in pthread_cond_timedwait () from /lib64/libpthread.so.0\n  4    Thread 0x7fffca38d700 (LWP 18462) \"KisTileDataSwap\" 0x00007fffef6e291f in pthread_cond_wait () from /lib64/libpthread.so.0\n  3    Thread 0x7fffcab8e700 (LWP 18461) \"KisTileDataPool\" 0x00007fffef6e291f in pthread_cond_wait () from /lib64/libpthread.so.0\n  2    Thread 0x7fffe0843700 (LWP 18460) \"QXcbEventReader\" 0x00007ffff16a33ed in poll () from /lib64/libc.so.6\n* 1    Thread 0x7fffe7f3f7c0 (LWP 18456) \"krita\" 0x00007ffff16a33ed in poll () from /lib64/libc.so.6\n\nReviewers: dkazakov\n\nReviewed By: dkazakov\n\nSubscribers: fazek\nBUG:360677\nDifferential Revision: https://phabricator.kde.org/D1166"}}]}]}, {"angle": 0.021, "label": "Victor W\u00e5hlstr\u00f6m", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Allow user to input size values higher than 99 when opening .r16 files\n\nBUG: 363853"}}]}]}, {"angle": 0.021, "label": "Michael Abrahams", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Don't reset shortcuts to default when pressing \"Cancel\"\n\nBug: 362869\nManiphest Tasks: T2758"}}, {"color": "FFFF0000", "data": {"message": "Port Wintab screen size dialog\n\nSummary: Unfortunately the existing screen handling doesn't do a good enough job.\n\nReviewers: #krita:_next\n\nManiphest Tasks: T2393\n\nDifferential Revision: https://phabricator.kde.org/D1602"}}, {"color": "FFFF0000", "data": {"message": "Correctly scale splash screen for High DPI screens\n\nSummary: This should not have an effect on low DPI monitors.\n\nReviewers: #krita:_next, rempt\n\nReviewed By: #krita:_next, rempt\n\nSubscribers: rempt\n\nDifferential Revision: https://phabricator.kde.org/D1577"}}, {"color": "FFFF0000", "data": {"message": "Handle two different \"no custom shortcut\" states\n\nWe distinguish between \"use the default shortcut\" and \"turn off all\nshortcuts for this action.\"\n\nManiphest Tasks: T2439\nBUG: 362743"}}, {"color": "FFFF0000", "data": {"message": "Correctly categorize Window and Settings shortcuts\n\nCreate separate sections for Window and Settings in the\n\"Configure Shortcuts\" menu.\n\nBUG: 361578\nManiphest Tasks: T2418"}}, {"color": "FFFF0000", "data": {"message": "Fix saving shortcuts\n\nBe more careful setting \"defaultShortcuts.\" KActionCollection compares\nshortcut editor settings with defaultShortcuts property and only saves\nif they are different.\n\nManiphest Tasks: T1244\n\nBUG: 362341"}}, {"color": "FFFF0000", "data": {"message": "Fix duplicate F4 shortcut\n\nThe \"save\" shortcuts dynamically change their text, tooltips and so on,\nso the export to kritamenu.action had some incorrect metadata.\n\nManiphest Tasks: T1244"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Set rotation precision for transform tool to 2 decimals\n\nExact snapping is supported by shift+drag. Now more precise values can\nbe entered manually.\n\nBUG: 363848"}}, {"color": "FFFF0000", "data": {"message": "Share selection options across tools\n\nUse KisCanvasResourceProvider to synchronize the options across the\nvarious tool widgets.\n\nBUG: 220180"}}, {"color": "FFFF0000", "data": {"message": "Clean up duplicated code in selection tools"}}, {"color": "FFFF0000", "data": {"message": "Restore fullscreen on Windows\n\nSummary:\nMenus on top of fullscreen OpenGL windows were not visible.\n\nThere's a bunch of finger pointing with Qt saying Windows' OpenGL\nimplementation is broken. A workaround is added in Qt 5.6.\nhttp://doc.qt.io/qt-5/windows-issues.html\n\nFullscreen on Windows will then add a 1px border around the window by\ndefault. This can be worked around by patching Qt.\nhttps://bugreports.qt.io/browse/QTBUG-41309\n\nReviewers: #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D1977"}}, {"color": "FFFF0000", "data": {"message": "Snap free transform with shift key\n\nBUG: 349782"}}, {"color": "FFFF0000", "data": {"message": "Share selection options across tools\n\nUse KisCanvasResourceProvider to synchronize the options across the\nvarious tool widgets.\n\nBUG: 220180"}}, {"color": "FFFF0000", "data": {"message": "Clean up duplicated code in selection tools"}}, {"color": "FFFF0000", "data": {"message": "Restore fullscreen on Windows\n\nSummary:\nMenus on top of fullscreen OpenGL windows were not visible.\n\nThere's a bunch of finger pointing with Qt saying Windows' OpenGL\nimplementation is broken. A workaround is added in Qt 5.6.\nhttp://doc.qt.io/qt-5/windows-issues.html\n\nFullscreen on Windows will then add a 1px border around the window by\ndefault. This can be worked around by patching Qt.\nhttps://bugreports.qt.io/browse/QTBUG-41309\n\nReviewers: #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D1977"}}, {"color": "FFFF0000", "data": {"message": "Snap free transform with shift key\n\nBUG: 349782"}}, {"color": "FFFF0000", "data": {"message": "Bug 363373: Fix scaling for KoPathTool visuals\n\nSummary:\nUse cosmetic pen to draw a 1px line for any qtransform scaling.\n\nAlso remove some \"TODO\" items for configuration nobody has asked for.\n\nBUG: 363373\n\nReviewers: #krita:_stable\n\nDifferential Revision: https://phabricator.kde.org/D1970"}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Configure shift key = snap to axis in all tools\n\nSummary:\nAffects move tool, path manipulation tool, shape tool & assistant tool.\n\nAlso add \"alt\" in the move tool for precision move.\n\nBUG: 332526\n\nReviewers: #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D2004"}}, {"color": "FFFF0000", "data": {"message": "Set rotation precision for transform tool to 2 decimals\n\nExact snapping is supported by shift+drag. Now more precise values can\nbe entered manually.\n\nBUG: 363848"}}]}]}, {"angle": 0.021, "label": "Aleix Pol", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Use the standard naming scheme for the appdata files\n\nREVIEW: 128020"}}, {"color": "FFFF0000", "data": {"message": "Use the standard naming scheme for the appdata files\n\nREVIEW: 128020"}}]}]}, {"angle": 0.021, "label": "Friedrich W. H. Kossebau", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Mpre const ref with colorspaces"}}, {"color": "FFFF0000", "data": {"message": "Speedup KisConvolutionWorkerFFT: avoid QVector detaching, use iterators\n\nSummary:\nIterators for speed up for the usual reasons compared to explicit data access by [].\n\nDue to the implicit sharing logic of QVector the old code resulted\nin creation of new memory objects on each loop run:\n  QVector d;\n  for-loop\n    QVector c(d); // implicit sharing of data\n    modify-d(); // copy-on-write -> new memory object allocated for d\nThis has been changed to\n  QVector d;\n  QVector c;\n  for-loop\n    copy-data-from-c-to-d;\n    modify-d(); // nothing shared, no new memory object\n\nReviewers: dkazakov, rempt, #krita:_next\n\nReviewed By: rempt, #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D1712"}}, {"color": "FFFF0000", "data": {"message": "Speedup KisConvolutionWorkerFFT: avoid QVector detaching, use iterators\n\nSummary:\nIterators for speed up for the usual reasons compared to explicit data access by [].\n\nDue to the implicit sharing logic of QVector the old code resulted\nin creation of new memory objects on each loop run:\n  QVector d;\n  for-loop\n    QVector c(d); // implicit sharing of data\n    modify-d(); // copy-on-write -> new memory object allocated for d\nThis has been changed to\n  QVector d;\n  QVector c;\n  for-loop\n    copy-data-from-c-to-d;\n    modify-d(); // nothing shared, no new memory object\n\nReviewers: dkazakov, rempt, #krita:_next\n\nReviewed By: rempt, #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D1712"}}, {"color": "FFFF0000", "data": {"message": "More const"}}, {"color": "FFFF0000", "data": {"message": "Optimize: just get node from added vertex instead of expensive call to path"}}, {"color": "FFFF0000", "data": {"message": "Do more expensive test as second with &&"}}, {"color": "FFFF0000", "data": {"message": "Insert into QHash with .insert(), not [k] = v;"}}, {"color": "FFFF0000", "data": {"message": "Tag KoColorConversionSystem::Node as Q_MOVABLE_TYPE"}}, {"color": "FFFF0000", "data": {"message": "More const ref"}}, {"color": "FFFF0000", "data": {"message": "Make bool C::operator==() const"}}, {"color": "FFFF0000", "data": {"message": "Tag KoColorConversionSystem::NodeKey/Path as Q_MOVABLE_TYPE"}}, {"color": "FFFF0000", "data": {"message": "contains + value -> constFind/find with QHash"}}, {"color": "FFFF0000", "data": {"message": "const ref works here"}}, {"color": "FFFF0000", "data": {"message": "Bump to 3.1 Alpha"}}, {"color": "FFFF0000", "data": {"message": "More const ref"}}, {"color": "FFFF0000", "data": {"message": "Fix double-deletion crash on destruction of KisNode with KisNodeProgressProxy\n\nSummary:\nThe emission of the signal KisNodeProgressProxy::percentageChanged due to\nKisBusyProgressIndicator::endUpdatesBeforeDestroying()\nKisBusyProgressIndicator::Private::stopProgressReport()\nKisNodeProgressProxy::setRange(int, int)\nresulted in a temporary KisNodeSP being created, which called ref() and\nderef() on the KisNode object, whose KisShared part already was at 0\nref count, which results in deref() to trigger another delete call\non the KisNode.\n\nBUG: 363416\nBUG: 363470\n\nFixes T2393\n\nTest Plan: KisFileLayerTest no longer fails, other tests still as before.\n\nReviewers: #krita:_next, rempt, dkazakov\n\nDifferential Revision: https://phabricator.kde.org/D1695"}}, {"color": "FFFF0000", "data": {"message": "Fix: create Bspline coefs data consistenly in C-style\n\nSummary:\nAs spline->coefs data is created on the heap via posix_memalign()\nif HAVE_POSIX_MEMALIGN or also HAVE_SSE2 is defined. So in the\nalternative code branch it should be created in C style as well,\nusing malloc (like in the original code) and not new.\nWhich then will always match the free(spline->coefs); memory release.\n\nThe alternative, doing the release either via delete[] or free depending\non the conditions HAVE_POSIX_MEMALIGN or also HAVE_SSE2, would need\nmore changes to the code, as there are some places in the imported code\nwhere only one variant is done. Going to malloc also keeps the code closer\nto the original one.\n\nTest Plan:\ntests still pass on a machine where both #ifndef HAVE_POSIX_MEMALIGN and #ifndef\nHAVE_SSE2, so where code change affects the build\n\nReviewers: dkazakov, rempt, #krita:_next\n\nReviewed By: rempt, #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D1694"}}, {"color": "FFFF0000", "data": {"message": "Mark constructor explicit"}}, {"color": "FFFF0000", "data": {"message": "Remove unused KisNodeProgressProxy::node()"}}, {"color": "FFFF0000", "data": {"message": "Init members in order of definition, default m_batchRun explicitly to false"}}, {"color": "FFFF0000", "data": {"message": "More unlocalized storing of floating point numbers"}}, {"color": "FFFF0000", "data": {"message": "Remove unused accidental metadata for grayau8 colorspace"}}, {"color": "FFFF0000", "data": {"message": "Remove stray .directory files"}}, {"color": "FFFF0000", "data": {"message": "Mark constructor explicit"}}, {"color": "FFFF0000", "data": {"message": "More const ref"}}, {"color": "FFFF0000", "data": {"message": "Use const ref for QString argument"}}, {"color": "FFFF0000", "data": {"message": "Remove unused member"}}, {"color": "FFFF0000", "data": {"message": "Properly catch missing Vc_LIBRARIES\n\nReported upstream as https://github.com/VcDevel/Vc/issues/127"}}, {"color": "FFFF0000", "data": {"message": "Reject found Vc with version > 0.7.*"}}, {"color": "FFFF0000", "data": {"message": "Fix assert triggered for unbalanced unlock on (auto)save\n\nSummary:\nKisDocument::Private::SafeSavingLocker uses a member\nKisImageBarrierLockAdapter m_imageLock to do the locking of KisImage.\nWhich it explicitely locks and unlocks again, to keep locking in balance,\ntogether with std::try_lock.\nBut KisImageBarrierLockAdapter in its deconstructor unconditionally also\ncalls unlock on the image, without taking into account any state of other\nunlock/lock calls.\nWhich then triggers the Q_ASSERT(locked()); in KisImage::unlock().\n\nBUG: 363279\n\nReviewers: dkazakov, #krita:_next\n\nReviewed By: dkazakov, #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D1645"}}, {"color": "FFFF0000", "data": {"message": "Port to undeprecated KRecentDocument::add() variant"}}, {"color": "FFFF0000", "data": {"message": "Remove last left-over code for profiling"}}, {"color": "FFFF0000", "data": {"message": "Use fontconfig/ prefix with #include, not already in include dirs"}}, {"color": "FFFF0000", "data": {"message": "Remove more include_directories of non-existing dirs"}}, {"color": "FFFF0000", "data": {"message": "Update to <update_contact> element in appdata"}}, {"color": "FFFF0000", "data": {"message": "Fix: properly init KisGaussCircleMaskGenerator::Private with rhs values"}}, {"color": "FFFF0000", "data": {"message": "Remove include_directories of non-existing dirs"}}, {"color": "FFFF0000", "data": {"message": "Remove unneeded moc includes"}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Readd appimage build files accidentally removed in 84e2893ca5e42bc38ffa2153e919eed922bb39b6"}}, {"color": "FFFF0000", "data": {"message": "Readd appimage build files accidentally removed in 84e2893ca5e42bc38ffa2153e919eed922bb39b6"}}, {"color": "FFFF0000", "data": {"message": "Use Vc 1.1 as minimum\n\nAs Krita seems to be still the main user of Vc and thus driving the\nadaption, go straight to the latest known working version, to skip\nany problems with slightly older versions, as the latest version\n\"should\" be the best after all.\n\nReviewed By: rempt\n\nDifferential Revision: https://phabricator.kde.org/D1750"}}]}, {"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Merge branch 'krita/3.0'"}}, {"color": "FFFF0000", "data": {"message": "crashhandler has it's own catalog, rename it to kritacrashhandler.po"}}, {"color": "FFFF0000", "data": {"message": "Remove outdated include_directories for no longer existing dir"}}]}]}, {"angle": 0.021, "label": "Heiko Becker", "windows": [{"position": 3, "molecules": [{"color": "FFFF0000", "data": {"message": "Don't include fftw's and exiv2's headers with -isystem\n\nSummary:\n39e6822a01c823b74a5b1b9e75c9737a1f79049e introduced this to avoid\nwarnings from third party code. But it broke the build with gcc6\nbecause fftw and exiv2 return the default include directory via the\nrespective *_INCLUDE_DIRs on my system. There's an gcc bug report\nclosed as \"WONTFIX\" about this issue [1], which recommends not to\nuse -isystem with default include directories.\n\n[1] https://gcc.gnu.org/bugzilla/show_bug.cgi?id=70129.\n\nTest Plan: Builds fine with gcc6.\n\nReviewers: #krita:_next\n\nDifferential Revision: https://phabricator.kde.org/D2043"}}]}]}, {"angle": 0.021, "label": "Spencer Brown", "windows": [{"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Connect correct signals and slots for feather selection\n\nFixes bug 364031. https://bugs.kde.org/show_bug.cgi?id=364031"}}, {"color": "FFFF0000", "data": {"message": "Connect correct signals and slots for feather selection\n\nFixes bug 364031. https://bugs.kde.org/show_bug.cgi?id=364031"}}]}]}, {"angle": 0.021, "label": "David Faure", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix QList-out-of-bounds assert on krita startup. The selection can be empty."}}]}, {"position": 2, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix security issue: KisTemplateCreateDia.cpp:323:95: error: format not a string literal and no format arguments [-Werror=format-security]"}}]}]}, {"angle": 0.021, "label": "Nicolas L\u00e9cureuil", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "Fix libification"}}]}]}, {"angle": 0.021, "label": "Scott Petrovic", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "BUG:362952 Specific Color Selector docker becomes wider when Show Colorspace Selector is checked.\n\nreplacing the text with \"...\" resulted in a wider docker, so I just removed it for now.\n\nSigned-off-by: Scott Petrovic <scottpetrovic@gmail.com>"}}]}]}, {"angle": 0.021, "label": "Cyrille Berger", "windows": [{"position": 1, "molecules": [{"color": "FFFF0000", "data": {"message": "back to RC 1"}}, {"color": "FFFF0000", "data": {"message": "-> RC"}}, {"color": "FFFF0000", "data": {"message": "update version to RC1"}}]}]}, {"angle": 0.021, "label": "Stefano Bonicatti", "windows": []}]}
